[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nmeteorInstall = Package.modules.meteorInstall;\nPromise = Package.promise.Promise;\n_ = Package.underscore._;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\n\n","servePath":"/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"client\":{\"intro\":{\"quiz\":{\"QuizOne.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/intro/quiz/QuizOne.jsx                                                                                //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => QuizOne\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nmodule.link(\"../../public/css/intro.css\");\nlet Centered;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  }\n\n}, 1);\n\nconst Radio = (_ref) => {\n  let {\n    selected,\n    name,\n    value,\n    label,\n    onChange\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"label\", {\n    className: \"questionnaire-radio\"\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"quiz-button\",\n    type: \"radio\",\n    name: name,\n    value: value,\n    checked: selected === value,\n    onChange: onChange\n  }), label);\n};\n\nclass QuizOne extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {};\n\n    this.handleChange = event => {\n      const el = event.currentTarget;\n      this.setState({\n        [el.name]: el.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      const {\n        hasPrev,\n        hasNext,\n        onNext,\n        onPrev,\n        game,\n        player\n      } = this.props;\n      event.preventDefault();\n\n      if (this.state.response === 'yes') {\n        onNext();\n      } else {\n        player.exit(\"failedQuestion\");\n      }\n    };\n  }\n\n  render() {\n    const {\n      player\n    } = this.props;\n    const {\n      response\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Centered, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"intro-heading questionnaire-heading\"\n    }, \" Questionnaire \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"questionnaire-content-container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"questionnaire-body\"\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"questionnaire-question\"\n    }, \"Are you willing to participate in an online team exercise that could last for approximately 60 minutes?\"), /*#__PURE__*/React.createElement(Radio, {\n      selected: response,\n      name: \"response\",\n      value: \"yes\",\n      label: \"Yes\",\n      onChange: this.handleChange\n    }), /*#__PURE__*/React.createElement(Radio, {\n      selected: response,\n      name: \"response\",\n      value: \"no\",\n      label: \"No\",\n      onChange: this.handleChange\n    })), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"questionnaire-btn-container\",\n      onSubmit: this.handleSubmit\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: !response ? \"arrow-button button-submit-disabled\" : \"arrow-button button-submit\",\n      disabled: !response,\n      type: \"submit\"\n    }, \" Submit \"))));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"Consent.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/intro/Consent.jsx                                                                                     //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => Consent\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet Centered, ConsentButton;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  },\n\n  ConsentButton(v) {\n    ConsentButton = v;\n  }\n\n}, 1);\n\nclass Consent extends React.Component {\n  render() {\n    return /*#__PURE__*/React.createElement(Centered, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"consent\"\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \" Consent Form \"), /*#__PURE__*/React.createElement(\"p\", null, \"This experiment is part of a MIT scientific project. Your decision to participate in this experiment is entirely voluntary. There are no known or anticipated risks to participating in this experiment. There is no way for us to identify you. The only information we will have, in addition to your responses, is the timestamps of your interactions with our site. The results of our research may be presented at scientific meetings or published in scientific journals. Clicking on the \\\"AGREE\\\" button indicates that you are at least 18 years of age, and agree to participate voluntary.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(ConsentButton, {\n      text: \"I AGREE\"\n    })));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"NewPlayer.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/intro/NewPlayer.jsx                                                                                   //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => NewPlayer\n});\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 0);\nlet Centered;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  }\n\n}, 1);\n\nclass NewPlayer extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      id: \"\"\n    };\n\n    this.handleUpdate = event => {\n      const {\n        value,\n        name\n      } = event.currentTarget;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const {\n        handleNewPlayer\n      } = this.props;\n      const {\n        id\n      } = this.state;\n      handleNewPlayer(id);\n    };\n  }\n\n  render() {\n    const {\n      id\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Centered, null, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \"Identification\"), /*#__PURE__*/React.createElement(\"p\", null, \"Please enter your id:\"), /*#__PURE__*/React.createElement(\"input\", {\n      dir: \"auto\",\n      type: \"text\",\n      name: \"id\",\n      id: \"id\",\n      value: id,\n      onChange: this.handleUpdate,\n      required: true,\n      autoComplete: \"off\"\n    }), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\"\n    }, \"Submit\")))));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"TutorialPageFour.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/intro/TutorialPageFour.jsx                                                                            //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => TutorialPageFour\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nmodule.link(\"../../public/css/intro.css\");\nlet Centered;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  }\n\n}, 1);\n\nclass TutorialPageFour extends React.Component {\n  render() {\n    const {\n      hasPrev,\n      hasNext,\n      onNext,\n      onPrev,\n      game\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tutorial-container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title-static-image\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/title-tut3.png\"\n    })), /*#__PURE__*/React.createElement(Centered, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"two-col\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tutorial-static-image\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/tut3-slide4.png\",\n      width: \"100%\"\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tutorial-info\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"intro-heading\"\n    }, \" RECONSIDER\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/hr-color.png\",\n      width: \"180px\",\n      height: \"2px\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tutorial-body\"\n    }, \"You guess the symbol by selecting it and then selecting the submit answer button. While you are waiting for your team members to submit an answer, you will have an opportunity  to reconsider your choice. The reconsider button does not indicate you have made an incorrect choice\")))), hasPrev && /*#__PURE__*/React.createElement(\"button\", {\n      className: \"arrow-button tutorial-prev-btn\",\n      type: \"button\",\n      onClick: onPrev,\n      disabled: !hasPrev\n    }, \"Previous\"), hasNext && /*#__PURE__*/React.createElement(\"button\", {\n      className: \"arrow-button tutorial-next-btn\",\n      type: \"button\",\n      onClick: onNext,\n      disabled: !hasNext\n    }, \"Next\"));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"TutorialPageOne.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/intro/TutorialPageOne.jsx                                                                             //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => TutorialPageOne\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nmodule.link(\"../../public/css/intro.css\");\nlet Centered;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  }\n\n}, 1);\n\nclass TutorialPageOne extends React.Component {\n  render() {\n    const {\n      hasPrev,\n      hasNext,\n      onNext,\n      onPrev,\n      game\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tutorial-container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title-static-image\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/title-tut3.png\"\n    })), /*#__PURE__*/React.createElement(Centered, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"two-col\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tutorial-static-image\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/tut3-slide1.png\",\n      width: \"100%\"\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tutorial-info\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"intro-heading\"\n    }, \" THIS IS MY CARD \"), /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/hr-color.png\",\n      width: \"180px\",\n      height: \"2px\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tutorial-body\"\n    }, \"This is an experiment on effective communication. The task requires that members of a small network work together to identify abstract symbols for multiple trials. At the beginning of each trial, each member of your network will be assigned a set of symbols. One and only one of those symbols will be shared among you. Your job is to discover the shared symbol by communicating with the members of your network. Your symbols are illustrated in the \\\"my card\\\" box. When you believe you have identified the shared symbol, select it and then hit the submit answer button.\")))), hasPrev && /*#__PURE__*/React.createElement(\"button\", {\n      className: \"arrow-button tutorial-prev-btn\",\n      type: \"button\",\n      onClick: onPrev,\n      disabled: !hasPrev\n    }, \"Previous\"), hasNext && /*#__PURE__*/React.createElement(\"button\", {\n      className: \"arrow-button tutorial-next-btn\",\n      type: \"button\",\n      onClick: onNext,\n      disabled: !hasNext\n    }, \"Next\"));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"TutorialPageThree.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/intro/TutorialPageThree.jsx                                                                           //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => TutorialPageThree\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nmodule.link(\"../../public/css/intro.css\");\nlet Centered;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  }\n\n}, 1);\n\nclass TutorialPageThree extends React.Component {\n  render() {\n    const {\n      hasPrev,\n      hasNext,\n      onNext,\n      onPrev,\n      game\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tutorial-container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title-static-image\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/title-tut3.png\"\n    })), /*#__PURE__*/React.createElement(Centered, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"two-col\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tutorial-static-image\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/tut3-slide3.png\",\n      width: \"100%\"\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tutorial-info\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"intro-heading\"\n    }, \" NETWORK CONVERSATIONS \"), /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/hr-color.png\",\n      width: \"180px\",\n      height: \"2px\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tutorial-body\"\n    }, \"Each member of your network has an unique dialogue box and so you can have multiple dialogue boxes open on your screen as you communicate during a trial. You can open or close a box. You can also scroll up and down within a box to view the messages you have exchanged with a specific contact.\")))), hasPrev && /*#__PURE__*/React.createElement(\"button\", {\n      className: \"arrow-button tutorial-prev-btn\",\n      type: \"button\",\n      onClick: onPrev,\n      disabled: !hasPrev\n    }, \"Previous\"), hasNext && /*#__PURE__*/React.createElement(\"button\", {\n      className: \"arrow-button tutorial-next-btn\",\n      type: \"button\",\n      onClick: onNext,\n      disabled: !hasNext\n    }, \"Next\"));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"TutorialPageTwo.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/intro/TutorialPageTwo.jsx                                                                             //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => TutorialPageTwo\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nmodule.link(\"../../public/css/intro.css\");\nlet Centered;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  }\n\n}, 1);\n\nclass TutorialPageTwo extends React.Component {\n  render() {\n    const {\n      hasPrev,\n      hasNext,\n      onNext,\n      onPrev,\n      game\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tutorial-container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title-static-image\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/title-tut3.png\"\n    })), /*#__PURE__*/React.createElement(Centered, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"two-col\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tutorial-static-image\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/tut3-slide2.png\",\n      width: \"100%\"\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tutorial-info\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"intro-heading\"\n    }, \" THIS IS MY NETWORK \"), /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/hr-color.png\",\n      width: \"180px\",\n      height: \"2px\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tutorial-body\"\n    }, \"The members of your communication network are indicated in the \\u201Cmy network\\u201D box. You can communicate with a member of your network by selecting that individual\\u2019s name in the \\u201Cmy network\\u201D box. A communication box will open on your screen. Type the message you would like to send and when you hit return the message will be sent to the contact you selected.\")))), hasPrev && /*#__PURE__*/React.createElement(\"button\", {\n      className: \"arrow-button tutorial-prev-btn\",\n      type: \"button\",\n      onClick: onPrev,\n      disabled: !hasPrev\n    }, \"Previous\"), hasNext && /*#__PURE__*/React.createElement(\"button\", {\n      className: \"arrow-button tutorial-next-btn\",\n      type: \"button\",\n      onClick: onNext,\n      disabled: !hasNext\n    }, \"Next\"));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"chat\":{\"ChatContainer.js\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/chat/ChatContainer.js                                                                                 //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nlet _extends;\n\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default(v) {\n    _extends = v;\n  }\n\n}, 0);\n\nlet _objectWithoutProperties;\n\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default(v) {\n    _objectWithoutProperties = v;\n  }\n\n}, 1);\nmodule.export({\n  default: () => ChatContainer\n});\nmodule.link(\"./style.less\");\nlet PropTypes;\nmodule.link(\"prop-types\", {\n  default(v) {\n    PropTypes = v;\n  }\n\n}, 0);\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 1);\nlet Footer;\nmodule.link(\"./Footer\", {\n  default(v) {\n    Footer = v;\n  }\n\n}, 2);\nlet Message;\nmodule.link(\"./Message\", {\n  default(v) {\n    Message = v;\n  }\n\n}, 3);\nlet Messages;\nmodule.link(\"./Messages\", {\n  default(v) {\n    Messages = v;\n  }\n\n}, 4);\nlet ChatHeader;\nmodule.link(\"./ChatHeader\", {\n  default(v) {\n    ChatHeader = v;\n  }\n\n}, 5);\nlet ErrorBoundary;\nmodule.link(\"./ErrorBoundary\", {\n  default(v) {\n    ErrorBoundary = v;\n  }\n\n}, 6);\n\nclass ChatContainer extends React.PureComponent {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      isActive: true,\n      isOpen: true\n    };\n\n    this.onTitleClick = () => {\n      this.setState({\n        isOpen: !this.state.isOpen\n      });\n    };\n\n    this.onXClick = () => {\n      const {\n        customKey,\n        onCloseChat\n      } = this.props;\n      onCloseChat(customKey); // this.setState({ isActive: !this.state.isActive})\n    };\n\n    this.onNewMessage = msg => {\n      const {\n        onNewMessage,\n        scope,\n        customKey\n      } = this.props;\n\n      if (onNewMessage) {\n        msg = onNewMessage(msg);\n\n        if (!msg) {\n          return;\n        }\n      }\n\n      scope.append(customKey, msg);\n    };\n\n    this.componentDidMount = () => {\n      const {\n        dockStartOpen,\n        docked\n      } = this.props;\n\n      if (docked && !dockStartOpen) {\n        this.setState({\n          isOpen: false\n        });\n      }\n    };\n  }\n\n  render() {\n    const {\n      isOpen,\n      forceOpen\n    } = this.state;\n\n    const _this$props = this.props,\n          {\n      player,\n      scope,\n      customKey,\n      customClassName,\n      docked,\n      onIncomingMessage,\n      filter,\n      timeStamp,\n      otherPlayer,\n      header: HeaderComp,\n      message: MessageComp,\n      footer: FooterComp,\n      isActive,\n      onCloseChat\n    } = _this$props,\n          rest = _objectWithoutProperties(_this$props, [\"player\", \"scope\", \"customKey\", \"customClassName\", \"docked\", \"onIncomingMessage\", \"filter\", \"timeStamp\", \"otherPlayer\", \"header\", \"message\", \"footer\", \"isActive\", \"onCloseChat\"]);\n\n    const common = {\n      player,\n      scope,\n      customKey\n    };\n\n    if (!isActive) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(ErrorBoundary, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(customClassName ? customClassName : \"empirica-chat-container\", \" \").concat(docked ? \"undocked\" : \"undocked\")\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"chat \".concat(isOpen ? \"open\" : \"\")\n    }, docked && /*#__PURE__*/React.createElement(HeaderComp, _extends({}, common, {\n      otherPlayer: otherPlayer,\n      onTitleClick: this.onTitleClick,\n      onXClick: this.onXClick,\n      isOpen: isOpen\n    })), isOpen ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Messages, _extends({}, common, {\n      messageComp: MessageComp,\n      filter: filter,\n      onIncomingMessage: onIncomingMessage\n    }, rest)), /*#__PURE__*/React.createElement(FooterComp, _extends({}, common, {\n      timeStamp: timeStamp,\n      onNewMessage: this.onNewMessage\n    }))) : \"\")));\n  }\n\n}\n\nChatContainer.defaultProps = {\n  customKey: \"chat\",\n  docked: false,\n  customClassName: \"\",\n  dockStartOpen: true,\n  hideAvatar: false,\n  hideName: false,\n  svgAvatar: false,\n  hideNotificiationBadge: false,\n  // header: ({ onClick, isOpen }) => (\n  //   <div className=\"header\">\n  //     <span className=\"title\">CHAT </span>\n  //     <span className=\"close-button\" onClick={onClick}>\n  //       {isOpen ? \"-\" : \"+\"}\n  //     </span>\n  //   </div>\n  // ),\n  header: ChatHeader,\n  message: Message,\n  footer: Footer\n};\nChatContainer.propTypes = {\n  player: PropTypes.object.isRequired,\n  scope: PropTypes.object.isRequired,\n  customKey: PropTypes.string.isRequired,\n  timeStamp: PropTypes.instanceOf(Date),\n  docked: PropTypes.bool,\n  dockStartOpen: PropTypes.bool,\n  hideAvatar: PropTypes.bool,\n  hideName: PropTypes.bool,\n  svgAvatar: PropTypes.bool,\n  customClassName: PropTypes.string,\n  onNewMessage: PropTypes.func,\n  onIncomingMessage: PropTypes.func,\n  filter: PropTypes.func,\n  header: PropTypes.elementType.isRequired,\n  message: PropTypes.elementType.isRequired,\n  footer: PropTypes.elementType.isRequired\n};\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"ChatHeader.js\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/chat/ChatHeader.js                                                                                    //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => ChatHeader\n});\nmodule.link(\"./style.less\");\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\n\nclass ChatHeader extends React.PureComponent {\n  render() {\n    const {\n      otherPlayer,\n      onTitleClick,\n      onXClick,\n      isOpen\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"title\",\n      onClick: onTitleClick\n    }, \" \", otherPlayer, \" \"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"close-button\",\n      onClick: onXClick\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/icon-net-window-close.png\",\n      width: \"17px\",\n      height: \"17px\"\n    })));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"ErrorBoundary.js\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/chat/ErrorBoundary.js                                                                                 //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => ErrorBoundary\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasError: false\n    };\n  }\n\n  static getDerivedStateFromError(error) {\n    return {\n      hasError: true\n    };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    console.error(\"error on chat package \", error);\n    console.error(\"error on chat package:info \", errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return /*#__PURE__*/React.createElement(\"h1\", null, \"Something went wrong.\");\n    }\n\n    return this.props.children;\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Footer.js\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/chat/Footer.js                                                                                        //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nlet _objectSpread;\n\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default(v) {\n    _objectSpread = v;\n  }\n\n}, 0);\nmodule.export({\n  default: () => Footer\n});\nmodule.link(\"./style.less\");\nlet PropTypes;\nmodule.link(\"prop-types\", {\n  default(v) {\n    PropTypes = v;\n  }\n\n}, 0);\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 1);\n\nclass Footer extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      comment: \"\",\n      rows: 1,\n      minRows: 1,\n      maxRows: 5,\n      buttonHeight: 30\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const text = this.state.comment.trim();\n\n      if (text === \"\") {\n        return;\n      }\n\n      const {\n        player,\n        onNewMessage,\n        timeStamp\n      } = this.props;\n      let msg = {\n        text,\n        player: {\n          _id: player._id,\n          avatar: player.get(\"avatar\"),\n          name: player.get(\"name\") || player._id\n        }\n      };\n\n      if (timeStamp) {\n        msg = _objectSpread({}, msg, {\n          timeStamp\n        });\n      }\n\n      onNewMessage(msg);\n      this.setState({\n        comment: \"\"\n      });\n    };\n\n    this.handleChange = e => {\n      const el = e.currentTarget;\n      const textareaLineHeight = 24;\n      const {\n        minRows,\n        maxRows\n      } = this.state;\n      const previousRows = e.target.rows;\n      e.target.rows = minRows; // reset number of rows in textarea\n\n      const currentRows = ~~(e.target.scrollHeight / textareaLineHeight);\n\n      if (currentRows === previousRows) {\n        e.target.rows = currentRows;\n      }\n\n      if (currentRows >= maxRows) {\n        e.target.rows = maxRows;\n        e.target.scrollTop = e.target.scrollHeight;\n      }\n\n      const usedRows = currentRows < maxRows ? currentRows : maxRows;\n      this.setState({\n        [el.name]: el.value,\n        rows: usedRows\n      }, () => {\n        this.setState({\n          buttonHeight: document.getElementById(\"chat-input\").offsetHeight\n        });\n      });\n    };\n  }\n\n  render() {\n    const {\n      comment,\n      rows,\n      buttonHeight\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"form\", {\n      className: \"chat-footer-form\",\n      onSubmit: this.handleSubmit\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"chat-footer\"\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      id: \"chat-input\",\n      name: \"comment\",\n      className: \"chat-input\",\n      placeholder: \"My message\",\n      value: comment,\n      onKeyPress: e => {\n        if (e.key === \"Enter\") {\n          this.handleSubmit(e);\n        }\n      },\n      rows: rows,\n      onChange: this.handleChange,\n      autoComplete: \"off\"\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      form: \"chat-input\",\n      className: \"chat-button-send\",\n      disabled: !comment,\n      onClick: this.handleSubmit\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/icon-enter.png\",\n      width: \"15px\",\n      height: \"17px\"\n    })));\n  }\n\n}\n\nFooter.propTypes = {\n  player: PropTypes.object.isRequired,\n  scope: PropTypes.object.isRequired,\n  customKey: PropTypes.string.isRequired,\n  onNewMessage: PropTypes.func,\n  timeStamp: PropTypes.instanceOf(Date)\n};\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Message.js\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/chat/Message.js                                                                                       //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => Message\n});\nlet PropTypes;\nmodule.link(\"prop-types\", {\n  default(v) {\n    PropTypes = v;\n  }\n\n}, 0);\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 1);\nlet isString;\nmodule.link(\"lodash\", {\n  isString(v) {\n    isString = v;\n  }\n\n}, 2);\n\nclass Message extends React.Component {\n  constructor() {\n    super(...arguments);\n\n    this.renderTime = timeStamp => {\n      const hours = new Date(timeStamp).getHours();\n      const minutes = new Date(timeStamp).getMinutes();\n\n      if (!hours || !minutes) {\n        return null;\n      }\n\n      const time = \"\".concat(hours.toString().padStart(2, 0), \":\").concat(minutes.toString().padStart(2, 0));\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"timeStamp\"\n      }, time);\n    };\n\n    this.renderName = (isSelf, name) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"name\"\n      }, isSelf ? \"You\" : name);\n    };\n  }\n\n  render() {\n    const {\n      message,\n      player,\n      hideName,\n      hideAvatar,\n      svgAvatar,\n      avatar\n    } = this.props;\n    const {\n      player: msgPlayer,\n      text,\n      timeStamp\n    } = message;\n    const isSelf = player._id == msgPlayer._id;\n    let avatarImg;\n    const useAvatar = !hideAvatar && (svgAvatar || avatar);\n\n    if (useAvatar && avatar) {\n      if (isString(avatar)) {\n        console.warn(\"Deprecation: avatar should be an object containing a src or svg property\");\n        avatarImg = /*#__PURE__*/React.createElement(\"img\", {\n          className: \"avatar\",\n          alt: '',\n          src: avatar\n        });\n      } else {\n        const avatarSrc = avatar.svg || avatar.src;\n\n        if (avatar.svg) {\n          avatarImg = /*#__PURE__*/React.createElement(\"div\", {\n            dangerouslySetInnerHTML: {\n              __html: avatarSrc\n            },\n            className: \"avatar\"\n          });\n        } else {\n          avatarImg = /*#__PURE__*/React.createElement(\"img\", {\n            className: \"avatar\",\n            alt: avatar.alt,\n            src: avatar.src\n          });\n        }\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", null, !isSelf ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"other-message-tick-container\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/net-bubble.png\",\n      width: \"15px\",\n      height: \"10px\"\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-container-other\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text\"\n    }, text))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-container-self\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text\"\n    }, text)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"self-message-tick-container\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/my-bubble.png\",\n      width: \"15px\",\n      height: \"10px\"\n    }))));\n  }\n\n}\n\nMessage.propTypes = {\n  message: PropTypes.shape({\n    text: PropTypes.string.isRequired,\n    player: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      avatar: PropTypes.string\n    })\n  }).isRequired,\n  self: PropTypes.bool,\n  hideAvatar: PropTypes.bool,\n  hideName: PropTypes.bool,\n  svgAvatar: PropTypes.bool,\n  avatar: PropTypes.shape({\n    svg: PropTypes.string,\n    src: PropTypes.string,\n    alt: PropTypes.string\n  })\n};\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Messages.js\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/chat/Messages.js                                                                                      //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nlet _objectWithoutProperties;\n\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default(v) {\n    _objectWithoutProperties = v;\n  }\n\n}, 0);\n\nlet _extends;\n\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default(v) {\n    _extends = v;\n  }\n\n}, 1);\nlet PropTypes;\nmodule.link(\"prop-types\", {\n  default(v) {\n    PropTypes = v;\n  }\n\n}, 0);\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 1);\n\nfunction filteredMessages(WrappedComponent) {\n  return class extends React.Component {\n    render() {\n      const {\n        scope,\n        customKey,\n        filter\n      } = this.props;\n      let messages = scope.get(customKey) || [];\n\n      if (filter) {\n        messages = filter(messages);\n      }\n\n      return /*#__PURE__*/React.createElement(WrappedComponent, _extends({\n        messages: [...messages]\n      }, this.props));\n    }\n\n  };\n}\n\nclass Messages extends React.Component {\n  constructor(props) {\n    super(props);\n    this.messagesEl = React.createRef();\n    this.state = {\n      messageLength: 0\n    };\n  }\n\n  componentDidMount() {\n    this.messagesEl.current.scrollTop = this.messagesEl.current.scrollHeight;\n    this.setState({\n      messageLength: this.props.messages.length\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      messageLength\n    } = this.state;\n    const {\n      messages: currentMessages,\n      onIncomingMessage,\n      customKey\n    } = this.props;\n\n    if (this.messagesEl.current !== null && currentMessages.length > messageLength) {\n      this.setState({\n        messageLength: currentMessages.length\n      }, () => {\n        if (onIncomingMessage) {\n          onIncomingMessage(currentMessages.splice(this.state.messageLength), customKey);\n        }\n\n        this.messagesEl.current.scrollTop = this.messagesEl.current.scrollHeight;\n      });\n    }\n  }\n\n  render() {\n    const _this$props = this.props,\n          {\n      player,\n      messages,\n      messageComp: MessageComp\n    } = _this$props,\n          rest = _objectWithoutProperties(_this$props, [\"player\", \"messages\", \"messageComp\"]);\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"messages\",\n      ref: this.messagesEl\n    }, messages.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"empty\"\n    }, \"No messages yet...\") : null, messages.map((message, i) => {\n      return /*#__PURE__*/React.createElement(MessageComp, _extends({\n        key: i,\n        message: message,\n        player: player\n      }, rest));\n    }));\n  }\n\n}\n\nMessages.propTypes = {\n  player: PropTypes.object,\n  messageComp: PropTypes.elementType,\n  filter: PropTypes.func,\n  onIncomingMessage: PropTypes.func,\n  hideAvatar: PropTypes.bool,\n  hideName: PropTypes.bool,\n  svgAvatar: PropTypes.bool,\n  customKey: PropTypes.string\n};\nmodule.exportDefault(filteredMessages(Messages));\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"style.less\":function module(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/chat/style.less                                                                                       //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\n// These styles have already been applied to the document.\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"exit\":{\"ExitSurvey.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/exit/ExitSurvey.jsx                                                                                   //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => ExitSurvey\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet Centered;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  }\n\n}, 1);\n\nconst Radio = (_ref) => {\n  let {\n    selected,\n    name,\n    value,\n    label,\n    onChange\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"label\", null, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    name: name,\n    value: value,\n    checked: selected === value,\n    onChange: onChange\n  }), label);\n};\n\nclass ExitSurvey extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      age: \"\",\n      gender: \"\",\n      strength: \"\",\n      fair: \"\",\n      feedback: \"\"\n    };\n\n    this.handleChange = event => {\n      const el = event.currentTarget;\n      this.setState({\n        [el.name]: el.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      this.props.onSubmit(this.state);\n    };\n  }\n\n  render() {\n    const {\n      player\n    } = this.props;\n    const {\n      age,\n      gender,\n      strength,\n      fair,\n      feedback,\n      education\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Centered, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"exit-survey\"\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \" Exit Survey \"), /*#__PURE__*/React.createElement(\"p\", null, \"Please submit the following code to receive your bonus:\", \" \", /*#__PURE__*/React.createElement(\"strong\", null, player._id), \".\"), /*#__PURE__*/React.createElement(\"p\", null, \"You final \", /*#__PURE__*/React.createElement(\"strong\", null, \"bonus\"), \" is in addition of the\", \" \", /*#__PURE__*/React.createElement(\"strong\", null, \"1 base reward\"), \" for completing the HIT.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"p\", null, \"Please answer the following short survey. You do not have to provide any information you feel uncomfortable with.\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-line\"\n    }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"age\"\n    }, \"Age\"), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"age\",\n      type: \"number\",\n      min: \"0\",\n      max: \"150\",\n      step: \"1\",\n      dir: \"auto\",\n      name: \"age\",\n      value: age,\n      onChange: this.handleChange\n    }))), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"gender\"\n    }, \"Gender\"), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"gender\",\n      type: \"text\",\n      dir: \"auto\",\n      name: \"gender\",\n      value: gender,\n      onChange: this.handleChange,\n      autoComplete: \"off\"\n    })))), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", null, \"Highest Education Qualification\"), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Radio, {\n      selected: education,\n      name: \"education\",\n      value: \"high-school\",\n      label: \"High School\",\n      onChange: this.handleChange\n    }), /*#__PURE__*/React.createElement(Radio, {\n      selected: education,\n      name: \"education\",\n      value: \"bachelor\",\n      label: \"US Bachelor's Degree\",\n      onChange: this.handleChange\n    }), /*#__PURE__*/React.createElement(Radio, {\n      selected: education,\n      name: \"education\",\n      value: \"master\",\n      label: \"Master's or higher\",\n      onChange: this.handleChange\n    }), /*#__PURE__*/React.createElement(Radio, {\n      selected: education,\n      name: \"education\",\n      value: \"other\",\n      label: \"Other\",\n      onChange: this.handleChange\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-line thirds\"\n    }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"strength\"\n    }, \"How would you describe your strength in the game?\"), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"textarea\", {\n      dir: \"auto\",\n      id: \"strength\",\n      name: \"strength\",\n      value: strength,\n      onChange: this.handleChange\n    }))), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"fair\"\n    }, \"Do you feel the pay was fair?\"), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"textarea\", {\n      dir: \"auto\",\n      id: \"fair\",\n      name: \"fair\",\n      value: fair,\n      onChange: this.handleChange\n    }))), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"feedback\"\n    }, \"Feedback, including problems you encountered.\"), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"textarea\", {\n      dir: \"auto\",\n      id: \"feedback\",\n      name: \"feedback\",\n      value: feedback,\n      onChange: this.handleChange\n    })))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\"\n    }, \"Submit\"))));\n  }\n\n}\n\nExitSurvey.stepName = \"ExitSurvey\";\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Sorry.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/exit/Sorry.jsx                                                                                        //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => Sorry\n});\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 0);\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 1);\nlet Centered;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  }\n\n}, 2);\n\nclass Sorry extends Component {\n  render() {\n    const {\n      player,\n      game\n    } = this.props;\n    let msg;\n    console.log(player);\n\n    switch (player.exitStatus) {\n      case \"gameFull\":\n        msg = \"All games you are eligible for have filled up too fast...\";\n        break;\n\n      case \"gameLobbyTimedOut\":\n        msg = \"There were NOT enough players for the game to start...\";\n        break;\n\n      case \"playerEndedLobbyWait\":\n        msg = \"You decided to stop waiting, we are sorry it was too long a wait.\";\n        break;\n\n      default:\n        msg = \"Unfortunately the Game was cancelled...\";\n        break;\n    }\n\n    if (player.exitReason === \"failedQuestion\") {\n      msg = \"Unfortunately you did not meet the conditions required to play the game.\";\n    } // Only for dev\n\n\n    if (!game && Meteor.isDevelopment) {\n      msg = \"Unfortunately the Game was cancelled because of failed to init Game (only visible in development, check the logs).\";\n    }\n\n    return /*#__PURE__*/React.createElement(Centered, null, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h4\", null, \"Sorry!\"), /*#__PURE__*/React.createElement(\"p\", null, \"Sorry, you were not able to play today! \", msg), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"strong\", null, \"Please contact the researcher to see if there are more games available.\"))));\n  }\n\n}\n\nSorry.stepName = \"Sorry\";\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Thanks.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/exit/Thanks.jsx                                                                                       //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => Thanks\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet Centered;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  }\n\n}, 1);\n\nclass Thanks extends React.Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"finished\"\n    }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h4\", null, \"Finished!\"), /*#__PURE__*/React.createElement(\"p\", null, \"Thank you for participating!\")));\n  }\n\n}\n\nThanks.stepName = \"Thanks\";\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"game\":{\"About.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/About.jsx                                                                                        //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => About\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\n\nclass About extends React.Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, \"Here be the presentation of the experiement(ers).\");\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"MyNetwork.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/MyNetwork.jsx                                                                                    //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => MyNetwork\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet PlayerTab;\nmodule.link(\"./PlayerTab\", {\n  default(v) {\n    PlayerTab = v;\n  }\n\n}, 1);\n\nclass MyNetwork extends React.Component {\n  render() {\n    const {\n      game,\n      stage,\n      round,\n      player,\n      onOpenChat\n    } = this.props;\n    const network = player.get(\"neighbors\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"network-container\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"network-header\"\n    }, \" MY NETWORK\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"network-all-players-container\"\n    }, network.map(otherNodeId => {\n      // const otherPlayerId = game.players.find(p => p.get(\"nodeId\") === parseInt(otherNodeId)).id;\n      return /*#__PURE__*/React.createElement(PlayerTab, {\n        game: game,\n        otherPlayerNodeId: otherNodeId,\n        openChat: onOpenChat\n      });\n    })));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"PlayerProfile.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/PlayerProfile.jsx                                                                                //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => PlayerProfile\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet Timer;\nmodule.link(\"./Timer.jsx\", {\n  default(v) {\n    Timer = v;\n  }\n\n}, 1);\n\nclass PlayerProfile extends React.Component {\n  renderProfile() {\n    const {\n      player\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-score\"\n    }, /*#__PURE__*/React.createElement(\"h3\", null, \"Your Profile\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: player.get(\"avatar\"),\n      className: \"profile-avatar\"\n    }));\n  }\n\n  renderScore() {\n    const {\n      player\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-score\"\n    }, /*#__PURE__*/React.createElement(\"h4\", null, \"Total score\"), /*#__PURE__*/React.createElement(\"span\", null, (player.get(\"score\") || 0).toFixed(2)));\n  }\n\n  render() {\n    const {\n      stage\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"aside\", {\n      className: \"player-profile\"\n    }, this.renderProfile(), this.renderScore(), /*#__PURE__*/React.createElement(Timer, {\n      stage: stage\n    }));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"PlayerTab.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/PlayerTab.jsx                                                                                    //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => PlayerTab\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\n\nclass PlayerTab extends React.Component {\n  constructor() {\n    super(...arguments);\n\n    this.handleOpenChat = () => {\n      console.log(this.props);\n      const {\n        otherPlayerNodeId,\n        openChat\n      } = this.props;\n      openChat(otherPlayerNodeId);\n    };\n  }\n\n  render() {\n    const {\n      game,\n      otherPlayerNodeId,\n      openChat\n    } = this.props;\n    const otherPlayerId = game.players.find(p => p.get(\"nodeId\") === parseInt(otherPlayerNodeId)).id;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"network-player-container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"network-name-container\",\n      onClick: this.handleOpenChat\n    }, otherPlayerId), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"network-avatar-container\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/icon-profile-white.png\",\n      width: \"25px\",\n      height: \"25px\"\n    })));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Results.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/Results.jsx                                                                                      //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => Round\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\n\nclass Round extends React.Component {\n  render() {\n    const {\n      stage,\n      round,\n      game\n    } = this.props;\n    const result = round.get(\"result\");\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h1\", null, \" Your team was \", result ? \"CORRECT\" : \"INCORRECT\", \" !\"));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Round.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/Round.jsx                                                                                        //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => Round\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet PlayerProfile;\nmodule.link(\"./PlayerProfile.jsx\", {\n  default(v) {\n    PlayerProfile = v;\n  }\n\n}, 1);\nlet SocialExposure;\nmodule.link(\"./SocialExposure.jsx\", {\n  default(v) {\n    SocialExposure = v;\n  }\n\n}, 2);\nlet MyNetwork;\nmodule.link(\"./MyNetwork.jsx\", {\n  default(v) {\n    MyNetwork = v;\n  }\n\n}, 3);\nlet StageResult;\nmodule.link(\"./StageResult.jsx\", {\n  default(v) {\n    StageResult = v;\n  }\n\n}, 4);\nlet Results;\nmodule.link(\"./Results.jsx\", {\n  default(v) {\n    Results = v;\n  }\n\n}, 5);\nlet Task;\nmodule.link(\"./Task.jsx\", {\n  default(v) {\n    Task = v;\n  }\n\n}, 6);\nlet Timer;\nmodule.link(\"./Timer.jsx\", {\n  default(v) {\n    Timer = v;\n  }\n\n}, 7);\n\nclass Round extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onOpenChat = otherPlayerNodeId => {\n      const {\n        player\n      } = this.props;\n      var pairOfPlayers = [player.get(\"nodeId\"), parseInt(otherPlayerNodeId)];\n      pairOfPlayers.sort((p1, p2) => p1 - p2);\n      var customKey = \"\".concat(pairOfPlayers[0], \"-\").concat(pairOfPlayers[1]);\n      console.log(this.state);\n      console.log(this.state.activeChats);\n\n      if (!this.state.activeChats.includes(customKey)) {\n        this.state.activeChats.push(customKey);\n      }\n\n      console.log(this.state);\n    };\n\n    this.onCloseChat = customKey => {\n      const newActiveChats = this.state.activeChats.filter(chat => chat !== customKey);\n      this.setState({\n        activeChats: newActiveChats\n      });\n      console.log(this.state);\n    };\n\n    this.state = {\n      activeChats: []\n    };\n  }\n\n  render() {\n    const {\n      stage,\n      round,\n      player,\n      game\n    } = this.props; // const showResults = stage.get(\"showResults\");\n    // if (showResults) {\n    //   const result = stage.get(\"result\")\n    //   return (\n    //   <div>\n    //     <StageResult stage={stage} showResults={showResults} result={result} timer={10}/>\n    //   </div>\n    //   )\n    // }\n\n    if (stage.name === \"Result\") {\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Results, {\n        game: game,\n        round: round,\n        stage: stage\n      }), /*#__PURE__*/React.createElement(Timer, {\n        stage: stage\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"round\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"content\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"task-network-container\"\n      }, /*#__PURE__*/React.createElement(Task, {\n        game: game,\n        round: round,\n        stage: stage,\n        player: player\n      }), /*#__PURE__*/React.createElement(MyNetwork, {\n        game: game,\n        round: round,\n        stage: stage,\n        player: player,\n        onOpenChat: otherPlayerNodeId => this.onOpenChat(otherPlayerNodeId)\n      })), /*#__PURE__*/React.createElement(SocialExposure, {\n        game: game,\n        round: round,\n        stage: stage,\n        player: player,\n        onCloseChat: customKey => this.onCloseChat(customKey),\n        activeChats: this.state.activeChats\n      })));\n    }\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"SocialExposure.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/SocialExposure.jsx                                                                               //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => SocialExposure\n});\nmodule.link(\"../chat/style.less\");\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet Chat;\nmodule.link(\"@empirica/chat\", {\n  Chat(v) {\n    Chat = v;\n  }\n\n}, 1);\nlet ChatContainer;\nmodule.link(\"../chat/ChatContainer.js\", {\n  default(v) {\n    ChatContainer = v;\n  }\n\n}, 2);\nlet Message;\nmodule.link(\"../chat/Message.js\", {\n  default(v) {\n    Message = v;\n  }\n\n}, 3);\nlet Footer;\nmodule.link(\"../chat/Footer.js\", {\n  default(v) {\n    Footer = v;\n  }\n\n}, 4);\nlet TimeSync;\nmodule.link(\"meteor/mizzao:timesync\", {\n  TimeSync(v) {\n    TimeSync = v;\n  }\n\n}, 5);\nlet moment;\nmodule.link(\"moment\", {\n  default(v) {\n    moment = v;\n  }\n\n}, 6);\nlet Slider;\nmodule.link(\"meteor/empirica:slider\", {\n  default(v) {\n    Slider = v;\n  }\n\n}, 7);\n\nclass SocialExposure extends React.Component {\n  constructor() {\n    super(...arguments);\n\n    this.logIncomingMessage = (msgs, customKey) => {\n      const {\n        game,\n        round,\n        stage,\n        player\n      } = this.props;\n      const messages = round.get(\"\".concat(customKey));\n      const mostRecentMsg = messages[messages.length - 1];\n      const receiver = mostRecentMsg.player._id; // TODO: Check if this only appends if player chat is open\n      // onIncomingMessage logs the message for both sender and receiver\n      // Only log one copy of the message\n\n      if (player._id === receiver) {\n        stage.append(\"log\", {\n          verb: \"messageLog\",\n          subjectId: player.id,\n          object: mostRecentMsg,\n          at: moment(TimeSync.serverTime(null, 1000))\n        });\n      }\n    };\n  }\n\n  renderSocialInteraction(otherPlayer) {\n    const value = otherPlayer.round.get(\"value\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alter\",\n      key: otherPlayer._id\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: otherPlayer.get(\"avatar\"),\n      className: \"profile-avatar\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"range\"\n    }, /*#__PURE__*/React.createElement(Slider, {\n      min: 0,\n      max: 1,\n      stepSize: 0.01,\n      value: value,\n      disabled: true,\n      hideHandleOnEmpty: true\n    })));\n  }\n\n  render() {\n    const {\n      game,\n      round,\n      player,\n      onCloseChat,\n      activeChats\n    } = this.props;\n    const network = player.get(\"neighbors\"); // reactive time value only updates at 1000 ms\n\n    const timeStamp = new Date(TimeSync.serverTime(null, 1000));\n\n    if (network.length === 0) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"all-chats-container\"\n    }, network.map(otherNodeId => {\n      var pairOfPlayers = [player.get(\"nodeId\"), parseInt(otherNodeId)];\n      pairOfPlayers.sort((p1, p2) => p1 - p2);\n      const otherPlayerId = game.players.find(p => p.get(\"nodeId\") === parseInt(otherNodeId)).id;\n      const chatKey = \"\".concat(pairOfPlayers[0], \"-\").concat(pairOfPlayers[1]);\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(ChatContainer, {\n        docked: true,\n        key: otherNodeId,\n        player: player,\n        otherPlayer: otherPlayerId,\n        scope: round,\n        timeStamp: timeStamp,\n        customClassName: \"ray-chat-container\",\n        message: Message,\n        footer: Footer,\n        onIncomingMessage: this.logIncomingMessage,\n        customKey: chatKey // isActive={activeChats.includes(chatKey)}\n        ,\n        isActive: true,\n        onCloseChat: onCloseChat\n      }));\n    }));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"StageResult.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/StageResult.jsx                                                                                  //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => StageResult\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\n\nclass StageResult extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      counter: props.timer\n    };\n  }\n\n  finishDisplay() {\n    const {\n      stage\n    } = this.props;\n    stage.set(\"resultsShown\", true);\n  }\n\n  render() {\n    if (this.props.showResults) {\n      let x = this;\n      let {\n        counter\n      } = this.state;\n      let timer = setTimeout(function () {\n        if (counter > 0) {\n          x.setState({\n            counter: counter - 1\n          });\n        } else {\n          x.finishDisplay(); // x.props.finishDisplay();\n        }\n      }, 1000);\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h1\", null, \" Your team was \", this.props.result ? \"CORRECT\" : \"INCORRECT\", \" !\"), /*#__PURE__*/React.createElement(\"h3\", null, \" SECONDS LEFT: \", this.state.counter, \" \"));\n    } else {\n      return /*#__PURE__*/React.createElement(\"h1\", null, \" TIME UP \");\n    }\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"SymbolButton.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/SymbolButton.jsx                                                                                 //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => SymbolButton\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\n\nclass SymbolButton extends React.Component {\n  /* \n    @prop id - id of the symbol\n    @prop name - name of the symbol (TESTING PURPOSES)\n  */\n  constructor(props) {\n    super(props);\n\n    this.handleClick = () => {\n      const {\n        game,\n        player,\n        stage,\n        name,\n        handleButtonSelect\n      } = this.props;\n      player.set(\"symbolSelected\", name);\n      handleButtonSelect(name);\n      console.log(\"\".concat(player.get(\"nodeId\"), \" selected \").concat(name));\n    };\n  } // When button is selected, player sets the id of the button he selected\n\n\n  render() {\n    const {\n      game,\n      stage,\n      player,\n      name,\n      selected\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"symbol-container\"\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: selected ? \"symbolButtonSelected\" : \"symbolButtonUnselected\",\n      onClick: this.handleClick\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/symbols/tangrams/\".concat(name, \".png\"),\n      height: \"80px\",\n      width: \"80px\"\n    })));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Task.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/Task.jsx                                                                                         //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => Task\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet TaskResponse;\nmodule.link(\"./TaskResponse\", {\n  default(v) {\n    TaskResponse = v;\n  }\n\n}, 1);\nlet TaskStimulus;\nmodule.link(\"./TaskStimulus\", {\n  default(v) {\n    TaskStimulus = v;\n  }\n\n}, 2);\n\nclass Task extends React.Component {\n  render() {\n    const {\n      stage,\n      player,\n      game\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"task-container\"\n    }, /*#__PURE__*/React.createElement(TaskResponse, this.props));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"TaskResponse.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/TaskResponse.jsx                                                                                 //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => TaskResponse\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet Slider;\nmodule.link(\"meteor/empirica:slider\", {\n  default(v) {\n    Slider = v;\n  }\n\n}, 1);\nlet TimeSync;\nmodule.link(\"meteor/mizzao:timesync\", {\n  TimeSync(v) {\n    TimeSync = v;\n  }\n\n}, 2);\nlet moment;\nmodule.link(\"moment\", {\n  default(v) {\n    moment = v;\n  }\n\n}, 3);\nlet SymbolButton;\nmodule.link(\"./SymbolButton.jsx\", {\n  default(v) {\n    SymbolButton = v;\n  }\n\n}, 4);\n\nclass TaskResponse extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = event => {\n      const {\n        stage,\n        player,\n        game\n      } = this.props;\n      event.preventDefault();\n      stage.append(\"log\", {\n        verb: \"playerSubmitted\",\n        subjectId: player.id,\n        object: true,\n        at: moment(TimeSync.serverTime(null, 1000))\n      });\n      player.set(\"submitted\", true);\n    };\n\n    this.handleReconsider = event => {\n      const {\n        stage,\n        player,\n        game\n      } = this.props;\n      event.preventDefault();\n      console.log(\"Reconsidering...\");\n      player.set(\"submitted\", false);\n      stage.append(\"log\", {\n        verb: \"playerReconsidered\",\n        subjectId: player.id,\n        object: true,\n        at: moment(TimeSync.serverTime(null, 1000))\n      }); // this.setState({selectedButton: \"\"});\n    };\n\n    this.handleButtonSelect = symbolName => {\n      const {\n        stage,\n        player,\n        game\n      } = this.props; // stage.set(\"selectedButton\", symbolName);\n\n      this.setState({\n        selectedButton: symbolName\n      });\n      stage.append(\"log\", {\n        verb: \"selectingSymbol\",\n        subjectId: player.id,\n        object: symbolName,\n        at: moment(TimeSync.serverTime(null, 1000))\n      });\n    };\n\n    this.state = {\n      selectedButton: props.player.get(\"symbolSelected\") | \"\"\n    };\n  }\n\n  renderSubmitted() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h5\", null, \"Waiting on other players...\"), \"Please wait until all players are ready. If you would like to reconsider your answer, click on the reconsider button.\");\n  }\n\n  renderSlider() {\n    const {\n      player\n    } = this.props;\n    const value = player.round.get(\"value\");\n    return /*#__PURE__*/React.createElement(Slider, {\n      min: 0,\n      max: 1,\n      stepSize: 0.01,\n      labelStepSize: 0.25,\n      onChange: this.handleChange,\n      value: value,\n      hideHandleOnEmpty: true\n    });\n  }\n\n  renderButton() {\n    const {\n      stage,\n      player,\n      game\n    } = this.props; // const task = stage.get(\"task\");\n\n    const selectedSymbol = player.get(\"symbolSelected\");\n    const task = player.get(\"\".concat(stage.displayName));\n    return task.map(symbol => /*#__PURE__*/React.createElement(SymbolButton, {\n      key: symbol,\n      name: symbol,\n      handleButtonSelect: symbolName => this.handleButtonSelect(symbolName),\n      selected: selectedSymbol === symbol,\n      stage: stage,\n      game: game,\n      player: player\n    }));\n  }\n\n  render() {\n    const {\n      stage,\n      round,\n      player,\n      game\n    } = this.props;\n    const selected = player.get(\"symbolSelected\");\n    const submitted = player.get(\"submitted\"); // Create a list of dots to show how many players submitted\n\n    const playersSubmitted = round.get(\"numPlayersSubmitted\");\n    const playersNotSubmitted = game.players.length - playersSubmitted;\n    let filledDots = [];\n    let unfilledDots = [];\n\n    for (let i = 0; i < playersSubmitted; i++) {\n      filledDots.push( /*#__PURE__*/React.createElement(\"span\", {\n        className: \"filled-dot\"\n      }));\n    }\n\n    for (let i = 0; i < playersNotSubmitted; i++) {\n      unfilledDots.push( /*#__PURE__*/React.createElement(\"span\", {\n        className: \"empty-dot\"\n      }));\n    } // If the player already submitted, don't show the slider or submit button\n\n\n    const disabled = player.get(\"submitted\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"task-response-container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"task-response-header\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"header\"\n    }, \" MY CARD\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"submission-dots-container\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"header\"\n    }, \" SUBMITTED ANSWERS \"), filledDots, unfilledDots)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"task-response-body\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"submission-message-container\"\n    }, submitted ? this.renderSubmitted() : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"task-response\"\n    }, this.renderButton())), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button-container\"\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      style: {\n        opacity: submitted ? 0 : 1\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: !selected || submitted ? \"arrow-button button-submit-disabled\" : \"arrow-button button-submit\",\n      disabled: !selected || submitted ? true : false,\n      type: \"submit\"\n    }, \" Submit \")), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleReconsider,\n      style: {\n        opacity: !submitted ? 0 : 1\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"arrow-button button-reconsider\",\n      disabled: !submitted ? true : false\n    }, \" Reconsider \"))));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"TaskStimulus.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/TaskStimulus.jsx                                                                                 //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => TaskStimulus\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\n\nclass TaskStimulus extends React.Component {\n  render() {\n    const {\n      stage,\n      player\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"task-stimulus\"\n    }, \"Work with your teammates to find the common symbol.\");\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Timer.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/Timer.jsx                                                                                        //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nlet StageTimeWrapper;\nmodule.link(\"meteor/empirica:core\", {\n  StageTimeWrapper(v) {\n    StageTimeWrapper = v;\n  }\n\n}, 0);\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 1);\n\nclass timer extends React.Component {\n  render() {\n    const {\n      remainingSeconds\n    } = this.props;\n    const classes = [\"timer\"];\n\n    if (remainingSeconds <= 5) {\n      classes.push(\"lessThan5\");\n    } else if (remainingSeconds <= 10) {\n      classes.push(\"lessThan10\");\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.join(\" \")\n    }, /*#__PURE__*/React.createElement(\"h4\", null, \"Timer\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"seconds\"\n    }, remainingSeconds));\n  }\n\n}\n\nmodule.exportDefault(Timer = StageTimeWrapper(timer));\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"main.js\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/main.js                                                                                               //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nlet Empirica;\nmodule.link(\"meteor/empirica:core\", {\n  default(v) {\n    Empirica = v;\n  }\n\n}, 0);\nlet render;\nmodule.link(\"react-dom\", {\n  render(v) {\n    render = v;\n  }\n\n}, 1);\nlet ExitSurvey;\nmodule.link(\"./exit/ExitSurvey\", {\n  default(v) {\n    ExitSurvey = v;\n  }\n\n}, 2);\nlet Thanks;\nmodule.link(\"./exit/Thanks\", {\n  default(v) {\n    Thanks = v;\n  }\n\n}, 3);\nlet Sorry;\nmodule.link(\"./exit/Sorry\", {\n  default(v) {\n    Sorry = v;\n  }\n\n}, 4);\nlet About;\nmodule.link(\"./game/About\", {\n  default(v) {\n    About = v;\n  }\n\n}, 5);\nlet Round;\nmodule.link(\"./game/Round\", {\n  default(v) {\n    Round = v;\n  }\n\n}, 6);\nlet Consent;\nmodule.link(\"./intro/Consent\", {\n  default(v) {\n    Consent = v;\n  }\n\n}, 7);\nlet TutorialPageOne;\nmodule.link(\"./intro/TutorialPageOne\", {\n  default(v) {\n    TutorialPageOne = v;\n  }\n\n}, 8);\nlet TutorialPageTwo;\nmodule.link(\"./intro/TutorialPageTwo\", {\n  default(v) {\n    TutorialPageTwo = v;\n  }\n\n}, 9);\nlet TutorialPageThree;\nmodule.link(\"./intro/TutorialPageThree\", {\n  default(v) {\n    TutorialPageThree = v;\n  }\n\n}, 10);\nlet TutorialPageFour;\nmodule.link(\"./intro/TutorialPageFour\", {\n  default(v) {\n    TutorialPageFour = v;\n  }\n\n}, 11);\nlet QuizOne;\nmodule.link(\"./intro/quiz/QuizOne\", {\n  default(v) {\n    QuizOne = v;\n  }\n\n}, 12);\nlet NewPlayer;\nmodule.link(\"./intro/NewPlayer\", {\n  default(v) {\n    NewPlayer = v;\n  }\n\n}, 13);\n// Set the About Component you want to use for the About dialog (optional).\nEmpirica.about(About); // Set the Consent Component you want to present players (optional).\n\nEmpirica.consent(Consent); // Set the component for getting the player id (optional)\n\nEmpirica.newPlayer(NewPlayer); // Introduction pages to show before they play the game (optional).\n// At this point they have been assigned a treatment. You can return\n// different instruction steps depending on the assigned treatment.\n\nEmpirica.introSteps((game, treatment) => {\n  const steps = [QuizOne, QuizTwo, QuizThree, QuizFour, QuizFive, QuizSix, QuizSeven, QuizEight, TutorialPageOne, TutorialPageTwo, TutorialPageThree, TutorialPageFour];\n\n  if (treatment.playerCount > 1) {}\n\n  steps.push(QuizOne);\n  return steps;\n}); // The Round component containing the game UI logic.\n// This is where you will be doing the most development.\n// See client/game/Round.jsx to learn more.\n\nEmpirica.round(Round); // End of Game pages. These may vary depending on player or game information.\n// For example we can show the score of the user, or we can show them a\n// different message if they actually could not participate the game (timed\n// out), etc.\n// The last step will be the last page shown to user and will be shown to the\n// user if they come back to the website.\n// If you don't return anything, or do not define this function, a default\n// exit screen will be shown.\n\nEmpirica.exitSteps((game, player) => {\n  if (!game || player.exitStatus && player.exitStatus !== \"finished\" && player.exitReason !== \"playerQuit\") {\n    return [Sorry];\n  }\n\n  return [ExitSurvey, Thanks];\n}); // Start the app render tree.\n// NB: This must be called after any other Empirica calls (Empirica.round(),\n// Empirica.introSteps(), ...).\n// It is required and usually does not need changing.\n\nMeteor.startup(() => {\n  render(Empirica.routes(), document.getElementById(\"app\"));\n});\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"public\":{\"css\":{\"intro.css\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// public/css/intro.css                                                                                         //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.exports = require(\"meteor/modules\").addStyles(\n  \".tutorial-container {\\n    display: flex;\\n    flex-direction: column;\\n}\\n\\n.title-static-image {\\n    display: flex;\\n    justify-content: flex-start;\\n    padding: 30px 15px;\\n}\\n\\n.two-col {\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: center;\\n    width: 40%;\\n}\\n\\n.tutorial-content {\\n    display: flex;\\n    flex-direction: column;\\n}\\n\\n.tutorial-static-image {\\n    display:flex;\\n    margin-right: 40px;\\n    width: 45%;\\n    justify-content: center;\\n    align-items: center;\\n}\\n\\n.tutorial-info {\\n    width: 50%;\\n}\\n\\n.intro-heading, .questionnaire-heading {\\n    font-family:\\\"Palatino Linotype\\\", \\\"Book Antiqua\\\", Palatino, serif; \\n    font-style:italic; \\n    text-transform:uppercase; \\n    font-weight:normal;\\n    margin: 0px 0px;\\n    font-size: 26px;\\n    color: var(--darkblue);\\n}\\n\\n.tutorial-body {\\n    font-size: 16px;\\n    word-spacing: 0.3em;\\n    margin-top: 1rem;\\n    color: var(--darkblue);\\n}\\n\\n/* BUTTON STYLING AND POSITIONING */\\n\\n.tutorial-next-btn {\\n    position: fixed;\\n    top: 50%;\\n    right: 0;\\n    text-align:left;\\n    background: var(--turquoise); \\n\\n}\\n\\n.tutorial-next-btn:hover {\\n    margin-right: 20px;\\n    background:var(--periwinkle)\\n}\\n\\n.tutorial-next-btn:after {border-left:21px solid var(--turquoise); transition:.35s ease; -moz-transition:.35s ease; -webkit-transition:.35s ease}\\n.tutorial-next-btn:hover:after {border-left:21px solid var(--periwinkle)}\\n\\n.tutorial-prev-btn {\\n    position: fixed;\\n    top: 50%;\\n    left: 0;\\n    text-align:right;\\n    background: var(--turquoise); \\n}\\n\\n.tutorial-prev-btn:hover {\\n    margin-left: 20px;\\n    background:var(--periwinkle)\\n}\\n\\n.tutorial-prev-btn:before {border-right:21px solid var(--turquoise); transition:.35s ease; -moz-transition:.35s ease; -webkit-transition:.35s ease}\\n.tutorial-prev-btn:hover:before {border-right:21px solid var(--periwinkle)}\\n\\n\\n/* QUESTIONNAIRE STYLING */\\n\\n.questionnaire-radio {\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: center;\\n    align-items: center;\\n\\n}\\n\\n.questionnaire-radio .quiz-button {\\n    margin-right: 5px;\\n    cursor: pointer;\\n}\\n\\n.questionnaire-heading {\\n    margin-top: 10%;\\n    margin-bottom: 5%;\\n    display: flex;\\n    justify-content: center;\\n    width: 100%;\\n}\\n\\n.questionnaire-question {\\n    padding-bottom: 20px;\\n}\\n\\n.questionnaire-content-container {\\n    display:flex;\\n    flex-direction:column;\\n    align-items: flex-start;\\n    width: 590px;\\n}\\n\\n.questionnaire-body {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: flex-start;\\n    background-color: white;\\n    font-family: \\\"Trebuchet MS\\\", Arial, Helvetica, sans-serif;\\n    color: var(--darkblue);\\n    font-size: 15px;\\n    padding: 25px;\\n}\\n\\n.questionnaire-btn-container {\\n    display: flex;\\n}\"\n);\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}}},{\n  \"extensions\": [\n    \".js\",\n    \".json\",\n    \".html\",\n    \".mjs\",\n    \".less\",\n    \".css\",\n    \".jsx\"\n  ]\n});\n\nvar exports = require(\"/client/main.js\");","hash":"45de040413f3ce63256d2e5485afa6297f01a425","servePath":"/app.js","sourceMap":{"version":3,"sources":["client/intro/quiz/QuizOne.jsx","client/intro/Consent.jsx","client/intro/NewPlayer.jsx","client/intro/TutorialPageFour.jsx","client/intro/TutorialPageOne.jsx","client/intro/TutorialPageThree.jsx","client/intro/TutorialPageTwo.jsx","client/chat/ChatContainer.js","client/chat/ChatHeader.js","client/chat/ErrorBoundary.js","client/chat/Footer.js","client/chat/Message.js","client/chat/Messages.js","client/exit/ExitSurvey.jsx","client/exit/Sorry.jsx","client/exit/Thanks.jsx","client/game/About.jsx","client/game/MyNetwork.jsx","client/game/PlayerProfile.jsx","client/game/PlayerTab.jsx","client/game/Results.jsx","client/game/Round.jsx","client/game/SocialExposure.jsx","client/game/StageResult.jsx","client/game/SymbolButton.jsx","client/game/Task.jsx","client/game/TaskResponse.jsx","client/game/TaskStimulus.jsx","client/game/Timer.jsx","client/main.js"],"names":["module","export","default","QuizOne","React","link","v","Centered","Radio","selected","name","value","label","onChange","Component","state","handleChange","event","el","currentTarget","setState","handleSubmit","hasPrev","hasNext","onNext","onPrev","game","player","props","preventDefault","response","exit","render","Consent","ConsentButton","NewPlayer","id","handleUpdate","handleNewPlayer","TutorialPageFour","TutorialPageOne","TutorialPageThree","TutorialPageTwo","_extends","_objectWithoutProperties","ChatContainer","PropTypes","Footer","Message","Messages","ChatHeader","ErrorBoundary","PureComponent","isActive","isOpen","onTitleClick","onXClick","customKey","onCloseChat","onNewMessage","msg","scope","append","componentDidMount","dockStartOpen","docked","forceOpen","customClassName","onIncomingMessage","filter","timeStamp","otherPlayer","header","HeaderComp","message","MessageComp","footer","FooterComp","rest","common","defaultProps","hideAvatar","hideName","svgAvatar","hideNotificiationBadge","propTypes","object","isRequired","string","instanceOf","Date","bool","func","elementType","constructor","hasError","getDerivedStateFromError","error","componentDidCatch","errorInfo","console","children","_objectSpread","comment","rows","minRows","maxRows","buttonHeight","e","text","trim","_id","avatar","get","textareaLineHeight","previousRows","target","currentRows","scrollHeight","scrollTop","usedRows","document","getElementById","offsetHeight","key","isString","renderTime","hours","getHours","minutes","getMinutes","time","toString","padStart","renderName","isSelf","msgPlayer","avatarImg","useAvatar","warn","avatarSrc","svg","src","__html","alt","shape","self","filteredMessages","WrappedComponent","messages","messagesEl","createRef","messageLength","current","length","componentDidUpdate","prevProps","currentMessages","splice","messageComp","map","i","exportDefault","ExitSurvey","age","gender","strength","fair","feedback","onSubmit","education","stepName","Sorry","Meteor","log","exitStatus","exitReason","isDevelopment","Thanks","About","MyNetwork","PlayerTab","stage","round","onOpenChat","network","otherNodeId","PlayerProfile","Timer","renderProfile","renderScore","toFixed","handleOpenChat","otherPlayerNodeId","openChat","otherPlayerId","players","find","p","parseInt","Round","result","SocialExposure","StageResult","Results","Task","pairOfPlayers","sort","p1","p2","activeChats","includes","push","newActiveChats","chat","Chat","TimeSync","moment","Slider","logIncomingMessage","msgs","mostRecentMsg","receiver","verb","subjectId","at","serverTime","renderSocialInteraction","chatKey","counter","timer","finishDisplay","set","showResults","x","setTimeout","SymbolButton","handleClick","handleButtonSelect","TaskResponse","TaskStimulus","handleReconsider","symbolName","selectedButton","renderSubmitted","renderSlider","renderButton","selectedSymbol","task","displayName","symbol","submitted","playersSubmitted","playersNotSubmitted","filledDots","unfilledDots","disabled","opacity","StageTimeWrapper","remainingSeconds","classes","join","Empirica","about","consent","newPlayer","introSteps","treatment","steps","QuizTwo","QuizThree","QuizFour","QuizFive","QuizSix","QuizSeven","QuizEight","playerCount","exitSteps","startup","routes"],"mappings":"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","file":"/app.js","sourcesContent":["import React from \"react\";\nimport '../../public/css/intro.css';\n\nimport { Centered } from \"meteor/empirica:core\";\n\nconst Radio = ({ selected, name, value, label, onChange }) => (\n    <label className=\"questionnaire-radio\">\n        <input\n        className=\"quiz-button\"\n        type=\"radio\"\n        name={name}\n        value={value}\n        checked={selected === value}\n        onChange={onChange}\n        />\n        {label}\n    </label>\n);\n\nexport default class QuizOne extends React.Component {\n  state = { };\n\n  handleChange = event => {\n    const el = event.currentTarget;\n    this.setState({ [el.name]: el.value });\n  };\n\n  handleSubmit = event => {\n    const { hasPrev, hasNext, onNext, onPrev, game, player } = this.props;\n    event.preventDefault();\n    if (this.state.response === 'yes') {\n        onNext();\n    } else {\n        player.exit(\"failedQuestion\");\n    }\n  };\n\n  render() {\n    const { player } = this.props;\n    const { response } = this.state;\n\n    return (\n      <Centered>\n        <div className=\"intro-heading questionnaire-heading\"> Questionnaire </div>\n            <div className=\"questionnaire-content-container\">\n                <div className=\"questionnaire-body\">\n                    <label className=\"questionnaire-question\">Are you willing to participate in an online team exercise that could last for approximately 60 minutes?</label>\n                    <Radio\n                        selected={response}\n                        name=\"response\"\n                        value=\"yes\"\n                        label=\"Yes\"\n                        onChange={this.handleChange}\n                    />\n                    <Radio\n                        selected={response}\n                        name=\"response\"\n                        value=\"no\"\n                        label=\"No\"\n                        onChange={this.handleChange}\n                    />\n                </div>\n                <form className=\"questionnaire-btn-container\" onSubmit={this.handleSubmit}>\n                    <button \n                        className={!response ? \"arrow-button button-submit-disabled\" : \"arrow-button button-submit\"}\n                        disabled={!response} type=\"submit\"> Submit </button> \n                </form>\n            </div>\n      </Centered>\n    );\n  }\n}\n","import React from \"react\";\n\nimport { Centered, ConsentButton } from \"meteor/empirica:core\";\n\nexport default class Consent extends React.Component {\n  render() {\n    return (\n      <Centered>\n        <div className=\"consent\">\n          <h1> Consent Form </h1>\n          <p>\n            This experiment is part of a MIT scientific project. Your decision\n            to participate in this experiment is entirely voluntary. There are\n            no known or anticipated risks to participating in this experiment.\n            There is no way for us to identify you. The only information we will\n            have, in addition to your responses, is the timestamps of your\n            interactions with our site. The results of our research may be\n            presented at scientific meetings or published in scientific\n            journals. Clicking on the \"AGREE\" button indicates that you are at\n            least 18 years of age, and agree to participate voluntary.\n          </p>\n          <br />\n          <ConsentButton text=\"I AGREE\" />\n        </div>\n      </Centered>\n    );\n  }\n}\n","import React, { Component } from 'react'\nimport { Centered } from \"meteor/empirica:core\";\n\nexport default class NewPlayer extends Component {\n  state = { id: \"\" };\n\n  handleUpdate = event => {\n    const { value, name } = event.currentTarget;\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    const { handleNewPlayer } = this.props;\n    const { id } = this.state;\n    handleNewPlayer(id);\n  };\n\n  render() {\n    const { id } = this.state;\n\n    return (\n      <Centered>\n        <div >\n          <form onSubmit={this.handleSubmit}>\n            <h1>Identification</h1>\n\n            <p>\n              Please enter your id:\n                        </p>\n\n            <input\n              dir=\"auto\"\n              type=\"text\"\n              name=\"id\"\n              id=\"id\"\n              value={id}\n              onChange={this.handleUpdate}\n              required\n              autoComplete=\"off\"\n            />\n\n            <br />\n\n            <p>\n              <button type=\"submit\">Submit</button>\n            </p>\n\n          </form>\n        </div>\n      </Centered>\n    )\n  }\n}","import React from \"react\";\nimport '../../public/css/intro.css'\n\nimport { Centered } from \"meteor/empirica:core\";\n\nexport default class TutorialPageFour extends React.Component {\n  render() {\n    const { hasPrev, hasNext, onNext, onPrev, game } = this.props;\n\n    return (\n      <div className=\"tutorial-container\">\n        <div className=\"title-static-image\">\n          <img src={`images/title-tut3.png`} />\n        </div>\n        <Centered>\n          <div className=\"two-col\">\n            <div className=\"tutorial-static-image\">\n              <img src={`images/tut3-slide4.png`} width=\"100%\" />\n            </div>\n            <div className=\"tutorial-info\">\n              <div className=\"intro-heading\"> RECONSIDER</div>\n              <img src={`images/hr-color.png`} width=\"180px\" height=\"2px\"/>\n              <div className=\"tutorial-body\">\n                You guess the symbol by selecting it and then selecting the submit answer button. While you are waiting for your team members to submit an answer, you will have an opportunity  to reconsider your choice. The reconsider button does not indicate you have made an incorrect choice\n              </div>\n            </div>\n          </div>\n        </Centered>\n        {hasPrev && <button className=\"arrow-button tutorial-prev-btn\" type=\"button\" onClick={onPrev} disabled={!hasPrev}>\n          Previous\n        </button>}\n        \n        {hasNext &&\n        <button className=\"arrow-button tutorial-next-btn\" type=\"button\" onClick={onNext} disabled={!hasNext}>\n          Next\n        </button>\n        }\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport '../../public/css/intro.css'\n\nimport { Centered } from \"meteor/empirica:core\";\n\nexport default class TutorialPageOne extends React.Component {\n  render() {\n    const { hasPrev, hasNext, onNext, onPrev, game } = this.props;\n\n    return (\n      <div className=\"tutorial-container\">\n        <div className=\"title-static-image\">\n          <img src={`images/title-tut3.png`} />\n        </div>\n        <Centered>\n          <div className=\"two-col\">\n            <div className=\"tutorial-static-image\">\n              <img src={`images/tut3-slide1.png`} width=\"100%\" />\n            </div>\n            <div className=\"tutorial-info\">\n              <div className=\"intro-heading\"> THIS IS MY CARD </div>\n              <img src={`images/hr-color.png`} width=\"180px\" height=\"2px\"/>\n              <div className=\"tutorial-body\">\n                This is an experiment on effective communication. The task requires that members of a small network work together to identify abstract symbols for multiple trials. At the beginning of each trial, each member of your network will be assigned a set of symbols. One and only one of those symbols will be shared among you. Your job is to discover the shared symbol by communicating with the members of your network. Your symbols are illustrated in the \"my card\" box. When you believe you have identified the shared symbol, select it and then hit the submit answer button.\n              </div>\n            </div>\n          </div>\n        </Centered>\n        {hasPrev && <button className=\"arrow-button tutorial-prev-btn\" type=\"button\" onClick={onPrev} disabled={!hasPrev}>\n          Previous\n        </button>}\n        \n        {hasNext &&\n        <button className=\"arrow-button tutorial-next-btn\" type=\"button\" onClick={onNext} disabled={!hasNext}>\n          Next\n        </button>\n        }\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport '../../public/css/intro.css'\n\nimport { Centered } from \"meteor/empirica:core\";\n\nexport default class TutorialPageThree extends React.Component {\n  render() {\n    const { hasPrev, hasNext, onNext, onPrev, game } = this.props;\n\n    return (\n      <div className=\"tutorial-container\">\n        <div className=\"title-static-image\">\n          <img src={`images/title-tut3.png`} />\n        </div>\n        <Centered>\n          <div className=\"two-col\">\n            <div className=\"tutorial-static-image\">\n              <img src={`images/tut3-slide3.png`} width=\"100%\" />\n            </div>\n            <div className=\"tutorial-info\">\n              <div className=\"intro-heading\"> NETWORK CONVERSATIONS </div>\n              <img src={`images/hr-color.png`} width=\"180px\" height=\"2px\"/>\n              <div className=\"tutorial-body\">\n                  Each member of your network has an unique dialogue box and so you can have multiple dialogue boxes open on your screen as you communicate during a trial. You can open or close a box. You can also scroll up and down within a box to view the messages you have exchanged with a specific contact.\n              </div>\n            </div>\n          </div>\n        </Centered>\n        {hasPrev && <button className=\"arrow-button tutorial-prev-btn\" type=\"button\" onClick={onPrev} disabled={!hasPrev}>\n          Previous\n        </button>}\n        \n        {hasNext &&\n        <button className=\"arrow-button tutorial-next-btn\" type=\"button\" onClick={onNext} disabled={!hasNext}>\n          Next\n        </button>\n        }\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport '../../public/css/intro.css'\n\nimport { Centered } from \"meteor/empirica:core\";\n\nexport default class TutorialPageTwo extends React.Component {\n  render() {\n    const { hasPrev, hasNext, onNext, onPrev, game } = this.props;\n\n    return (\n      <div className=\"tutorial-container\">\n        <div className=\"title-static-image\">\n          <img src={`images/title-tut3.png`} />\n        </div>\n        <Centered>\n          <div className=\"two-col\">\n            <div className=\"tutorial-static-image\">\n              <img src={`images/tut3-slide2.png`} width=\"100%\" />\n            </div>\n            <div className=\"tutorial-info\">\n              <div className=\"intro-heading\"> THIS IS MY NETWORK </div>\n              <img src={`images/hr-color.png`} width=\"180px\" height=\"2px\"/>\n              <div className=\"tutorial-body\">\n                The members of your communication network are indicated in the “my network” box. You can communicate with a member of your network by selecting that individual’s name in the “my network” box. A communication box will open on your screen. Type the message you would like to send and when you hit return the message will be sent to the contact you selected.              \n              </div>\n            </div>\n          </div>\n        </Centered>\n        {hasPrev && <button className=\"arrow-button tutorial-prev-btn\" type=\"button\" onClick={onPrev} disabled={!hasPrev}>\n          Previous\n        </button>}\n        \n        {hasNext &&\n        <button className=\"arrow-button tutorial-next-btn\" type=\"button\" onClick={onNext} disabled={!hasNext}>\n          Next\n        </button>\n        }\n      </div>\n    );\n  }\n}\n","import \"./style.less\";\n\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport Footer from \"./Footer\";\nimport Message from \"./Message\";\nimport Messages from \"./Messages\";\nimport ChatHeader from \"./ChatHeader\";\nimport ErrorBoundary from \"./ErrorBoundary\";\n\nexport default class ChatContainer extends React.PureComponent {\n  state = { \n    isActive: true,\n    isOpen: true,\n  };\n\n  onTitleClick = () => {\n    this.setState({ isOpen: !this.state.isOpen});\n  };\n\n  onXClick = () => {\n    const {customKey, onCloseChat} = this.props;\n    onCloseChat(customKey);\n    // this.setState({ isActive: !this.state.isActive})\n  };\n\n  onNewMessage = (msg) => {\n    const { onNewMessage, scope, customKey } = this.props;\n\n    if (onNewMessage) {\n      msg = onNewMessage(msg);\n      if (!msg) {\n        return;\n      }\n    }\n\n    scope.append(customKey, msg);\n  };\n\n  componentDidMount = () => {\n    const { dockStartOpen, docked } = this.props;\n    if (docked && !dockStartOpen) {\n      this.setState({\n        isOpen: false,\n      });\n    }\n  };\n\n  render() {\n    const { isOpen, forceOpen } = this.state;\n    const {\n      player,\n      scope,\n      customKey,\n      customClassName,\n      docked,\n      onIncomingMessage,\n\n      filter,\n      timeStamp,\n      otherPlayer,\n      header: HeaderComp,\n      message: MessageComp,\n      footer: FooterComp,\n      isActive,\n      onCloseChat,\n      ...rest\n    } = this.props;\n\n    const common = { player, scope, customKey };\n    if (!isActive) {\n      return null;\n    }\n\n    return (\n      <ErrorBoundary>\n        <div\n          className={`${\n            customClassName ? customClassName : \"empirica-chat-container\"\n          } ${docked ? \"undocked\" : \"undocked\"}`}\n        >\n          <div className={`chat ${isOpen ? \"open\" : \"\"}`}>\n            {docked && (\n              <HeaderComp {...common} otherPlayer={otherPlayer} onTitleClick={this.onTitleClick} onXClick={this.onXClick} isOpen={isOpen} />\n            )}\n            {isOpen ? (\n              <>\n                <Messages\n                  {...common}\n                  messageComp={MessageComp}\n                  filter={filter}\n                  onIncomingMessage={onIncomingMessage}\n                  {...rest}\n                />\n                <FooterComp\n                  {...common}\n                  timeStamp={timeStamp}\n                  onNewMessage={this.onNewMessage}\n                />\n              </>\n            ) : (\n              \"\"\n            )}\n          </div>\n        </div>\n      </ErrorBoundary>\n    );\n  }\n}\n\nChatContainer.defaultProps = {\n  customKey: \"chat\",\n  docked: false,\n  customClassName: \"\",\n  dockStartOpen: true,\n  hideAvatar: false,\n  hideName: false,\n  svgAvatar: false,\n  hideNotificiationBadge: false,\n  // header: ({ onClick, isOpen }) => (\n  //   <div className=\"header\">\n  //     <span className=\"title\">CHAT </span>\n  //     <span className=\"close-button\" onClick={onClick}>\n  //       {isOpen ? \"-\" : \"+\"}\n  //     </span>\n  //   </div>\n  // ),\n  header: ChatHeader,\n  message: Message,\n  footer: Footer,\n};\n\nChatContainer.propTypes = {\n  player: PropTypes.object.isRequired,\n  scope: PropTypes.object.isRequired,\n  customKey: PropTypes.string.isRequired,\n  timeStamp: PropTypes.instanceOf(Date),\n  docked: PropTypes.bool,\n  dockStartOpen: PropTypes.bool,\n  hideAvatar: PropTypes.bool,\n  hideName: PropTypes.bool,\n  svgAvatar: PropTypes.bool,\n  customClassName: PropTypes.string,\n\n  onNewMessage: PropTypes.func,\n  onIncomingMessage: PropTypes.func,\n  filter: PropTypes.func,\n\n  header: PropTypes.elementType.isRequired,\n  message: PropTypes.elementType.isRequired,\n  footer: PropTypes.elementType.isRequired,\n};\n","import \"./style.less\";\nimport React from \"react\";\n\nexport default class ChatHeader extends React.PureComponent {\n\n\n    render() {\n        const {otherPlayer, onTitleClick, onXClick, isOpen} = this.props;\n\n        return (\n            <div className=\"header\">\n                <span className=\"title\" onClick={onTitleClick}> {otherPlayer} </span>\n                <span className=\"close-button\" onClick={onXClick}> \n                    <img src={`images/icon-net-window-close.png`} width=\"17px\" height=\"17px\"/>\n                </span>\n            </div>\n        )\n    }\n}","import React from \"react\";\n\nexport default class ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    console.error(\"error on chat package \", error);\n    console.error(\"error on chat package:info \", errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <h1>Something went wrong.</h1>;\n    }\n\n    return this.props.children;\n  }\n}\n","import \"./style.less\";\n\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n\nexport default class Footer extends React.Component {\n  state = { comment: \"\", rows: 1, minRows: 1, maxRows: 5, buttonHeight: 30 };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const text = this.state.comment.trim();\n    if (text === \"\") {\n      return;\n    }\n\n    const { player, onNewMessage, timeStamp } = this.props;\n\n    let msg = {\n      text,\n      player: {\n        _id: player._id,\n        avatar: player.get(\"avatar\"),\n        name: player.get(\"name\") || player._id,\n      },\n    };\n\n    if (timeStamp) {\n      msg = { ...msg, timeStamp };\n    }\n\n    onNewMessage(msg);\n\n    this.setState({ comment: \"\" });\n  };\n\n  handleChange = (e) => {\n    const el = e.currentTarget;\n    const textareaLineHeight = 24;\n    const { minRows, maxRows } = this.state;\n\n    const previousRows = e.target.rows;\n    e.target.rows = minRows; // reset number of rows in textarea\n    const currentRows = ~~(e.target.scrollHeight / textareaLineHeight);\n\n    if (currentRows === previousRows) {\n      e.target.rows = currentRows;\n    }\n\n    if (currentRows >= maxRows) {\n      e.target.rows = maxRows;\n      e.target.scrollTop = e.target.scrollHeight;\n    }\n\n    const usedRows = currentRows < maxRows ? currentRows : maxRows;\n\n    this.setState(\n      {\n        [el.name]: el.value,\n        rows: usedRows,\n      },\n      () => {\n        this.setState({\n          buttonHeight: document.getElementById(\"chat-input\").offsetHeight,\n        });\n      }\n    );\n  };\n\n  render() {\n    const { comment, rows, buttonHeight } = this.state;\n\n    return (\n      <form className=\"chat-footer-form\" onSubmit={this.handleSubmit}>\n        <div className=\"chat-footer\">\n          <textarea\n            id=\"chat-input\"\n            name=\"comment\"\n            className=\"chat-input\"\n            placeholder=\"My message\"\n            value={comment}\n            onKeyPress={(e) => {\n              if (e.key === \"Enter\") {\n                this.handleSubmit(e);\n              }\n            }}\n            rows={rows}\n            onChange={this.handleChange}\n            autoComplete=\"off\"\n          />\n        </div>\n        <button\n            type=\"submit\"\n            form=\"chat-input\"\n            className=\"chat-button-send\"\n            disabled={!comment}\n            onClick={this.handleSubmit}\n          >\n            <img src={`images/icon-enter.png`} width=\"15px\" height=\"17px\"/>\n          </button>\n      </form>\n    );\n  }\n}\n\nFooter.propTypes = {\n  player: PropTypes.object.isRequired,\n  scope: PropTypes.object.isRequired,\n  customKey: PropTypes.string.isRequired,\n  onNewMessage: PropTypes.func,\n  timeStamp: PropTypes.instanceOf(Date),\n};\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { isString } from 'lodash';\n\n\nexport default class Message extends React.Component {\n  renderTime = (timeStamp) => {\n    const hours = new Date(timeStamp).getHours();\n    const minutes = new Date(timeStamp).getMinutes();\n\n    if (!hours || !minutes) {\n      return null;\n    }\n\n    const time = `${hours\n      .toString()\n      .padStart(2, 0)}:${minutes.toString().padStart(2, 0)}`;\n\n    return <div className=\"timeStamp\">{time}</div>;\n  };\n\n  renderName = (isSelf, name) => {\n    return <div className=\"name\">{isSelf ? \"You\" : name}</div>;\n  };\n\n  render() {\n    const { message, player, hideName, hideAvatar, svgAvatar, avatar } = this.props;\n    const { player: msgPlayer, text, timeStamp } = message;\n    const isSelf = player._id == msgPlayer._id;\n    let avatarImg;\n    const useAvatar = !hideAvatar && (svgAvatar || avatar)\n    if (useAvatar && avatar){\n      if (isString(avatar)){\n        console.warn(\"Deprecation: avatar should be an object containing a src or svg property\")\n        avatarImg = <img className=\"avatar\" alt={''} src={avatar} />\n      }\n      else{\n        const avatarSrc = avatar.svg || avatar.src\n        if (avatar.svg) {\n          avatarImg = <div\n            dangerouslySetInnerHTML={{ __html: avatarSrc }}\n            className=\"avatar\"\n          />\n        } else{\n          avatarImg = <img className=\"avatar\" alt={avatar.alt} src={avatar.src} />\n        }\n      }\n    }\n\n\n    return (\n      <div>\n        {!isSelf ? \n          <div className=\"message\" >    \n            <div className=\"other-message-tick-container\">\n                  <img src={`images/net-bubble.png`} width=\"15px\" height=\"10px\"/>\n            </div> \n            <div className={\"text-container-other\"}>\n            {/* {!hideName && this.renderName(isSelf, msgPlayer.name)} */}\n              <div className=\"text\">{text}</div>\n            </div>\n          </div>\n          : \n          <div className=\"message\">    \n            <div className={\"text-container-self\"}>\n              {/* {!hideName && this.renderName(isSelf, msgPlayer.name)} */}\n              <div className=\"text\">{text}</div>\n              {/* {timeStamp &&\n              new Date(timeStamp).getTime() > 0 &&\n              this.renderTime(timeStamp)} */}\n            </div>\n            <div className=\"self-message-tick-container\">\n              <img src={`images/my-bubble.png`} width=\"15px\" height=\"10px\"/>\n            </div> \n          </div>\n        }\n      </div>\n    );\n  }\n}\n\nMessage.propTypes = {\n  message: PropTypes.shape({\n    text: PropTypes.string.isRequired,\n    player: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      avatar: PropTypes.string,\n    }),\n  }).isRequired,\n  self: PropTypes.bool,\n  hideAvatar: PropTypes.bool,\n  hideName: PropTypes.bool,\n  svgAvatar: PropTypes.bool,\n  avatar: PropTypes.shape({\n    svg:  PropTypes.string,\n    src:  PropTypes.string,\n    alt:  PropTypes.string,\n  }),\n};\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\n\nfunction filteredMessages(WrappedComponent) {\n  return class extends React.Component {\n    render() {\n      const { scope, customKey, filter } = this.props;\n      let messages = scope.get(customKey) || [];\n      if (filter) {\n        messages = filter(messages);\n      }\n\n      return <WrappedComponent messages={[...messages]} {...this.props} />;\n    }\n  };\n}\n\nclass Messages extends React.Component {\n  constructor(props) {\n    super(props);\n    this.messagesEl = React.createRef();\n    this.state = {\n      messageLength: 0,\n    };\n  }\n\n  componentDidMount() {\n    this.messagesEl.current.scrollTop = this.messagesEl.current.scrollHeight;\n    this.setState({ messageLength: this.props.messages.length });\n  }\n\n  componentDidUpdate(prevProps) {\n    const { messageLength } = this.state;\n    const {\n      messages: currentMessages,\n      onIncomingMessage,\n      customKey,\n    } = this.props;\n\n    if (\n      this.messagesEl.current !== null &&\n      currentMessages.length > messageLength\n    ) {\n      this.setState({ messageLength: currentMessages.length }, () => {\n        if (onIncomingMessage) {\n          onIncomingMessage(\n            currentMessages.splice(this.state.messageLength),\n            customKey\n          );\n        }\n        this.messagesEl.current.scrollTop = this.messagesEl.current.scrollHeight;\n      });\n    }\n  }\n\n  render() {\n    const { player, messages, messageComp: MessageComp, ...rest } = this.props;\n\n    return (\n      <div className=\"messages\" ref={this.messagesEl}>\n        {messages.length === 0 ? (\n          <div className=\"empty\">No messages yet...</div>\n        ) : null}\n        {messages.map((message, i) => {\n          return (\n            <MessageComp key={i} message={message} player={player} {...rest} />\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nMessages.propTypes = {\n  player: PropTypes.object,\n  messageComp: PropTypes.elementType,\n  filter: PropTypes.func,\n  onIncomingMessage: PropTypes.func,\n  hideAvatar: PropTypes.bool,\n  hideName: PropTypes.bool,\n  svgAvatar: PropTypes.bool,\n  customKey: PropTypes.string,\n};\n\nexport default filteredMessages(Messages);\n","import React from \"react\";\n\nimport { Centered } from \"meteor/empirica:core\";\n\nconst Radio = ({ selected, name, value, label, onChange }) => (\n  <label>\n    <input\n      type=\"radio\"\n      name={name}\n      value={value}\n      checked={selected === value}\n      onChange={onChange}\n    />\n    {label}\n  </label>\n);\n\nexport default class ExitSurvey extends React.Component {\n  static stepName = \"ExitSurvey\";\n  state = { age: \"\", gender: \"\", strength: \"\", fair: \"\", feedback: \"\" };\n\n  handleChange = event => {\n    const el = event.currentTarget;\n    this.setState({ [el.name]: el.value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    this.props.onSubmit(this.state);\n  };\n\n  render() {\n    const { player } = this.props;\n    const { age, gender, strength, fair, feedback, education } = this.state;\n\n    return (\n      <Centered>\n        <div className=\"exit-survey\">\n          <h1> Exit Survey </h1>\n          <p>\n            Please submit the following code to receive your bonus:{\" \"}\n            <strong>{player._id}</strong>.\n          </p>\n          <p>\n            You final <strong>bonus</strong> is in addition of the{\" \"}\n            <strong>1 base reward</strong> for completing the HIT.\n          </p>\n          <br />\n          <p>\n            Please answer the following short survey. You do not have to provide\n            any information you feel uncomfortable with.\n          </p>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"form-line\">\n              <div>\n                <label htmlFor=\"age\">Age</label>\n                <div>\n                  <input\n                    id=\"age\"\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"150\"\n                    step=\"1\"\n                    dir=\"auto\"\n                    name=\"age\"\n                    value={age}\n                    onChange={this.handleChange}\n                  />\n                </div>\n              </div>\n              <div>\n                <label htmlFor=\"gender\">Gender</label>\n                <div>\n                  <input\n                    id=\"gender\"\n                    type=\"text\"\n                    dir=\"auto\"\n                    name=\"gender\"\n                    value={gender}\n                    onChange={this.handleChange}\n                    autoComplete=\"off\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            <div>\n              <label>Highest Education Qualification</label>\n              <div>\n                <Radio\n                  selected={education}\n                  name=\"education\"\n                  value=\"high-school\"\n                  label=\"High School\"\n                  onChange={this.handleChange}\n                />\n                <Radio\n                  selected={education}\n                  name=\"education\"\n                  value=\"bachelor\"\n                  label=\"US Bachelor's Degree\"\n                  onChange={this.handleChange}\n                />\n                <Radio\n                  selected={education}\n                  name=\"education\"\n                  value=\"master\"\n                  label=\"Master's or higher\"\n                  onChange={this.handleChange}\n                />\n                <Radio\n                  selected={education}\n                  name=\"education\"\n                  value=\"other\"\n                  label=\"Other\"\n                  onChange={this.handleChange}\n                />\n              </div>\n            </div>\n\n            <div className=\"form-line thirds\">\n              <div>\n                <label htmlFor=\"strength\">\n                  How would you describe your strength in the game?\n                </label>\n                <div>\n                  <textarea\n                    dir=\"auto\"\n                    id=\"strength\"\n                    name=\"strength\"\n                    value={strength}\n                    onChange={this.handleChange}\n                  />\n                </div>\n              </div>\n              <div>\n                <label htmlFor=\"fair\">Do you feel the pay was fair?</label>\n                <div>\n                  <textarea\n                    dir=\"auto\"\n                    id=\"fair\"\n                    name=\"fair\"\n                    value={fair}\n                    onChange={this.handleChange}\n                  />\n                </div>\n              </div>\n              <div>\n                <label htmlFor=\"feedback\">\n                  Feedback, including problems you encountered.\n                </label>\n                <div>\n                  <textarea\n                    dir=\"auto\"\n                    id=\"feedback\"\n                    name=\"feedback\"\n                    value={feedback}\n                    onChange={this.handleChange}\n                  />\n                </div>\n              </div>\n            </div>\n\n            <button type=\"submit\">Submit</button>\n          </form>\n        </div>\n      </Centered>\n    );\n  }\n}\n","import React, { Component } from 'react'\nimport { Meteor } from \"meteor/meteor\";\nimport { Centered } from \"meteor/empirica:core\";\n\nexport default class Sorry extends Component {\n    static stepName = \"Sorry\";\n\n    render() {\n        const { player, game } = this.props;\n        let msg;\n        console.log(player);\n        switch (player.exitStatus) {\n            case \"gameFull\":\n                msg = \"All games you are eligible for have filled up too fast...\";\n                break;\n            case \"gameLobbyTimedOut\":\n                msg = \"There were NOT enough players for the game to start...\";\n                break;\n            case \"playerEndedLobbyWait\":\n                msg =\n                    \"You decided to stop waiting, we are sorry it was too long a wait.\";\n                break;\n            default:\n                msg = \"Unfortunately the Game was cancelled...\";\n                break;\n        }\n        if (player.exitReason === \"failedQuestion\") {\n            msg =\n                \"Unfortunately you did not meet the conditions required to play the game.\";\n        }\n        // Only for dev\n        if (!game && Meteor.isDevelopment) {\n            msg =\n                \"Unfortunately the Game was cancelled because of failed to init Game (only visible in development, check the logs).\";\n        }\n        return (\n            <Centered>\n                <div>\n                    <h4>Sorry!</h4>\n                    <p>Sorry, you were not able to play today! {msg}</p>\n                    <p>\n                        <strong>Please contact the researcher to see if there are more games available.</strong>\n                    </p>\n                </div>\n            </Centered>\n        );\n    }\n}","import React from \"react\";\n\nimport { Centered } from \"meteor/empirica:core\";\n\nexport default class Thanks extends React.Component {\n  static stepName = \"Thanks\";\n  render() {\n    return (\n      <div className=\"finished\">\n        <div>\n          <h4>Finished!</h4>\n          <p>Thank you for participating!</p>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class About extends React.Component {\n  render() {\n    return <div>Here be the presentation of the experiement(ers).</div>;\n  }\n}\n","import React from 'react';\nimport PlayerTab from './PlayerTab';\n\nexport default class MyNetwork extends React.Component {\n\n    render() {\n        const {game, stage, round, player, onOpenChat} = this.props;\n        const network = player.get(\"neighbors\");\n        return (\n            <div className=\"network-container\">\n                <p className=\"network-header\"> MY NETWORK</p>\n                <div className=\"network-all-players-container\">\n                {network.map((otherNodeId) => {\n                    // const otherPlayerId = game.players.find(p => p.get(\"nodeId\") === parseInt(otherNodeId)).id;\n                    return (\n                        <PlayerTab game={game} otherPlayerNodeId={otherNodeId} openChat={onOpenChat} />\n                    )\n                })\n                }\n                </div>\n            </div>\n        )\n    }\n}","import React from \"react\";\n\nimport Timer from \"./Timer.jsx\";\n\nexport default class PlayerProfile extends React.Component {\n  renderProfile() {\n    const { player } = this.props;\n    return (\n      <div className=\"profile-score\">\n        <h3>Your Profile</h3>\n        <img src={player.get(\"avatar\")} className=\"profile-avatar\" />\n      </div>\n    );\n  }\n\n  renderScore() {\n    const { player } = this.props;\n    return (\n      <div className=\"profile-score\">\n        <h4>Total score</h4>\n        <span>{(player.get(\"score\") || 0).toFixed(2)}</span>\n      </div>\n    );\n  }\n\n  render() {\n    const { stage } = this.props;\n\n    return (\n      <aside className=\"player-profile\">\n        {this.renderProfile()}\n        {this.renderScore()}\n        <Timer stage={stage} />\n      </aside>\n    );\n  }\n}\n","import React from 'react';\n\nexport default class PlayerTab extends React.Component {\n\n    handleOpenChat = () => {\n        console.log(this.props);\n        const {otherPlayerNodeId, openChat} = this.props;\n        openChat(otherPlayerNodeId);\n    }\n\n    render() {\n        const {game, otherPlayerNodeId, openChat} = this.props;\n        const otherPlayerId = game.players.find(p => p.get(\"nodeId\") === parseInt(otherPlayerNodeId)).id;\n\n\n        return (\n            <div className=\"network-player-container\">\n                <div className=\"network-name-container\" onClick={this.handleOpenChat}>\n                    {otherPlayerId}\n                </div>\n                <div className=\"network-avatar-container\">\n                    <img src={`images/icon-profile-white.png`} width=\"25px\" height=\"25px\" />\n                </div>\n            </div>\n        )\n    }\n}","import React from \"react\";\n\nexport default class Round extends React.Component {\n\n  render() {\n    const { stage, round, game } = this.props;\n    const result = round.get(\"result\");\n      \n    return (\n        <div>\n            <h1> Your team was {result ? \"CORRECT\" : \"INCORRECT\"} !</h1>\n        </div>\n    );\n  }\n}\n","import React from \"react\";\n\nimport PlayerProfile from \"./PlayerProfile.jsx\";\nimport SocialExposure from \"./SocialExposure.jsx\";\nimport MyNetwork from \"./MyNetwork.jsx\";\nimport StageResult from \"./StageResult.jsx\";\nimport Results from \"./Results.jsx\";\nimport Task from \"./Task.jsx\";\nimport Timer from \"./Timer.jsx\";\n\nexport default class Round extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeChats : [],\n    }\n}\n\n  onOpenChat = (otherPlayerNodeId) => {\n    const {player} = this.props;\n    var pairOfPlayers = [player.get(\"nodeId\"), parseInt(otherPlayerNodeId)];\n    pairOfPlayers.sort((p1,p2) => p1 - p2);\n    var customKey = `${pairOfPlayers[0]}-${pairOfPlayers[1]}`;\n    console.log(this.state);\n    console.log(this.state.activeChats);\n    if (!this.state.activeChats.includes(customKey)) {\n      this.state.activeChats.push(customKey);\n    }\n\n    console.log(this.state);\n  }\n\n  onCloseChat = (customKey) => {\n    const newActiveChats = this.state.activeChats.filter((chat) => chat !== customKey);\n    this.setState({activeChats : newActiveChats});\n    console.log(this.state);\n  }\n\n  render() {\n    const { stage, round, player, game } = this.props;\n    // const showResults = stage.get(\"showResults\");\n\n    // if (showResults) {\n    //   const result = stage.get(\"result\")\n    //   return (\n    //   <div>\n    //     <StageResult stage={stage} showResults={showResults} result={result} timer={10}/>\n    //   </div>\n    //   )\n    // }\n\n    if (stage.name === \"Result\") {\n      return (\n        <div>\n          <Results game={game} round={round} stage={stage}/> \n          <Timer stage={stage}/>\n        </div>\n      )\n    } else {\n      \n      return (\n        <div className=\"round\">\n          <div className=\"content\">\n            {/* <PlayerProfile player={player} stage={stage} game={game} /> */}\n            <div className=\"task-network-container\">\n              <Task game={game} round={round} stage={stage} player={player} />\n              <MyNetwork game={game} round={round} stage={stage} player={player} onOpenChat={(otherPlayerNodeId) => this.onOpenChat(otherPlayerNodeId)}/>\n            </div>\n            <SocialExposure game={game} round={round} stage={stage} player={player} onCloseChat={(customKey) => this.onCloseChat(customKey)} activeChats={this.state.activeChats} />\n            {/* <Timer stage={stage} /> */}\n          </div>\n        </div>\n      );\n    }\n  } \n}\n","import \"../chat/style.less\";\n\nimport React from \"react\";\nimport { Chat } from \"@empirica/chat\";\nimport ChatContainer from \"../chat/ChatContainer.js\";\nimport  Message  from \"../chat/Message.js\";\nimport Footer from \"../chat/Footer.js\";\nimport { TimeSync } from \"meteor/mizzao:timesync\";\nimport moment from \"moment\";\nimport Slider from \"meteor/empirica:slider\";\n\n\nexport default class SocialExposure extends React.Component {\n  renderSocialInteraction(otherPlayer) {\n    const value = otherPlayer.round.get(\"value\");\n    return (\n      <div className=\"alter\" key={otherPlayer._id}>\n        <img src={otherPlayer.get(\"avatar\")} className=\"profile-avatar\" />\n        <div className=\"range\">\n          <Slider\n            min={0}\n            max={1}\n            stepSize={0.01}\n            value={value}\n            disabled\n            hideHandleOnEmpty\n          />\n        </div>\n      </div>\n    );\n  }\n\n  logIncomingMessage = (msgs, customKey) => {\n    const {game, round, stage, player} = this.props;\n\n    const messages = round.get(`${customKey}`)\n    const mostRecentMsg = messages[messages.length -1];\n    const receiver = mostRecentMsg.player._id;\n\n    // TODO: Check if this only appends if player chat is open\n    // onIncomingMessage logs the message for both sender and receiver\n    // Only log one copy of the message\n    if (player._id === receiver) {\n      stage.append(\"log\", {\n        verb: \"messageLog\",\n        subjectId: player.id,\n        object: mostRecentMsg,\n        at: moment(TimeSync.serverTime(null, 1000)),\n      })\n    }\n  }\n\n  render() {\n    const { game, round, player, onCloseChat, activeChats } = this.props;\n\n    const network = player.get(\"neighbors\");\n    // reactive time value only updates at 1000 ms\n    const timeStamp = new Date(TimeSync.serverTime(null, 1000));\n\n    if (network.length === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"all-chats-container\">\n        {/* <p>\n          <strong>There are {network.length} other players:</strong>\n        </p> */}\n        {/* {otherPlayers.map(p => this.renderSocialInteraction(p))} */}\n        {/* <Chat player={player} scope={round} /> */}\n\n        {network.map(otherNodeId => {\n          var pairOfPlayers = [player.get(\"nodeId\"), parseInt(otherNodeId)];\n          pairOfPlayers.sort((p1,p2) => p1 - p2);\n          const otherPlayerId = game.players.find(p => p.get(\"nodeId\") === parseInt(otherNodeId)).id\n          const chatKey = `${pairOfPlayers[0]}-${pairOfPlayers[1]}`;\n          return (\n            <div>\n              {/* <h2>{otherPlayerId}</h2> */}\n              <ChatContainer\n                docked={true}\n                key={otherNodeId}\n                player={player}\n                otherPlayer={otherPlayerId}\n                scope={round}  \n                timeStamp={timeStamp}\n                customClassName={\"ray-chat-container\"}\n                message={Message}\n                footer={Footer}\n                onIncomingMessage={this.logIncomingMessage}           \n                customKey={chatKey}\n                // isActive={activeChats.includes(chatKey)}\n                isActive={true}\n                onCloseChat={onCloseChat}\n              />\n           {/* <ChatContainer\n            //     key={otherNodeId}\n            //     player={player}\n            //     scope={round}  \n            //     timeStamp={timeStamp}\n            //     onIncomingMessage={this.logIncomingMessage}           \n            //     customKey={`${pairOfPlayers[0]}-${pairOfPlayers[1]}`}\n            //   /> */}\n             </div>\n            )\n          }\n        )}\n\n\n\n\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class StageResult extends React.Component {\n\n  constructor(props) {\n      super(props);\n      this.state = {\n          counter: props.timer\n      }\n  }\n\n  finishDisplay() {\n    const { stage } = this.props;\n    stage.set(\"resultsShown\", true);\n  }\n\n  render() {\n\n    if (this.props.showResults) {\n        let x = this;\n        let { counter } = this.state;\n\n        let timer = setTimeout(function () {\n            if (counter > 0) {\n                x.setState({counter: counter - 1});\n            } else {\n                x.finishDisplay();\n                // x.props.finishDisplay();\n            }\n        }, 1000);\n\n        return (\n            <div>\n                <h1> Your team was {this.props.result ? \"CORRECT\" : \"INCORRECT\"} !</h1>\n                <h3> SECONDS LEFT: {this.state.counter} </h3>\n            </div>\n            )\n    } else {\n        return <h1> TIME UP </h1>\n    }\n  }\n}\n","import React from 'react';\nexport default class SymbolButton extends React.Component {\n/* \n  @prop id - id of the symbol\n  @prop name - name of the symbol (TESTING PURPOSES)\n*/\n  constructor(props) {\n      super(props);\n  }\n\n  // When button is selected, player sets the id of the button he selected\n  handleClick = () => {\n      const { game, player, stage, name, handleButtonSelect } = this.props;\n      player.set(\"symbolSelected\", name);\n      handleButtonSelect(name);\n      console.log(`${player.get(\"nodeId\")} selected ${name}`);\n  }\n\n  render() {\n    const { game, stage, player, name, selected} = this.props;\n\n\n    return (\n      <div className=\"symbol-container\">\n        <button className={selected ? \"symbolButtonSelected\" : \"symbolButtonUnselected\"} onClick={this.handleClick}>\n            <img src={`images/symbols/tangrams/${name}.png`} height=\"80px\" width=\"80px\"/>\n        </button>\n     </div>\n    );\n  }\n}\n","import React from \"react\";\n\nimport TaskResponse from \"./TaskResponse\";\nimport TaskStimulus from \"./TaskStimulus\";\n\nexport default class Task extends React.Component {\n  render() {\n    const { stage, player, game } = this.props;\n\n    return (\n      <div className=\"task-container\">\n        {/* <TaskStimulus {...this.props} /> */}\n        <TaskResponse {...this.props} />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport Slider from \"meteor/empirica:slider\";\nimport { TimeSync } from \"meteor/mizzao:timesync\";\nimport moment from \"moment\";\n\nimport SymbolButton from \"./SymbolButton.jsx\";\n\nexport default class TaskResponse extends React.Component {\n  constructor(props) {\n    super(props);  \n    this.state = {\n      selectedButton: props.player.get(\"symbolSelected\") | \"\",\n    }\n  }\n\n  handleSubmit = event => {\n    const { stage, player, game } = this.props;\n\n    event.preventDefault();\n\n    stage.append(\"log\", {\n      verb: \"playerSubmitted\",\n      subjectId: player.id,\n      object: true,\n      at: moment(TimeSync.serverTime(null, 1000)),\n    })\n    player.set(\"submitted\", true);\n  };\n\n  handleReconsider = event => {\n    const { stage, player, game } = this.props;\n\n    event.preventDefault();\n    console.log(\"Reconsidering...\");\n    player.set(\"submitted\", false);\n\n    stage.append(\"log\", {\n      verb: \"playerReconsidered\",\n      subjectId: player.id,\n      object: true,\n      at: moment(TimeSync.serverTime(null, 1000)),\n    })\n\n    // this.setState({selectedButton: \"\"});\n\n  }\n\n  handleButtonSelect= (symbolName) => {\n    const { stage, player, game } = this.props;\n    // stage.set(\"selectedButton\", symbolName);\n    this.setState({selectedButton: symbolName});\n\n    stage.append(\"log\", {\n      verb: \"selectingSymbol\",\n      subjectId: player.id,\n      object: symbolName,\n      at: moment(TimeSync.serverTime(null, 1000)),\n    });\n\n  }\n\n  renderSubmitted() {\n    return (\n      <div>\n        <h5>Waiting on other players...</h5>\n        Please wait until all players are ready. If you would like to reconsider your answer, click on the reconsider button.\n      </div>\n    );\n  }\n\n  renderSlider() {\n    const { player } = this.props;\n    const value = player.round.get(\"value\");\n    return (\n      <Slider\n        min={0}\n        max={1}\n        stepSize={0.01}\n        labelStepSize={0.25}\n        onChange={this.handleChange}\n        value={value}\n        hideHandleOnEmpty\n      />\n    );\n  }\n\n  renderButton() {\n    const { stage, player, game } = this.props;\n    // const task = stage.get(\"task\");\n    const selectedSymbol = player.get(\"symbolSelected\")\n    const task = player.get(`${stage.displayName}`)\n    return (\n      task.map((symbol) => \n      <SymbolButton \n        key={symbol}\n        name={symbol}\n        handleButtonSelect={(symbolName) => this.handleButtonSelect(symbolName)}\n        selected={selectedSymbol === symbol}\n        stage={stage}\n        game={game}\n        player={player}\n      />\n      )\n    );\n  }\n\n  render() {\n    const { stage, round, player, game } = this.props;\n\n\n    const selected = player.get(\"symbolSelected\")\n    const submitted = player.get(\"submitted\");\n\n    // Create a list of dots to show how many players submitted\n    const playersSubmitted = round.get(\"numPlayersSubmitted\");\n    const playersNotSubmitted = game.players.length - playersSubmitted;\n    let filledDots = [];\n    let unfilledDots = [];\n    for (let i = 0; i < playersSubmitted; i++) {\n      filledDots.push(<span className=\"filled-dot\"></span>)\n    }\n    for (let i = 0; i < playersNotSubmitted; i++) {\n      unfilledDots.push(<span className=\"empty-dot\"></span>)\n    }\n\n    // If the player already submitted, don't show the slider or submit button\n    \n    const disabled = player.get(\"submitted\");\n    return (\n      <div className=\"task-response-container\">\n        <div className=\"task-response-header\">\n          <p className=\"header\"> MY CARD</p>\n          <div className=\"submission-dots-container\">\n            <p className=\"header\"> SUBMITTED ANSWERS </p>\n            {filledDots}\n            {unfilledDots}\n          </div>\n        </div>\n        <div className=\"task-response-body\">\n          <div className=\"submission-message-container\">\n            {submitted ? this.renderSubmitted() : \"\"}\n          </div>\n          <div className=\"task-response\">\n              {this.renderButton()}\n          </div>\n        </div>\n        {/* {!submitted ? \n            <form onSubmit={this.handleSubmit}>\n              <button className=\"button button-submit\" disabled={submitted ? true : false} type=\"submit\"> Submit </button> \n            </form>\n          :\n            <button className=\"button button-b button-reconsider\" disabled={!submitted ? true : false} onClick={this.handleReconsider}> Reconsider </button> \n        } */}\n          <div className=\"button-container\">\n              <form onSubmit={this.handleSubmit} style={{opacity: submitted ? 0 : 1}}>\n                <button \n                  className={!selected || submitted ? \"arrow-button button-submit-disabled\" : \"arrow-button button-submit\"} \n                  disabled= {!selected || submitted ? true : false} type=\"submit\"> Submit </button> \n              </form>\n              <form onSubmit={this.handleReconsider} style={{opacity: !submitted ? 0 : 1}}>\n                <button className=\"arrow-button button-reconsider\" disabled={!submitted ? true : false}> Reconsider </button> \n              </form>\n          </div>\n\n        </div>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class TaskStimulus extends React.Component {\n  render() {\n    const { stage, player } = this.props;\n\n    return (\n      <div className=\"task-stimulus\">\n        Work with your teammates to find the common symbol.\n      </div>\n    );\n  }\n}\n","import { StageTimeWrapper } from \"meteor/empirica:core\";\nimport React from \"react\";\n\nclass timer extends React.Component {\n  render() {\n    const { remainingSeconds } = this.props;\n    const classes = [\"timer\"];\n    if (remainingSeconds <= 5) {\n      classes.push(\"lessThan5\");\n    } else if (remainingSeconds <= 10) {\n      classes.push(\"lessThan10\");\n    }\n\n    return (\n      <div className={classes.join(\" \")}>\n        <h4>Timer</h4>\n        <span className=\"seconds\">{remainingSeconds}</span>\n      </div>\n    );\n  }\n}\n\nexport default (Timer = StageTimeWrapper(timer));\n","import Empirica from \"meteor/empirica:core\";\nimport { render } from \"react-dom\";\nimport ExitSurvey from \"./exit/ExitSurvey\";\nimport Thanks from \"./exit/Thanks\";\nimport Sorry from \"./exit/Sorry\";\nimport About from \"./game/About\";\nimport Round from \"./game/Round\";\nimport Consent from \"./intro/Consent\";\nimport TutorialPageOne from \"./intro/TutorialPageOne\";\nimport TutorialPageTwo from \"./intro/TutorialPageTwo\";\nimport TutorialPageThree from \"./intro/TutorialPageThree\";\nimport TutorialPageFour from \"./intro/TutorialPageFour\";\nimport QuizOne from \"./intro/quiz/QuizOne\";\n// import QuizTwo from \"./intro/quiz/QuizTwo\";\n// import QuizThree from \"./intro/quiz/QuizThree\";\n// import QuizFour from \"./intro/quiz/QuizThree\";\nimport NewPlayer from \"./intro/NewPlayer\";\n\n\n// Set the About Component you want to use for the About dialog (optional).\nEmpirica.about(About);\n\n// Set the Consent Component you want to present players (optional).\nEmpirica.consent(Consent);\n\n// Set the component for getting the player id (optional)\nEmpirica.newPlayer(NewPlayer);\n\n// Introduction pages to show before they play the game (optional).\n// At this point they have been assigned a treatment. You can return\n// different instruction steps depending on the assigned treatment.\nEmpirica.introSteps((game, treatment) => {\n  const steps = [QuizOne, QuizTwo, QuizThree, QuizFour, QuizFive, QuizSix, QuizSeven, QuizEight, TutorialPageOne, TutorialPageTwo, TutorialPageThree, TutorialPageFour];\n  if (treatment.playerCount > 1) {\n  }\n  steps.push(QuizOne);\n  return steps;\n});\n\n// The Round component containing the game UI logic.\n// This is where you will be doing the most development.\n// See client/game/Round.jsx to learn more.\nEmpirica.round(Round);\n\n// End of Game pages. These may vary depending on player or game information.\n// For example we can show the score of the user, or we can show them a\n// different message if they actually could not participate the game (timed\n// out), etc.\n// The last step will be the last page shown to user and will be shown to the\n// user if they come back to the website.\n// If you don't return anything, or do not define this function, a default\n// exit screen will be shown.\nEmpirica.exitSteps((game, player) => {\n  if (\n    !game ||\n    (player.exitStatus &&\n      player.exitStatus !== \"finished\" &&\n      player.exitReason !== \"playerQuit\")\n  ) {\n    return [Sorry];\n  }\n  return [ExitSurvey, Thanks];\n});\n\n// Start the app render tree.\n// NB: This must be called after any other Empirica calls (Empirica.round(),\n// Empirica.introSteps(), ...).\n// It is required and usually does not need changing.\nMeteor.startup(() => {\n  render(Empirica.routes(), document.getElementById(\"app\"));\n});\n"]}}]