[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nmeteorInstall = Package.modules.meteorInstall;\nPromise = Package.promise.Promise;\n_ = Package.underscore._;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\n\n","servePath":"/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"client\":{\"chat\":{\"ChatContainer.js\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/chat/ChatContainer.js                                                                                     //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nlet _extends;\n\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default(v) {\n    _extends = v;\n  }\n\n}, 0);\n\nlet _objectWithoutProperties;\n\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default(v) {\n    _objectWithoutProperties = v;\n  }\n\n}, 1);\nmodule.export({\n  default: () => ChatContainer\n});\nmodule.link(\"./style.less\");\nlet PropTypes;\nmodule.link(\"prop-types\", {\n  default(v) {\n    PropTypes = v;\n  }\n\n}, 0);\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 1);\nlet Footer;\nmodule.link(\"./Footer\", {\n  default(v) {\n    Footer = v;\n  }\n\n}, 2);\nlet Message;\nmodule.link(\"./Message\", {\n  default(v) {\n    Message = v;\n  }\n\n}, 3);\nlet Messages;\nmodule.link(\"./Messages\", {\n  default(v) {\n    Messages = v;\n  }\n\n}, 4);\nlet ChatHeader;\nmodule.link(\"./ChatHeader\", {\n  default(v) {\n    ChatHeader = v;\n  }\n\n}, 5);\nlet ErrorBoundary;\nmodule.link(\"./ErrorBoundary\", {\n  default(v) {\n    ErrorBoundary = v;\n  }\n\n}, 6);\n\nclass ChatContainer extends React.PureComponent {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      isActive: true,\n      isOpen: true\n    };\n\n    this.onTitleClick = () => {\n      this.setState({\n        isOpen: !this.state.isOpen\n      });\n    };\n\n    this.onXClick = () => {\n      this.setState({\n        isActive: !this.state.isActive\n      });\n    };\n\n    this.onNewMessage = msg => {\n      const {\n        onNewMessage,\n        scope,\n        customKey\n      } = this.props;\n\n      if (onNewMessage) {\n        msg = onNewMessage(msg);\n\n        if (!msg) {\n          return;\n        }\n      }\n\n      scope.append(customKey, msg);\n    };\n\n    this.componentDidMount = () => {\n      const {\n        dockStartOpen,\n        docked\n      } = this.props;\n\n      if (docked && !dockStartOpen) {\n        this.setState({\n          isOpen: false\n        });\n      }\n    };\n  }\n\n  render() {\n    const {\n      isOpen\n    } = this.state;\n\n    const _this$props = this.props,\n          {\n      player,\n      scope,\n      customKey,\n      customClassName,\n      docked,\n      onIncomingMessage,\n      filter,\n      timeStamp,\n      otherPlayer,\n      header: HeaderComp,\n      message: MessageComp,\n      footer: FooterComp\n    } = _this$props,\n          rest = _objectWithoutProperties(_this$props, [\"player\", \"scope\", \"customKey\", \"customClassName\", \"docked\", \"onIncomingMessage\", \"filter\", \"timeStamp\", \"otherPlayer\", \"header\", \"message\", \"footer\"]);\n\n    const common = {\n      player,\n      scope,\n      customKey\n    };\n    return /*#__PURE__*/React.createElement(ErrorBoundary, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(customClassName ? customClassName : \"empirica-chat-container\", \" \").concat(docked ? \"undocked\" : \"undocked\")\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"chat \".concat(isOpen ? \"open\" : \"\")\n    }, docked && /*#__PURE__*/React.createElement(HeaderComp, _extends({}, common, {\n      otherPlayer: otherPlayer,\n      onTitleClick: this.onTitleClick,\n      onXClick: this.onXClick,\n      isOpen: isOpen\n    })), isOpen ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Messages, _extends({}, common, {\n      messageComp: MessageComp,\n      filter: filter,\n      onIncomingMessage: onIncomingMessage\n    }, rest)), /*#__PURE__*/React.createElement(FooterComp, _extends({}, common, {\n      timeStamp: timeStamp,\n      onNewMessage: this.onNewMessage\n    }))) : \"\")));\n  }\n\n}\n\nChatContainer.defaultProps = {\n  customKey: \"chat\",\n  docked: false,\n  customClassName: \"\",\n  dockStartOpen: true,\n  hideAvatar: false,\n  hideName: false,\n  svgAvatar: false,\n  hideNotificiationBadge: false,\n  // header: ({ onClick, isOpen }) => (\n  //   <div className=\"header\">\n  //     <span className=\"title\">CHAT </span>\n  //     <span className=\"close-button\" onClick={onClick}>\n  //       {isOpen ? \"-\" : \"+\"}\n  //     </span>\n  //   </div>\n  // ),\n  header: ChatHeader,\n  message: Message,\n  footer: Footer\n};\nChatContainer.propTypes = {\n  player: PropTypes.object.isRequired,\n  scope: PropTypes.object.isRequired,\n  customKey: PropTypes.string.isRequired,\n  timeStamp: PropTypes.instanceOf(Date),\n  docked: PropTypes.bool,\n  dockStartOpen: PropTypes.bool,\n  hideAvatar: PropTypes.bool,\n  hideName: PropTypes.bool,\n  svgAvatar: PropTypes.bool,\n  customClassName: PropTypes.string,\n  onNewMessage: PropTypes.func,\n  onIncomingMessage: PropTypes.func,\n  filter: PropTypes.func,\n  header: PropTypes.elementType.isRequired,\n  message: PropTypes.elementType.isRequired,\n  footer: PropTypes.elementType.isRequired\n};\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"ChatHeader.js\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/chat/ChatHeader.js                                                                                        //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nmodule.export({\n  default: () => ChatHeader\n});\nmodule.link(\"./style.less\");\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\n\nclass ChatHeader extends React.PureComponent {\n  render() {\n    const {\n      otherPlayer,\n      onTitleClick,\n      onXClick,\n      isOpen\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"title\",\n      onClick: onTitleClick\n    }, \" \", otherPlayer, \" \"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"close-button\",\n      onClick: onXClick\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/icon-net-window-close.png\",\n      width: \"17px\",\n      height: \"17px\"\n    })));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"ErrorBoundary.js\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/chat/ErrorBoundary.js                                                                                     //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nmodule.export({\n  default: () => ErrorBoundary\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasError: false\n    };\n  }\n\n  static getDerivedStateFromError(error) {\n    return {\n      hasError: true\n    };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    console.error(\"error on chat package \", error);\n    console.error(\"error on chat package:info \", errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return /*#__PURE__*/React.createElement(\"h1\", null, \"Something went wrong.\");\n    }\n\n    return this.props.children;\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Footer.js\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/chat/Footer.js                                                                                            //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nlet _objectSpread;\n\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default(v) {\n    _objectSpread = v;\n  }\n\n}, 0);\nmodule.export({\n  default: () => Footer\n});\nmodule.link(\"./style.less\");\nlet PropTypes;\nmodule.link(\"prop-types\", {\n  default(v) {\n    PropTypes = v;\n  }\n\n}, 0);\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 1);\n\nclass Footer extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      comment: \"\",\n      rows: 1,\n      minRows: 1,\n      maxRows: 5,\n      buttonHeight: 30\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const text = this.state.comment.trim();\n\n      if (text === \"\") {\n        return;\n      }\n\n      const {\n        player,\n        onNewMessage,\n        timeStamp\n      } = this.props;\n      let msg = {\n        text,\n        player: {\n          _id: player._id,\n          avatar: player.get(\"avatar\"),\n          name: player.get(\"name\") || player._id\n        }\n      };\n\n      if (timeStamp) {\n        msg = _objectSpread({}, msg, {\n          timeStamp\n        });\n      }\n\n      onNewMessage(msg);\n      this.setState({\n        comment: \"\"\n      });\n    };\n\n    this.handleChange = e => {\n      const el = e.currentTarget;\n      const textareaLineHeight = 24;\n      const {\n        minRows,\n        maxRows\n      } = this.state;\n      const previousRows = e.target.rows;\n      e.target.rows = minRows; // reset number of rows in textarea\n\n      const currentRows = ~~(e.target.scrollHeight / textareaLineHeight);\n\n      if (currentRows === previousRows) {\n        e.target.rows = currentRows;\n      }\n\n      if (currentRows >= maxRows) {\n        e.target.rows = maxRows;\n        e.target.scrollTop = e.target.scrollHeight;\n      }\n\n      const usedRows = currentRows < maxRows ? currentRows : maxRows;\n      this.setState({\n        [el.name]: el.value,\n        rows: usedRows\n      }, () => {\n        this.setState({\n          buttonHeight: document.getElementById(\"chat-input\").offsetHeight\n        });\n      });\n    };\n  }\n\n  render() {\n    const {\n      comment,\n      rows,\n      buttonHeight\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"form\", {\n      className: \"chat-footer-form\",\n      onSubmit: this.handleSubmit\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"chat-footer\"\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      id: \"chat-input\",\n      name: \"comment\",\n      className: \"chat-input\",\n      placeholder: \"My message\",\n      value: comment,\n      onKeyPress: e => {\n        if (e.key === \"Enter\") {\n          this.handleSubmit(e);\n        }\n      },\n      rows: rows,\n      onChange: this.handleChange,\n      autoComplete: \"off\"\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      form: \"chat-input\",\n      className: \"chat-button-send\",\n      disabled: !comment,\n      onClick: this.handleSubmit\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/icon-enter.png\",\n      width: \"15px\",\n      height: \"17px\"\n    })));\n  }\n\n}\n\nFooter.propTypes = {\n  player: PropTypes.object.isRequired,\n  scope: PropTypes.object.isRequired,\n  customKey: PropTypes.string.isRequired,\n  onNewMessage: PropTypes.func,\n  timeStamp: PropTypes.instanceOf(Date)\n};\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Message.js\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/chat/Message.js                                                                                           //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nmodule.export({\n  default: () => Message\n});\nlet PropTypes;\nmodule.link(\"prop-types\", {\n  default(v) {\n    PropTypes = v;\n  }\n\n}, 0);\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 1);\nlet isString;\nmodule.link(\"lodash\", {\n  isString(v) {\n    isString = v;\n  }\n\n}, 2);\n\nclass Message extends React.Component {\n  constructor() {\n    super(...arguments);\n\n    this.renderTime = timeStamp => {\n      const hours = new Date(timeStamp).getHours();\n      const minutes = new Date(timeStamp).getMinutes();\n\n      if (!hours || !minutes) {\n        return null;\n      }\n\n      const time = \"\".concat(hours.toString().padStart(2, 0), \":\").concat(minutes.toString().padStart(2, 0));\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"timeStamp\"\n      }, time);\n    };\n\n    this.renderName = (isSelf, name) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"name\"\n      }, isSelf ? \"You\" : name);\n    };\n  }\n\n  render() {\n    const {\n      message,\n      player,\n      hideName,\n      hideAvatar,\n      svgAvatar,\n      avatar\n    } = this.props;\n    const {\n      player: msgPlayer,\n      text,\n      timeStamp\n    } = message;\n    const isSelf = player._id == msgPlayer._id;\n    let avatarImg;\n    const useAvatar = !hideAvatar && (svgAvatar || avatar);\n\n    if (useAvatar && avatar) {\n      if (isString(avatar)) {\n        console.warn(\"Deprecation: avatar should be an object containing a src or svg property\");\n        avatarImg = /*#__PURE__*/React.createElement(\"img\", {\n          className: \"avatar\",\n          alt: '',\n          src: avatar\n        });\n      } else {\n        const avatarSrc = avatar.svg || avatar.src;\n\n        if (avatar.svg) {\n          avatarImg = /*#__PURE__*/React.createElement(\"div\", {\n            dangerouslySetInnerHTML: {\n              __html: avatarSrc\n            },\n            className: \"avatar\"\n          });\n        } else {\n          avatarImg = /*#__PURE__*/React.createElement(\"img\", {\n            className: \"avatar\",\n            alt: avatar.alt,\n            src: avatar.src\n          });\n        }\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", null, !isSelf ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"other-message-tick-container\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/net-bubble.png\",\n      width: \"15px\",\n      height: \"10px\"\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-container-other\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text\"\n    }, text))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-container-self\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text\"\n    }, text)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"self-message-tick-container\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/my-bubble.png\",\n      width: \"15px\",\n      height: \"10px\"\n    }))));\n  }\n\n}\n\nMessage.propTypes = {\n  message: PropTypes.shape({\n    text: PropTypes.string.isRequired,\n    player: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      avatar: PropTypes.string\n    })\n  }).isRequired,\n  self: PropTypes.bool,\n  hideAvatar: PropTypes.bool,\n  hideName: PropTypes.bool,\n  svgAvatar: PropTypes.bool,\n  avatar: PropTypes.shape({\n    svg: PropTypes.string,\n    src: PropTypes.string,\n    alt: PropTypes.string\n  })\n};\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Messages.js\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/chat/Messages.js                                                                                          //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nlet _objectWithoutProperties;\n\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default(v) {\n    _objectWithoutProperties = v;\n  }\n\n}, 0);\n\nlet _extends;\n\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default(v) {\n    _extends = v;\n  }\n\n}, 1);\nlet PropTypes;\nmodule.link(\"prop-types\", {\n  default(v) {\n    PropTypes = v;\n  }\n\n}, 0);\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 1);\n\nfunction filteredMessages(WrappedComponent) {\n  return class extends React.Component {\n    render() {\n      const {\n        scope,\n        customKey,\n        filter\n      } = this.props;\n      let messages = scope.get(customKey) || [];\n\n      if (filter) {\n        messages = filter(messages);\n      }\n\n      return /*#__PURE__*/React.createElement(WrappedComponent, _extends({\n        messages: [...messages]\n      }, this.props));\n    }\n\n  };\n}\n\nclass Messages extends React.Component {\n  constructor(props) {\n    super(props);\n    this.messagesEl = React.createRef();\n    this.state = {\n      messageLength: 0\n    };\n  }\n\n  componentDidMount() {\n    this.messagesEl.current.scrollTop = this.messagesEl.current.scrollHeight;\n    this.setState({\n      messageLength: this.props.messages.length\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      messageLength\n    } = this.state;\n    const {\n      messages: currentMessages,\n      onIncomingMessage,\n      customKey\n    } = this.props;\n\n    if (this.messagesEl.current !== null && currentMessages.length > messageLength) {\n      this.setState({\n        messageLength: currentMessages.length\n      }, () => {\n        if (onIncomingMessage) {\n          onIncomingMessage(currentMessages.splice(this.state.messageLength), customKey);\n        }\n\n        this.messagesEl.current.scrollTop = this.messagesEl.current.scrollHeight;\n      });\n    }\n  }\n\n  render() {\n    const _this$props = this.props,\n          {\n      player,\n      messages,\n      messageComp: MessageComp\n    } = _this$props,\n          rest = _objectWithoutProperties(_this$props, [\"player\", \"messages\", \"messageComp\"]);\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"messages\",\n      ref: this.messagesEl\n    }, messages.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"empty\"\n    }, \"No messages yet...\") : null, messages.map((message, i) => {\n      return /*#__PURE__*/React.createElement(MessageComp, _extends({\n        key: i,\n        message: message,\n        player: player\n      }, rest));\n    }));\n  }\n\n}\n\nMessages.propTypes = {\n  player: PropTypes.object,\n  messageComp: PropTypes.elementType,\n  filter: PropTypes.func,\n  onIncomingMessage: PropTypes.func,\n  hideAvatar: PropTypes.bool,\n  hideName: PropTypes.bool,\n  svgAvatar: PropTypes.bool,\n  customKey: PropTypes.string\n};\nmodule.exportDefault(filteredMessages(Messages));\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"style.less\":function module(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/chat/style.less                                                                                           //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\n// These styles have already been applied to the document.\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"exit\":{\"ExitSurvey.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/exit/ExitSurvey.jsx                                                                                       //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nmodule.export({\n  default: () => ExitSurvey\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet Centered;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  }\n\n}, 1);\n\nconst Radio = (_ref) => {\n  let {\n    selected,\n    name,\n    value,\n    label,\n    onChange\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"label\", null, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    name: name,\n    value: value,\n    checked: selected === value,\n    onChange: onChange\n  }), label);\n};\n\nclass ExitSurvey extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      age: \"\",\n      gender: \"\",\n      strength: \"\",\n      fair: \"\",\n      feedback: \"\"\n    };\n\n    this.handleChange = event => {\n      const el = event.currentTarget;\n      this.setState({\n        [el.name]: el.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      this.props.onSubmit(this.state);\n    };\n  }\n\n  render() {\n    const {\n      player\n    } = this.props;\n    const {\n      age,\n      gender,\n      strength,\n      fair,\n      feedback,\n      education\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Centered, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"exit-survey\"\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \" Exit Survey \"), /*#__PURE__*/React.createElement(\"p\", null, \"Please submit the following code to receive your bonus:\", \" \", /*#__PURE__*/React.createElement(\"strong\", null, player._id), \".\"), /*#__PURE__*/React.createElement(\"p\", null, \"You final \", /*#__PURE__*/React.createElement(\"strong\", null, \"bonus\"), \" is in addition of the\", \" \", /*#__PURE__*/React.createElement(\"strong\", null, \"1 base reward\"), \" for completing the HIT.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"p\", null, \"Please answer the following short survey. You do not have to provide any information you feel uncomfortable with.\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-line\"\n    }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"age\"\n    }, \"Age\"), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"age\",\n      type: \"number\",\n      min: \"0\",\n      max: \"150\",\n      step: \"1\",\n      dir: \"auto\",\n      name: \"age\",\n      value: age,\n      onChange: this.handleChange\n    }))), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"gender\"\n    }, \"Gender\"), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"gender\",\n      type: \"text\",\n      dir: \"auto\",\n      name: \"gender\",\n      value: gender,\n      onChange: this.handleChange,\n      autoComplete: \"off\"\n    })))), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", null, \"Highest Education Qualification\"), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Radio, {\n      selected: education,\n      name: \"education\",\n      value: \"high-school\",\n      label: \"High School\",\n      onChange: this.handleChange\n    }), /*#__PURE__*/React.createElement(Radio, {\n      selected: education,\n      name: \"education\",\n      value: \"bachelor\",\n      label: \"US Bachelor's Degree\",\n      onChange: this.handleChange\n    }), /*#__PURE__*/React.createElement(Radio, {\n      selected: education,\n      name: \"education\",\n      value: \"master\",\n      label: \"Master's or higher\",\n      onChange: this.handleChange\n    }), /*#__PURE__*/React.createElement(Radio, {\n      selected: education,\n      name: \"education\",\n      value: \"other\",\n      label: \"Other\",\n      onChange: this.handleChange\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-line thirds\"\n    }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"strength\"\n    }, \"How would you describe your strength in the game?\"), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"textarea\", {\n      dir: \"auto\",\n      id: \"strength\",\n      name: \"strength\",\n      value: strength,\n      onChange: this.handleChange\n    }))), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"fair\"\n    }, \"Do you feel the pay was fair?\"), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"textarea\", {\n      dir: \"auto\",\n      id: \"fair\",\n      name: \"fair\",\n      value: fair,\n      onChange: this.handleChange\n    }))), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"feedback\"\n    }, \"Feedback, including problems you encountered.\"), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"textarea\", {\n      dir: \"auto\",\n      id: \"feedback\",\n      name: \"feedback\",\n      value: feedback,\n      onChange: this.handleChange\n    })))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\"\n    }, \"Submit\"))));\n  }\n\n}\n\nExitSurvey.stepName = \"ExitSurvey\";\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Sorry.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/exit/Sorry.jsx                                                                                            //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nmodule.export({\n  default: () => Sorry\n});\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 0);\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 1);\nlet Centered;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  }\n\n}, 2);\n\nclass Sorry extends Component {\n  render() {\n    const {\n      player,\n      game\n    } = this.props;\n    let msg;\n\n    switch (player.exitStatus) {\n      case \"gameFull\":\n        msg = \"All games you are eligible for have filled up too fast...\";\n        break;\n\n      case \"gameLobbyTimedOut\":\n        msg = \"There were NOT enough players for the game to start...\";\n        break;\n\n      case \"playerEndedLobbyWait\":\n        msg = \"You decided to stop waiting, we are sorry it was too long a wait.\";\n        break;\n\n      default:\n        msg = \"Unfortunately the Game was cancelled...\";\n        break;\n    }\n\n    if (player.exitReason === \"failedQuestion\") {\n      msg = \"Unfortunately you did not meet the conditions required to play the game.\";\n    } // Only for dev\n\n\n    if (!game && Meteor.isDevelopment) {\n      msg = \"Unfortunately the Game was cancelled because of failed to init Game (only visible in development, check the logs).\";\n    }\n\n    return /*#__PURE__*/React.createElement(Centered, null, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h4\", null, \"Sorry!\"), /*#__PURE__*/React.createElement(\"p\", null, \"Sorry, you were not able to play today! \", msg), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"strong\", null, \"Please contact the researcher to see if there are more games available.\"))));\n  }\n\n}\n\nSorry.stepName = \"Sorry\";\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Thanks.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/exit/Thanks.jsx                                                                                           //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nmodule.export({\n  default: () => Thanks\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet Centered;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  }\n\n}, 1);\n\nclass Thanks extends React.Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"finished\"\n    }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h4\", null, \"Finished!\"), /*#__PURE__*/React.createElement(\"p\", null, \"Thank you for participating!\")));\n  }\n\n}\n\nThanks.stepName = \"Thanks\";\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"game\":{\"About.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/game/About.jsx                                                                                            //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nmodule.export({\n  default: () => About\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\n\nclass About extends React.Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, \"Here be the presentation of the experiement(ers).\");\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"MyNetwork.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/game/MyNetwork.jsx                                                                                        //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nmodule.export({\n  default: () => MyNetwork\n});\nmodule.link(\"../../public/css/style.css\");\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet PlayerTab;\nmodule.link(\"./PlayerTab\", {\n  default(v) {\n    PlayerTab = v;\n  }\n\n}, 1);\n\nclass MyNetwork extends React.Component {\n  render() {\n    const {\n      game,\n      stage,\n      round,\n      player\n    } = this.props;\n    const network = player.get(\"neighbors\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"network-container\"\n    }, \"HELLO\", network.map(otherNodeId => {\n      const otherPlayerId = game.players.find(p => p.get(\"nodeId\") === parseInt(otherNodeId)).id;\n      return /*#__PURE__*/React.createElement(PlayerTab, {\n        playerId: otherPlayerId\n      });\n    }));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"PlayerProfile.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/game/PlayerProfile.jsx                                                                                    //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nmodule.export({\n  default: () => PlayerProfile\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet Timer;\nmodule.link(\"./Timer.jsx\", {\n  default(v) {\n    Timer = v;\n  }\n\n}, 1);\n\nclass PlayerProfile extends React.Component {\n  renderProfile() {\n    const {\n      player\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-score\"\n    }, /*#__PURE__*/React.createElement(\"h3\", null, \"Your Profile\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: player.get(\"avatar\"),\n      className: \"profile-avatar\"\n    }));\n  }\n\n  renderScore() {\n    const {\n      player\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-score\"\n    }, /*#__PURE__*/React.createElement(\"h4\", null, \"Total score\"), /*#__PURE__*/React.createElement(\"span\", null, (player.get(\"score\") || 0).toFixed(2)));\n  }\n\n  render() {\n    const {\n      stage\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"aside\", {\n      className: \"player-profile\"\n    }, this.renderProfile(), this.renderScore(), /*#__PURE__*/React.createElement(Timer, {\n      stage: stage\n    }));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"PlayerTab.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/game/PlayerTab.jsx                                                                                        //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nmodule.export({\n  default: () => PlayerTab\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\n\nclass PlayerTab extends React.Component {\n  render() {\n    const {\n      playerId\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", null, playerId);\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Results.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/game/Results.jsx                                                                                          //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nmodule.export({\n  default: () => Round\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\n\nclass Round extends React.Component {\n  render() {\n    const {\n      stage,\n      round,\n      game\n    } = this.props;\n    const result = round.get(\"result\");\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h1\", null, \" Your team was \", result ? \"CORRECT\" : \"INCORRECT\", \" !\"));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Round.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/game/Round.jsx                                                                                            //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nmodule.export({\n  default: () => Round\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet PlayerProfile;\nmodule.link(\"./PlayerProfile.jsx\", {\n  default(v) {\n    PlayerProfile = v;\n  }\n\n}, 1);\nlet SocialExposure;\nmodule.link(\"./SocialExposure.jsx\", {\n  default(v) {\n    SocialExposure = v;\n  }\n\n}, 2);\nlet MyNetwork;\nmodule.link(\"./MyNetwork.jsx\", {\n  default(v) {\n    MyNetwork = v;\n  }\n\n}, 3);\nlet StageResult;\nmodule.link(\"./StageResult.jsx\", {\n  default(v) {\n    StageResult = v;\n  }\n\n}, 4);\nlet Results;\nmodule.link(\"./Results.jsx\", {\n  default(v) {\n    Results = v;\n  }\n\n}, 5);\nlet Task;\nmodule.link(\"./Task.jsx\", {\n  default(v) {\n    Task = v;\n  }\n\n}, 6);\nlet Timer;\nmodule.link(\"./Timer.jsx\", {\n  default(v) {\n    Timer = v;\n  }\n\n}, 7);\n\nclass Round extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onOpenChat = customKey => {};\n\n    this.onCloseChat = customKey => {};\n\n    this.state = {\n      activeChats: []\n    };\n  }\n\n  render() {\n    const {\n      stage,\n      round,\n      player,\n      game\n    } = this.props; // const showResults = stage.get(\"showResults\");\n    // if (showResults) {\n    //   const result = stage.get(\"result\")\n    //   return (\n    //   <div>\n    //     <StageResult stage={stage} showResults={showResults} result={result} timer={10}/>\n    //   </div>\n    //   )\n    // }\n\n    if (stage.name === \"Result\") {\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Results, {\n        game: game,\n        round: round,\n        stage: stage\n      }), /*#__PURE__*/React.createElement(Timer, {\n        stage: stage\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"round\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"content\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"task-network-container\"\n      }, /*#__PURE__*/React.createElement(Task, {\n        game: game,\n        round: round,\n        stage: stage,\n        player: player\n      }), /*#__PURE__*/React.createElement(MyNetwork, {\n        game: game,\n        round: round,\n        stage: stage,\n        player: player\n      })), /*#__PURE__*/React.createElement(SocialExposure, {\n        game: game,\n        round: round,\n        stage: stage,\n        player: player\n      })));\n    }\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"SocialExposure.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/game/SocialExposure.jsx                                                                                   //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nmodule.export({\n  default: () => SocialExposure\n});\nmodule.link(\"../chat/style.less\");\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet Chat;\nmodule.link(\"@empirica/chat\", {\n  Chat(v) {\n    Chat = v;\n  }\n\n}, 1);\nlet ChatContainer;\nmodule.link(\"../chat/ChatContainer.js\", {\n  default(v) {\n    ChatContainer = v;\n  }\n\n}, 2);\nlet Message;\nmodule.link(\"../chat/Message.js\", {\n  default(v) {\n    Message = v;\n  }\n\n}, 3);\nlet Footer;\nmodule.link(\"../chat/Footer.js\", {\n  default(v) {\n    Footer = v;\n  }\n\n}, 4);\nlet TimeSync;\nmodule.link(\"meteor/mizzao:timesync\", {\n  TimeSync(v) {\n    TimeSync = v;\n  }\n\n}, 5);\nlet moment;\nmodule.link(\"moment\", {\n  default(v) {\n    moment = v;\n  }\n\n}, 6);\nlet Slider;\nmodule.link(\"meteor/empirica:slider\", {\n  default(v) {\n    Slider = v;\n  }\n\n}, 7);\n\nclass SocialExposure extends React.Component {\n  constructor() {\n    super(...arguments);\n\n    this.logIncomingMessage = (msgs, customKey) => {\n      const {\n        game,\n        round,\n        stage,\n        player\n      } = this.props;\n      const messages = round.get(\"\".concat(customKey));\n      const mostRecentMsg = messages[messages.length - 1];\n      const receiver = mostRecentMsg.player._id; // onIncomingMessage logs the message for both sender and receiver\n      // Only log one copy of the message\n\n      if (player._id === receiver) {\n        stage.append(\"log\", {\n          verb: \"messageLog\",\n          subjectId: player.id,\n          object: mostRecentMsg,\n          at: moment(TimeSync.serverTime(null, 1000))\n        });\n      }\n    };\n  }\n\n  renderSocialInteraction(otherPlayer) {\n    const value = otherPlayer.round.get(\"value\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alter\",\n      key: otherPlayer._id\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: otherPlayer.get(\"avatar\"),\n      className: \"profile-avatar\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"range\"\n    }, /*#__PURE__*/React.createElement(Slider, {\n      min: 0,\n      max: 1,\n      stepSize: 0.01,\n      value: value,\n      disabled: true,\n      hideHandleOnEmpty: true\n    })));\n  }\n\n  render() {\n    const {\n      game,\n      round,\n      player\n    } = this.props;\n    const network = player.get(\"neighbors\"); // reactive time value only updates at 1000 ms\n\n    const timeStamp = new Date(TimeSync.serverTime(null, 1000));\n\n    if (network.length === 0) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"all-chats-container\"\n    }, network.map(otherNodeId => {\n      var pairOfPlayers = [player.get(\"nodeId\"), parseInt(otherNodeId)];\n      pairOfPlayers.sort((p1, p2) => p1 - p2);\n      const otherPlayerId = game.players.find(p => p.get(\"nodeId\") === parseInt(otherNodeId)).id;\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h2\", null, otherPlayerId), /*#__PURE__*/React.createElement(ChatContainer, {\n        docked: true,\n        key: otherNodeId,\n        player: player,\n        otherPlayer: otherPlayerId,\n        scope: round,\n        timeStamp: timeStamp,\n        customClassName: \"ray-chat-container\",\n        message: Message,\n        footer: Footer,\n        onIncomingMessage: this.logIncomingMessage,\n        customKey: \"\".concat(pairOfPlayers[0], \"-\").concat(pairOfPlayers[1])\n      }));\n    }));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"StageResult.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/game/StageResult.jsx                                                                                      //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nmodule.export({\n  default: () => StageResult\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\n\nclass StageResult extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      counter: props.timer\n    };\n  }\n\n  finishDisplay() {\n    const {\n      stage\n    } = this.props;\n    stage.set(\"resultsShown\", true);\n  }\n\n  render() {\n    if (this.props.showResults) {\n      let x = this;\n      let {\n        counter\n      } = this.state;\n      let timer = setTimeout(function () {\n        if (counter > 0) {\n          x.setState({\n            counter: counter - 1\n          });\n        } else {\n          x.finishDisplay(); // x.props.finishDisplay();\n        }\n      }, 1000);\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h1\", null, \" Your team was \", this.props.result ? \"CORRECT\" : \"INCORRECT\", \" !\"), /*#__PURE__*/React.createElement(\"h3\", null, \" SECONDS LEFT: \", this.state.counter, \" \"));\n    } else {\n      return /*#__PURE__*/React.createElement(\"h1\", null, \" TIME UP \");\n    }\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"SymbolButton.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/game/SymbolButton.jsx                                                                                     //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nmodule.export({\n  default: () => SymbolButton\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\n\nclass SymbolButton extends React.Component {\n  /* \n    @prop id - id of the symbol\n    @prop name - name of the symbol (TESTING PURPOSES)\n  */\n  constructor(props) {\n    super(props);\n\n    this.handleClick = () => {\n      const {\n        game,\n        player,\n        stage,\n        name,\n        handleButtonSelect\n      } = this.props;\n      player.set(\"symbolSelected\", name);\n      handleButtonSelect(name);\n      console.log(\"\".concat(player.get(\"nodeId\"), \" selected \").concat(name));\n    };\n  } // When button is selected, player sets the id of the button he selected\n\n\n  render() {\n    const {\n      game,\n      stage,\n      player,\n      name,\n      selected\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"symbol-container\"\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: selected ? \"symbolButtonSelected\" : \"symbolButtonUnselected\",\n      onClick: this.handleClick\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/symbols/tangrams/\".concat(name, \".png\"),\n      height: \"80px\",\n      width: \"80px\"\n    })));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Task.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/game/Task.jsx                                                                                             //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nmodule.export({\n  default: () => Task\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet TaskResponse;\nmodule.link(\"./TaskResponse\", {\n  default(v) {\n    TaskResponse = v;\n  }\n\n}, 1);\nlet TaskStimulus;\nmodule.link(\"./TaskStimulus\", {\n  default(v) {\n    TaskStimulus = v;\n  }\n\n}, 2);\n\nclass Task extends React.Component {\n  render() {\n    const {\n      stage,\n      player,\n      game\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"task-container\"\n    }, /*#__PURE__*/React.createElement(TaskResponse, this.props));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"TaskResponse.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/game/TaskResponse.jsx                                                                                     //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nmodule.export({\n  default: () => TaskResponse\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet Slider;\nmodule.link(\"meteor/empirica:slider\", {\n  default(v) {\n    Slider = v;\n  }\n\n}, 1);\nlet TimeSync;\nmodule.link(\"meteor/mizzao:timesync\", {\n  TimeSync(v) {\n    TimeSync = v;\n  }\n\n}, 2);\nlet moment;\nmodule.link(\"moment\", {\n  default(v) {\n    moment = v;\n  }\n\n}, 3);\nlet SymbolButton;\nmodule.link(\"./SymbolButton.jsx\", {\n  default(v) {\n    SymbolButton = v;\n  }\n\n}, 4);\n\nclass TaskResponse extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = event => {\n      const {\n        stage,\n        player,\n        game\n      } = this.props;\n      event.preventDefault();\n      stage.append(\"log\", {\n        verb: \"playerSubmitted\",\n        subjectId: player.id,\n        object: true,\n        at: moment(TimeSync.serverTime(null, 1000))\n      });\n      player.set(\"submitted\", true);\n    };\n\n    this.handleReconsider = event => {\n      const {\n        stage,\n        player,\n        game\n      } = this.props;\n      event.preventDefault();\n      console.log(\"Reconsidering...\");\n      player.set(\"submitted\", false);\n      stage.append(\"log\", {\n        verb: \"playerReconsidered\",\n        subjectId: player.id,\n        object: true,\n        at: moment(TimeSync.serverTime(null, 1000))\n      }); // this.setState({selectedButton: \"\"});\n    };\n\n    this.handleButtonSelect = symbolName => {\n      const {\n        stage,\n        player,\n        game\n      } = this.props; // stage.set(\"selectedButton\", symbolName);\n\n      this.setState({\n        selectedButton: symbolName\n      });\n      stage.append(\"log\", {\n        verb: \"selectingSymbol\",\n        subjectId: player.id,\n        object: symbolName,\n        at: moment(TimeSync.serverTime(null, 1000))\n      });\n    };\n\n    this.state = {\n      selectedButton: props.player.get(\"symbolSelected\") | \"\"\n    };\n  }\n\n  renderSubmitted() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h5\", null, \"Waiting on other players...\"), \"Please wait until all players are ready. If you would like to reconsider your answer, click on the reconsider button.\");\n  }\n\n  renderSlider() {\n    const {\n      player\n    } = this.props;\n    const value = player.round.get(\"value\");\n    return /*#__PURE__*/React.createElement(Slider, {\n      min: 0,\n      max: 1,\n      stepSize: 0.01,\n      labelStepSize: 0.25,\n      onChange: this.handleChange,\n      value: value,\n      hideHandleOnEmpty: true\n    });\n  }\n\n  renderButton() {\n    const {\n      stage,\n      player,\n      game\n    } = this.props; // const task = stage.get(\"task\");\n\n    const selectedSymbol = player.get(\"symbolSelected\");\n    const task = player.get(\"\".concat(stage.displayName));\n    return task.map(symbol => /*#__PURE__*/React.createElement(SymbolButton, {\n      key: symbol,\n      name: symbol,\n      handleButtonSelect: symbolName => this.handleButtonSelect(symbolName),\n      selected: selectedSymbol === symbol,\n      stage: stage,\n      game: game,\n      player: player\n    }));\n  }\n\n  render() {\n    const {\n      stage,\n      round,\n      player,\n      game\n    } = this.props;\n    const selected = player.get(\"symbolSelected\");\n    const submitted = player.get(\"submitted\"); // Create a list of dots to show how many players submitted\n\n    const playersSubmitted = round.get(\"numPlayersSubmitted\");\n    const playersNotSubmitted = game.players.length - playersSubmitted;\n    let filledDots = [];\n    let unfilledDots = [];\n\n    for (let i = 0; i < playersSubmitted; i++) {\n      filledDots.push( /*#__PURE__*/React.createElement(\"span\", {\n        className: \"filled-dot\"\n      }));\n    }\n\n    for (let i = 0; i < playersNotSubmitted; i++) {\n      unfilledDots.push( /*#__PURE__*/React.createElement(\"span\", {\n        className: \"empty-dot\"\n      }));\n    } // If the player already submitted, don't show the slider or submit button\n\n\n    const disabled = player.get(\"submitted\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"task-response-container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"task-response-header\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"header\"\n    }, \" MY CARD\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"submission-dots-container\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"header\"\n    }, \" SUBMITTED ANSWERS \"), filledDots, unfilledDots)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"task-response-body\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"submission-message-container\"\n    }, submitted ? this.renderSubmitted() : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"task-response\"\n    }, this.renderButton())), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button-container\"\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      style: {\n        opacity: submitted ? 0 : 1\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: !selected || submitted ? \"arrow-button button-submit-disabled\" : \"arrow-button button-submit\",\n      disabled: !selected || submitted ? true : false,\n      type: \"submit\"\n    }, \" Submit \")), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleReconsider,\n      style: {\n        opacity: !submitted ? 0 : 1\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"arrow-button button-reconsider\",\n      disabled: !submitted ? true : false\n    }, \" Reconsider \"))));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"TaskStimulus.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/game/TaskStimulus.jsx                                                                                     //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nmodule.export({\n  default: () => TaskStimulus\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\n\nclass TaskStimulus extends React.Component {\n  render() {\n    const {\n      stage,\n      player\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"task-stimulus\"\n    }, \"Work with your teammates to find the common symbol.\");\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Timer.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/game/Timer.jsx                                                                                            //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nlet StageTimeWrapper;\nmodule.link(\"meteor/empirica:core\", {\n  StageTimeWrapper(v) {\n    StageTimeWrapper = v;\n  }\n\n}, 0);\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 1);\n\nclass timer extends React.Component {\n  render() {\n    const {\n      remainingSeconds\n    } = this.props;\n    const classes = [\"timer\"];\n\n    if (remainingSeconds <= 5) {\n      classes.push(\"lessThan5\");\n    } else if (remainingSeconds <= 10) {\n      classes.push(\"lessThan10\");\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.join(\" \")\n    }, /*#__PURE__*/React.createElement(\"h4\", null, \"Timer\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"seconds\"\n    }, remainingSeconds));\n  }\n\n}\n\nmodule.exportDefault(Timer = StageTimeWrapper(timer));\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"intro\":{\"Consent.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/intro/Consent.jsx                                                                                         //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nmodule.export({\n  default: () => Consent\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet Centered, ConsentButton;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  },\n\n  ConsentButton(v) {\n    ConsentButton = v;\n  }\n\n}, 1);\n\nclass Consent extends React.Component {\n  render() {\n    return /*#__PURE__*/React.createElement(Centered, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"consent\"\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \" Consent Form \"), /*#__PURE__*/React.createElement(\"p\", null, \"This experiment is part of a MIT scientific project. Your decision to participate in this experiment is entirely voluntary. There are no known or anticipated risks to participating in this experiment. There is no way for us to identify you. The only information we will have, in addition to your responses, is the timestamps of your interactions with our site. The results of our research may be presented at scientific meetings or published in scientific journals. Clicking on the \\\"AGREE\\\" button indicates that you are at least 18 years of age, and agree to participate voluntary.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(ConsentButton, {\n      text: \"I AGREE\"\n    })));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"InstructionStepOne.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/intro/InstructionStepOne.jsx                                                                              //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nmodule.export({\n  default: () => InstructionStepOne\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet Centered;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  }\n\n}, 1);\n\nclass InstructionStepOne extends React.Component {\n  render() {\n    const {\n      hasPrev,\n      hasNext,\n      onNext,\n      onPrev,\n      game\n    } = this.props;\n    return /*#__PURE__*/React.createElement(Centered, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"instructions\"\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \" Instructions 1 \"), /*#__PURE__*/React.createElement(\"p\", null, \"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Optio, animi? Quae autem asperiores officiis voluptatum fuga recusandae minima! Animi pariatur ex sapiente laborum. Ipsa quo quia ab, veritatis et labore.\"), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: onPrev,\n      disabled: !hasPrev\n    }, \"Previous\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: onNext,\n      disabled: !hasNext\n    }, \"Next\"))));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"InstructionStepTwo.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/intro/InstructionStepTwo.jsx                                                                              //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nmodule.export({\n  default: () => InstructionStepTwo\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet Centered;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  }\n\n}, 1);\n\nclass InstructionStepTwo extends React.Component {\n  render() {\n    const {\n      hasPrev,\n      hasNext,\n      onNext,\n      onPrev\n    } = this.props;\n    return /*#__PURE__*/React.createElement(Centered, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"instructions\"\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \" Instructions 2 \"), /*#__PURE__*/React.createElement(\"p\", null, \"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Optio, animi? Quae autem asperiores officiis voluptatum fuga recusandae minima! Animi pariatur ex sapiente laborum. Ipsa quo quia ab, veritatis et labore.\"), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: onPrev,\n      disabled: !hasPrev\n    }, \"Previous\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: onNext,\n      disabled: !hasNext\n    }, \"Next\"))));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"NewPlayer.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/intro/NewPlayer.jsx                                                                                       //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nmodule.export({\n  default: () => NewPlayer\n});\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 0);\nlet Centered;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  }\n\n}, 1);\n\nclass NewPlayer extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      id: \"\"\n    };\n\n    this.handleUpdate = event => {\n      const {\n        value,\n        name\n      } = event.currentTarget;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const {\n        handleNewPlayer\n      } = this.props;\n      const {\n        id\n      } = this.state;\n      handleNewPlayer(id);\n    };\n  }\n\n  render() {\n    const {\n      id\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Centered, null, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \"Identification\"), /*#__PURE__*/React.createElement(\"p\", null, \"Please enter your id:\"), /*#__PURE__*/React.createElement(\"input\", {\n      dir: \"auto\",\n      type: \"text\",\n      name: \"id\",\n      id: \"id\",\n      value: id,\n      onChange: this.handleUpdate,\n      required: true,\n      autoComplete: \"off\"\n    }), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\"\n    }, \"Submit\")))));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Quiz.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/intro/Quiz.jsx                                                                                            //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nmodule.export({\n  default: () => Quiz\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet Centered;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  }\n\n}, 1);\n\nclass Quiz extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      sum: \"\",\n      horse: \"\"\n    };\n\n    this.handleChange = event => {\n      const el = event.currentTarget;\n      this.setState({\n        [el.name]: el.value.trim().toLowerCase()\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n\n      if (this.state.sum !== \"4\" || this.state.horse !== \"white\") {\n        alert(\"Incorrect! Read the instructions, and please try again.\");\n      } else {\n        this.props.onNext();\n      }\n    };\n  }\n\n  render() {\n    const {\n      hasPrev,\n      hasNext,\n      onNext,\n      onPrev\n    } = this.props;\n    const {\n      sum,\n      horse\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Centered, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"quiz\"\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \" Quiz \"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit\n    }, /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"sum\"\n    }, \"What is 2+2?\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      dir: \"auto\",\n      id: \"sum\",\n      name: \"sum\",\n      placeholder: \"e.g. 3\",\n      value: sum,\n      onChange: this.handleChange,\n      autoComplete: \"off\",\n      required: true\n    })), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"horse\"\n    }, \"What color was Napoleon's white horse?\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      dir: \"auto\",\n      id: \"horse\",\n      name: \"horse\",\n      placeholder: \"e.g. brown\",\n      value: horse,\n      onChange: this.handleChange,\n      autoComplete: \"off\",\n      required: true\n    })), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: onPrev,\n      disabled: !hasPrev\n    }, \"Back to instructions\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\"\n    }, \"Submit\")))));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"main.js\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// client/main.js                                                                                                   //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nlet Empirica;\nmodule.link(\"meteor/empirica:core\", {\n  default(v) {\n    Empirica = v;\n  }\n\n}, 0);\nlet render;\nmodule.link(\"react-dom\", {\n  render(v) {\n    render = v;\n  }\n\n}, 1);\nlet ExitSurvey;\nmodule.link(\"./exit/ExitSurvey\", {\n  default(v) {\n    ExitSurvey = v;\n  }\n\n}, 2);\nlet Thanks;\nmodule.link(\"./exit/Thanks\", {\n  default(v) {\n    Thanks = v;\n  }\n\n}, 3);\nlet Sorry;\nmodule.link(\"./exit/Sorry\", {\n  default(v) {\n    Sorry = v;\n  }\n\n}, 4);\nlet About;\nmodule.link(\"./game/About\", {\n  default(v) {\n    About = v;\n  }\n\n}, 5);\nlet Round;\nmodule.link(\"./game/Round\", {\n  default(v) {\n    Round = v;\n  }\n\n}, 6);\nlet Consent;\nmodule.link(\"./intro/Consent\", {\n  default(v) {\n    Consent = v;\n  }\n\n}, 7);\nlet InstructionStepOne;\nmodule.link(\"./intro/InstructionStepOne\", {\n  default(v) {\n    InstructionStepOne = v;\n  }\n\n}, 8);\nlet InstructionStepTwo;\nmodule.link(\"./intro/InstructionStepTwo\", {\n  default(v) {\n    InstructionStepTwo = v;\n  }\n\n}, 9);\nlet Quiz;\nmodule.link(\"./intro/Quiz\", {\n  default(v) {\n    Quiz = v;\n  }\n\n}, 10);\nlet NewPlayer;\nmodule.link(\"./intro/NewPlayer\", {\n  default(v) {\n    NewPlayer = v;\n  }\n\n}, 11);\n// Set the About Component you want to use for the About dialog (optional).\nEmpirica.about(About); // Set the Consent Component you want to present players (optional).\n\nEmpirica.consent(Consent); // Set the component for getting the player id (optional)\n\nEmpirica.newPlayer(NewPlayer); // Introduction pages to show before they play the game (optional).\n// At this point they have been assigned a treatment. You can return\n// different instruction steps depending on the assigned treatment.\n\nEmpirica.introSteps((game, treatment) => {\n  const steps = [InstructionStepOne];\n\n  if (treatment.playerCount > 1) {\n    steps.push(InstructionStepTwo);\n  }\n\n  steps.push(Quiz);\n  return steps;\n}); // The Round component containing the game UI logic.\n// This is where you will be doing the most development.\n// See client/game/Round.jsx to learn more.\n\nEmpirica.round(Round); // End of Game pages. These may vary depending on player or game information.\n// For example we can show the score of the user, or we can show them a\n// different message if they actually could not participate the game (timed\n// out), etc.\n// The last step will be the last page shown to user and will be shown to the\n// user if they come back to the website.\n// If you don't return anything, or do not define this function, a default\n// exit screen will be shown.\n\nEmpirica.exitSteps((game, player) => {\n  if (!game || player.exitStatus && player.exitStatus !== \"finished\" && player.exitReason !== \"playerQuit\") {\n    return [Sorry];\n  }\n\n  return [ExitSurvey, Thanks];\n}); // Start the app render tree.\n// NB: This must be called after any other Empirica calls (Empirica.round(),\n// Empirica.introSteps(), ...).\n// It is required and usually does not need changing.\n\nMeteor.startup(() => {\n  render(Empirica.routes(), document.getElementById(\"app\"));\n});\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"public\":{\"css\":{\"style.css\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// public/css/style.css                                                                                             //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nmodule.exports = require(\"meteor/modules\").addStyles(\n  \"@charset \\\"UTF-8\\\";\\n/* CSS Document */\\n\\n:root {\\n    /* Colors */\\n    --darkblue: #051A46;\\n    --turquoise: #0BC5C8;\\n    --chat-self-color: rgb(142, 209, 205);\\n    --chat-other-color: rgb(242,242,242)\\n  }\\n\\nhtml, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, font, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td {margin: 0; padding: 0; border: 0; outline: 0; font-size: 100%; vertical-align: baseline; background: transparent; } body {line-height: 1,4} ol, ul {list-style: none;} li{ display:inline} blockquote, q {quotes: none} blockquote:before, blockquote:after, q:before, q:after {content: '';content: none} :focus {outline: 0} ins {text-decoration: none} del {text-decoration: line-through} table {border-collapse: collapse;border-spacing: 0} * {margin:0; padding:0}\\n/**FIM RESET **/\\n\\nhtml, body {height:100%; min-height:100%}\\nbody {width:100%; min-width:100%; overflow-x:hidden; background:url(../images/bg-repeater-light.png) center top repeat; background-size:55px 55px}\\nbody > div:first-child, .dark, .light {height:100%; min-height:100%}\\n\\n.clear {clear:both}\\n\\n.light {background:url(../images/bg-repeater-light.png) center top repeat; background-size:55px 55px}\\n.dark {background:url(../images/bg-repeater-dark.png) center top repeat; background-size:55px 55px; overflow-x:hidden}\\n\\n.contentor {padding:52px}\\n.contentor > img:first-child {position:absolute; left:52px; top:52px}\\n\\nh1, h2, h3 {font-family:\\\"Palatino Linotype\\\", \\\"Book Antiqua\\\", Palatino, serif; font-style:italic; text-transform:uppercase; font-weight:normal}\\n\\n.light h1, .light h2, .light h3 {color:#051A46}\\n.light h1 {font-size:26px}\\n.dark h1, .dark h2, .dark h3 {color:white}\\n\\n\\n\\n.menu {position:absolute; width:54px; height:54px; text-indent:-5000px; display:inline-block; background:url(../images/icon-menu.png) center center no-repeat; background-size:54px 54px; right:90px; top:20px}\\n.menu:hover {background:url(../images/icon-menu-on.png) center center no-repeat; background-size:54px 54px}\\n.logout {position:absolute; width:54px; height:54px; text-indent:-5000px; display:inline-block; background:url(../images/icon-logout.png) center center no-repeat; background-size:54px 54px; right:20px; top:20px}\\n.logout:hover {background:url(../images/icon-logout-on.png) center center no-repeat; background-size:54px 54px}\\n\\na, button {text-decoration:none; transition:.35s ease; -moz-transition:.35s ease; -webkit-transition:.35s ease}\\n.button {padding:15px 23px 13px; font-family:\\\"Palatino Linotype\\\", \\\"Book Antiqua\\\", Palatino, serif; font-style:italic; text-transform:uppercase; color:white; display:block; width:155px; position:relative; font-size:15.5px; height:18px}\\nbutton.button {padding:15px 23px 13px; font-family:\\\"Palatino Linotype\\\", \\\"Book Antiqua\\\", Palatino, serif; font-style:italic; text-transform:uppercase; color:white; display:block; width:201px; position:relative; font-size:15.5px; height:46px; border:0; cursor:pointer; text-align:left}\\n\\n/* .button::after {content:\\\" \\\"; width:0; height:0; border-top:23px solid transparent; border-bottom:23px solid transparent; position:absolute; top:50%; margin-top:-23px; right:-18px}\\n.button-a {background:#0BC5C8}\\n.button-b {background:#586AC5}\\n\\n.button-a:after {border-left:18px solid #0BC5C8; transition:.35s ease; -moz-transition:.35s ease; -webkit-transition:.35s ease}\\n.button-b:after {border-left:18px solid #586AC5; transition:.35s ease; -moz-transition:.35s ease; -webkit-transition:.35s ease}\\n\\n.button-a:hover {background:#586AC5}\\n.button-a:hover:after {border-left:18px solid #586AC5}\\n.button-b:hover, .button-a.button-login:hover, .challenge .button-a:hover {background:#051A46}\\n.button-b:hover:after, .button-a.button-login:hover:after, .challenge .button-a:hover:after {border-left:18px solid #051A46} */\\n\\n\\np {font-family:\\\"Palatino Linotype\\\", \\\"Book Antiqua\\\", Palatino, serif; font-style:italic; text-transform:uppercase; color:#586AC5; font-size:13px; font-weight:bold}\\np a {color:#0BC5C8}\\np a:hover {color:#051A46}\\n\\nform {font-family:\\\"Trebuchet MS\\\", Arial, Helvetica, sans-serif}\\n\\n#login {background:#586AC5; width:285px; padding:20px; position:relative; margin-top:-48px; margin-bottom:25px}\\n#login input {margin-bottom:25px; background:#4f60b1; border:0; padding:7px; color:white; font-family:\\\"Palatino Linotype\\\", \\\"Book Antiqua\\\", Palatino, serif; font-size:13px; width:120px}\\n#login .button {position:absolute; left:0; bottom:-23px}\\n\\n#login input::-webkit-input-placeholder {color: white; font-style:italic; font-size:15.5px}\\n#login input:-moz-placeholder {/* Firefox 18- */ color:white; font-style:italic; font-size:15.5px}\\n#login input::-moz-placeholder {/* Firefox 19+ */ color:white; font-style:italic; font-size:15.5px}\\n#login input:-ms-input-placeholder {color:white; font-style:italic; font-size:15.5px}\\n\\n\\n.challenge-module {width:390px; background:#051A46; padding:100px; position:relative; margin-bottom:180px}\\n.challenge-module:first-child {margin-top:30%}\\n.challenge-module h2 {color:white; font-size:24px; text-align:center}\\n.challenge-module h2 span {font-family:\\\"Trebuchet MS\\\", Arial, Helvetica, sans-serif; color:#0BC5C8; font-style:normal; font-size:16px}\\n.challenge-module a {position:absolute; left:0; bottom:-23px; cursor:pointer}\\n\\n.challenge-module.challenge-timeout:after {content:\\\" \\\"; position:absolute; width:129px; height:129px; background:url(../images/time-out.png) center center no-repeat; background-size:129px 129px; left:50%; margin-left:-65px; top:50%; margin-top:-65px}\\n.challenge-module.challenge-timeout h2, .challenge-module.challenge-timeout h2 span {color:#38476b}\\n.challenge-module.challenge-timeout a {cursor:not-allowed; background:white; color:#051A46}\\n.challenge-module.challenge-timeout a:after {display:none}\\n\\n.challenge-module.challenge-completed h2 span {color:#586AC5}\\n.challenge-module.challenge-completed a {cursor:default; background:#586AC5; color:white}\\n.challenge-module.challenge-completed a:after {display:none}\\n\\n\\n\\n\\n.challenge .contentor {padding:45px 52px 52px}\\n.challenge h2 {margin-bottom:7px}\\n.challenge .box img {width:46px; height:43px}\\n.challenge .cards {margin-top:2%}\\n\\n.card1, .card2 {float:left; width:50%; position:relative}\\n.card1 .box {background:#051A46; padding:25px}\\n.card2 .box {background:#586AC5; padding:25px}\\n.challenge .box .inner-box {display:table; width:100%; height:165px}\\n.challenge .box .inner-box span {display:table-cell; vertical-align:middle; padding:13px; text-align:center}\\n.inner-box span a {display:inline-block; padding:5px; cursor:pointer}\\n\\n.challenge .submition-dots {position:absolute; top:-16px; right:0; text-align:right}\\n.challenge .submition-dots span {background:#ccc; width:9px; height:9px; display:inline-block; border-radius:5px; margin-left:13px; margin-bottom:3px}\\n.challenge .submition-dots span.active {background:#051A46}\\n.challenge .submition-dots h2 {color:#0BC5C8}\\n.challenge .box a.button, .challenge .box button.button {position:absolute; left:0; bottom:-23px}\\n\\n/* .challenge .button.button-reconsider {left:auto!important; right:0}\\n.challenge .button.button-reconsider:after {display:none}\\n.challenge .button.button-reconsider:before {content:\\\" \\\"; width:0; height:0; border-top:23px solid transparent; border-bottom:23px solid transparent; border-right:18px solid #0BC5C8; position:absolute; top:50%; margin-top:-23px; left:-18px; transition:.35s ease; -moz-transition:.35s ease; -webkit-transition:.35s ease}\\n.challenge .button.button-reconsider:hover:before {border-right:18px solid #051A46} */\\n\\n\\n\\n.challenge .network-wrap {position:absolute; bottom:0; left:0; right:0; padding:0 52px; overflow-x:auto; overflow-y:hidden; height:278px}\\n\\n.challenge .network {bottom:50px; display:inline-block; float:left}\\n.challenge .network .inner {background:#051A46; padding:25px;}\\n.challenge .network a {display:table; color:white; font-family:\\\"Trebuchet MS\\\", Arial, Helvetica, sans-serif; font-size:15px; margin-top:5px}\\n.challenge .network a:first-child {margin-top:0}\\n.challenge .network a span {display:table-cell; vertical-align:middle}\\n.challenge .network a .avatar {width:37px; height:37px; display:inline-block; overflow:hidden; border-radius:20px; margin-right:13px}\\n.challenge .network a .avatar img {margin-left:-30%; max-height:37px}\\n.challenge .network a .avatar img.default {width:36px; height:auto; margin-left:1px; margin-top:4px}\\n.challenge .network a .net-name {border-bottom:2px solid white; display:inline-block}\\n\\n.challenge .network .has-dialogue {width:15px; height:15px; background:url(../images/icon-bubble.png) center center no-repeat; background-size:15px 14px; display:inline-block; margin-left:13px}\\n\\n.network-window {width:244px; height:278px; display:table; float:left; position:relative; margin-left:50px}\\n.network-window-positioner {width:244px; display:table-cell; vertical-align:bottom; position:relative}\\n.network-window-inner {width:210px; background:#051A46; padding:17px; display:inline-block; position:relative}\\n\\n.network-window header {color:white; padding-bottom:7px}\\n.network-window header .name {font-family:\\\"Trebuchet MS\\\", Arial, Helvetica, sans-serif; font-size:14px; font-weight:bold}\\n.network-window header .minimize {width:23px; height:17px; margin-right:16px; display:inline-block; background:url(../images/icon-net-window-minimize.png) center center no-repeat; background-size:23px 2px; float:right}\\n.network-window header .close {width:17px; height:17px; display:inline-block; background:url(../images/icon-net-window-close.png) center center no-repeat; background-size:17px 17px; float:right}\\n.network-window .dialogue-box {color:#051A46; font-family:\\\"Trebuchet MS\\\", Arial, Helvetica, sans-serif; font-size:13px; max-height:180px; overflow-y:scroll; overflow-x:hidden; border-bottom:10px solid #051A46}\\n.network-window .dialogue-box .net-bubble {background:#f2f2f2; padding:8px; position:relative; margin:12px 0; max-width:174px; box-shadow:2px 2px 1px black}\\n.network-window .dialogue-box .net-bubble:before {content:\\\" \\\"; width:16px; height:7px; background:url(../images/net-bubble.png) top left no-repeat; background-size:16px 7px; display:inline-block; position:absolute; top:-7px; left:0}\\n.network-window .dialogue-box .my-bubble {background:#79D3CE; padding:8px; position:relative; margin:12px 0 12px 16px; box-shadow:2px 2px 1px black}\\n.network-window .dialogue-box .my-bubble:after {content:\\\" \\\"; width:16px; height:7px; background:url(../images/my-bubble.png) top left no-repeat; background-size:16px 7px; display:inline-block; position:absolute; bottom:-7px; right:0}\\n.network-window input {border:none; background:#182c55; width:192px; padding:9px; color:white}\\n.network-window .enter {width:16px; height:20px; background:#051A46 url(../images/icon-enter.png) center left no-repeat; background-size:16px 20px; position:absolute; right:-29px; bottom:0; padding:17px 13px 17px 0; cursor:pointer}\\n.network-window button.enter {width:29px; height:54px; background:#051A46 url(../images/icon-enter.png) center left no-repeat; background-size:16px 20px; position:absolute; right:-29px; bottom:0; cursor:pointer; border:0}\\n\\n\\nheader {color:#051A46}\\nheader .avatar {width:47px; height:47px; overflow:hidden; border-radius:27px; border:4px solid white; float:left; margin-right:9px}\\nheader .avatar img {width:auto; height:47px; margin-left:-34%}\\n\\nheader .info .name {display:block; font-family:\\\"Palatino Linotype\\\", \\\"Book Antiqua\\\", Palatino, serif; text-transform:uppercase; font-style:italic; font-size:24px}\\nheader .info .round-number {font-family:\\\"Trebuchet MS\\\", Arial, Helvetica, sans-serif; color:#0BC5C8; text-transform:uppercase; font-size:15px}\\n\\n.tut-dialogue {background:#051A46; position:absolute; color:white; font-family:\\\"Trebuchet MS\\\", Arial, Helvetica, sans-serif; font-size:13.5px; width:196px; padding:30px 17px}\\n.tut-arrow {position:absolute; bottom:-10px; display:inline-block; width:15px; height:10px}\\n.tut-next {color:#0BC5C8; font-family:\\\"Palatino Linotype\\\", \\\"Book Antiqua\\\", Palatino, serif; text-transform:uppercase; font-size:14px; display:inline-block; position:absolute; right:8px; bottom:5px; font-style:italic}\\n.tut-1 {left:50%; top:-95px; box-shadow:2px 2px 0 rgba(5,26,70,.4)}\\n.tut-1 .tut-arrow {left:0; background:url(../images/tut1.png) center center no-repeat; background-size:15px 10px}\\n\\n.home .button-b {margin-top:-40px}\\n\\n.lobby .conteudo {position:relative}\\n\\n.c-new-account {position:absolute; top:50%; margin-top:-210px; left:50%; margin-left:-189px; width:378px}\\n.c-new-account form {background:#051A46; margin-top:10px; padding:26px}\\n.c-new-account form input {display:block; width:304px; border:0; background:#20335a; padding:12px; color:white; margin-bottom:4px}\\n\\n.c-new-account form input[type=file] {opacity:0; filter:alpha(opacity=0)}\\n.c-new-account form .file-label {position:relative; display:block; cursor:pointer; margin:30px 0 20px}\\n.c-new-account form .file-label span {background:#20335a; padding:12px; color:white; position:absolute; top:0; text-transform:uppercase; font-size:12px}\\n.c-new-account form a {background:#0BC5C8; text-align:left; position:absolute; bottom:-23px; left:0; width:auto; padding-right:40px}\\n.c-new-account form button {background:#0BC5C8; text-align:left; position:absolute; bottom:-23px; left:0; width:auto; padding-right:40px}\\n\\n\\n.c-accept {width:590px; margin:0 auto}\\n\\n.c-new-account.c-account-edit form {padding:26px 26px 45px}\\n.c-new-account.c-account-edit p {color:white; font-family:\\\"Trebuchet MS\\\", Arial, Helvetica, sans-serif; text-transform:none; font-style:normal; margin:22px 0 7px 1px; font-size:12.5px; font-weight:normal}\\n.c-new-account.c-account-edit form input[type=password] {margin-bottom:0}\\n.c-new-account.c-account-edit form input[type=file] {width:160px}\\n.c-new-account.c-account-edit form .avatar {float:left; width:45px; height:45px; overflow:hidden; border-radius:24px; border:3px solid #20335a}\\n.c-new-account.c-account-edit form .avatar img {height:45px; margin-left:-30%}\\n.c-new-account.c-account-edit form  .file-label span {left:60px; top:7px; text-transform:none; font-size:12px}\\n.c-new-account.c-account-edit form .file-label {margin:7px 0 16px}\\n\\n\\n.loading .message {width:100%; position:absolute; top:50%; height:50px; margin-top:-25px; left:0}\\n.loading .message .inner {display:block; padding:0 52px; text-align:center}\\n.loading .message h1 {font-size:22px; margin-bottom:16px}\\n.loading .message .load-bar {background:white; height:2px; border-radius:1px}\\n.loading .message .load-bar span {display:inline-block; width:20%; height:2px; background:#0BC5C8; float:left}\\n\\n\\n.round-closed .message {width:400px; margin:3% auto 0; text-align:center}\\n.round-closed h1 {font-size:28px}\\n.round-closed h1 small {text-transform:lowercase}\\n.round-closed p {color:white; margin-top:19px; border-top:2px solid #0BC5C8; display:inline-block; padding:20px 30px 0; font-size:16px; font-weight:normal}\\n.round-closed .my-answer {position:absolute; top:50%; left:50%; margin-top:-44px; margin-left:-44px}\\n.round-closed .my-answer img {width:88px; height:auto}\\n\\n.round-closed .button {position:absolute; top:50%; right:0; margin-top:-23px}\\n.round-closed .button:hover {right:18px}\\n\\n.round-closed .finish-message {position:absolute; top:50%; left:50%; margin-top:-34px; margin-left:-150px; width:300px; height:68px; text-align:center}\\n\\n.questionnaire .contentor {padding:0; height:100%}\\n.questionnaire .conteudo {height:100%; display:table; width:590px; margin:0 auto}\\n/*.questionnaire form {width:590px; display:table-cell; vertical-align:middle; position:relative; color:#051A46; padding-bottom:20%}\\n.questionnaire h1 {text-align:center; position:absolute; top:52px; width:100%}*/\\n.questionnaire form {width:590px; display:block; position:absolute; color:#051A46; top:50%; margin-top:-200px}\\n.questionnaire h1 {text-align:center; position:absolute; top:-90px; width:100%}\\n\\n.questionnaire form header {display:table; width:100%; height:42px}\\n.questionnaire form header div {display:table-cell; width:92px; vertical-align:bottom}\\n.questionnaire form header div span {display:inline-block; width:100%; height:42px; text-align:center; border-bottom:10px solid #051A46; color:#0BC5C8; font-size:0; font-weight:bold}\\n.questionnaire form header span.on {border-bottom:10px solid #0BC5C8}\\n.questionnaire form header span.active {font-size:30px}\\n.questionnaire form .box {background:white; padding:25px; position:relative}\\n.questionnaire form label {display:block; padding-bottom:22px}\\n.questionnaire form input[type=text] {padding:12px; width:515px; margin-bottom:25px; font-size:12px}\\n.questionnaire form textarea {padding:12px; width:515px; margin-bottom:25px; font-size:12px}\\n.questionnaire form .button {position:absolute; left:0; bottom:-23px}\\n.questionnaire canvas {margin-bottom:25px; background:#f2f2f2; border:1px solid #243A5B; border-left-width:2px; border-bottom-width:2px}\\n.questionnaire form input[type=range] {width:100%; margin-bottom:5px; display:inline}\\n.questionnaire form .slider-subs {margin-bottom:53px; padding:6px 6px 0; font-size:14px}\\n.questionnaire form table .player-name {white-space: nowrap; width: 1%}\\n\\n.questionnaire .slider-subs span:first-child {width:50%; display:inline-block; text-align:left}\\n.questionnaire .slider-subs span {width:49%; display:inline-block; text-align:right}\\n.questionnaire .slider-subs output {display:inline-block; position:absolute; width:38px; height:33px; left:50%; margin-left:-19px; background:#f0f0f0; border-radius:19px; text-align:center; padding-top:5px; font-size:23px; bottom:34px}\\n\\n\\n.finish .button.middle-left-side {right:auto; left:0}\\n.finish .button.middle-left-side:after {display:none}\\n.finish .button.middle-left-side:before {content:\\\" \\\"; width:0; height:0; border-top:23px solid transparent; border-bottom:23px solid transparent; border-right:18px solid #0BC5C8; position:absolute; top:50%; margin-top:-23px; left:-18px; transition:.35s ease; -moz-transition:.35s ease; -webkit-transition:.35s ease}\\n.finish .button.middle-left-side:hover {left:18px}\\n.finish .button.middle-left-side:hover:before {border-right:18px solid #586AC5}\\n\\n\\n\\n/**** ERROR MESSAGE ****/\\n.error-wrap {position:fixed; left:0; top:0; right:0; bottom:0; background:rgba(241,241,241,.85); z-index:100}\\n.error-wrap .error-center-out {display:table; width:100%; height:100%}\\n.error-wrap .error-center-in {display:table-cell; vertical-align:middle}\\n.error-wrap p {width:100%; padding:0; background:#051A46; color:white; text-align:center; font-size:16px; font-weight:normal}\\n.error-wrap button {border:0; background:#0EC1C1; color:white; padding:42px 17px 40px; font-size:16px; margin-left:17px; cursor:pointer; font-family:\\\"Palatino Linotype\\\", \\\"Book Antiqua\\\", Palatino, serif; font-style:italic}\\n.error-wrap button:hover {background:#586AC5}\\n\\n\\n/**** 404 ****/\\n.dark .text-link {color:#0BC5C8; text-transform:uppercase; font-style:italic; margin-bottom:4px; display:inline-block}\\n.dark .text-link:hover {color:white}\\n\\n\\n/**** ANIMATIONS ****/\\n.countdown {position:absolute; top:50%; left:50%; margin-left:-133px; margin-top:-150px; width:267px; height:300px}\\n.countdown:before {\\n    content: '321';\\n\\tposition:absolute;\\n\\ttop:-150px;\\n    \\n\\tfont-size:400px;\\n\\ttext-indent:-3ch;\\n    font-family:'arial black', monospace; color:#011744;\\n    display:inline-block;\\n    width:1ch;\\n    overflow:hidden;\\n    \\n    -webkit-animation:countdowns 4s steps(3) 2.5s 1;\\n    -moz-animation:countdowns 4s steps(3) 2.5s 1;\\n    -ms-animation:countdowns 4s steps(3) 2.5s 1;\\n    -o-animation:countdowns 4s steps(3) 2.5s 1;\\n    animation:countdowns 4s steps(3) 2.5s 1;\\n}\\n\\n@-webkit-keyframes countdowns {\\n    0% {text-indent:0}\\n    100% {text-indent:-3ch;}\\n}\\n@-moz-keyframes countdowns {\\n    0% {text-indent:0}\\n    100% {text-indent:-3ch;}\\n}\\n@-ms-keyframes countdowns {\\n    0% {text-indent:0}\\n    100% {text-indent:-3ch;}\\n}\\n@-o-keyframes countdowns {\\n    0% {text-indent:0}\\n    100% {text-indent:-3ch;}\\n}\\n@keyframes countdowns {\\n    0% {text-indent:0}\\n    100% {text-indent:-3ch;}\\n}\\n\\n\\n\\n\\n.get-ready {\\n    background:#011744;\\n    \\n    -webkit-animation:bgc 4s linear 2.5s 1;\\n    -moz-animation:bgc 4s linear 2.5s 1;\\n    -ms-animation:bgc 4s linear 2.5s 1;\\n    -o-animation:bgc 4s linear 2.5s 1;\\n    animation:bgc 4s linear 2.5s 1;\\n}\\n\\n@-webkit-keyframes bgc {\\n    0% {background:#ffffff}\\n\\t32.99% {background:#011744}\\n\\t33% {background:#ffffff}\\n\\t65.99% {background:#011744}\\n\\t66% {background:#ffffff}\\n\\t99.99% {background:#011744}\\n    100% {background:#ffffff}\\n}\\n@-moz-keyframes bgc {\\n    0% {background:#ffffff}\\n\\t32.99% {background:#011744}\\n\\t33% {background:#ffffff}\\n\\t65.99% {background:#011744}\\n\\t66% {background:#ffffff}\\n\\t99.99% {background:#011744}\\n    100% {background:#ffffff}\\n}\\n@-ms-keyframes bgc {\\n    0% {background:#ffffff}\\n\\t32.99% {background:#011744}\\n\\t33% {background:#ffffff}\\n\\t65.99% {background:#011744}\\n\\t66% {background:#ffffff}\\n\\t99.99% {background:#011744}\\n    100% {background:#ffffff}\\n}\\n@-o-keyframes bgc {\\n    0% {background:#ffffff}\\n\\t32.99% {background:#011744}\\n\\t33% {background:#ffffff}\\n\\t65.99% {background:#011744}\\n\\t66% {background:#ffffff}\\n\\t99.99% {background:#011744}\\n    100% {background:#ffffff}\\n}\\n@keyframes bgc {\\n    0% {background:#ffffff}\\n\\t32.99% {background:#011744}\\n\\t33% {background:#ffffff}\\n\\t65.99% {background:#011744}\\n\\t66% {background:#ffffff}\\n\\t99.99% {background:#011744}\\n    100% {background:#ffffff}\\n}\\n\\n\\n\\n\\n\\n\\n\\n/**** SLIDER STYLE ****/\\ninput[type=range] {\\n  -webkit-appearance: none;\\n}\\ninput[type=range]:focus {\\n  outline: none;\\n}\\ninput[type=range]::-webkit-slider-runnable-track {\\n  width: 100%;\\n  height: 7px;\\n  cursor: pointer;\\n  animate: 0.2s;\\n  box-shadow: 0px 0px 0px #000000, 0px 0px 0px #0d0d0d;\\n  background: #051A46;\\n  border-radius: 25px;\\n  border: 0px solid #000101;\\n}\\ninput[type=range]::-webkit-slider-thumb {\\n  box-shadow: 0px 0px 0px #000000, 0px 0px 0px #0d0d0d;\\n  border: 0px solid #000000;\\n  height: 21px;\\n  width: 21px;\\n  border-radius: 11px;\\n  background: #0BC5C8;\\n  cursor: pointer;\\n  -webkit-appearance: none;\\n  margin-top: -7px;\\n}\\ninput[type=range]:focus::-webkit-slider-runnable-track {\\n  background: #051A46;\\n}\\ninput[type=range]::-moz-range-track {\\n  width: 100%;\\n  height: 7px;\\n  cursor: pointer;\\n  animate: 0.2s;\\n  box-shadow: 0px 0px 0px #000000, 0px 0px 0px #0d0d0d;\\n  background: #051A46;\\n  border-radius: 4px;\\n  border: 0px solid #000101;\\n}\\ninput[type=range]::-moz-range-thumb {\\n  box-shadow: 0px 0px 0px #000000, 0px 0px 0px #0d0d0d;\\n  border: 0px solid #000000;\\n  height: 20px;\\n  width: 20px;\\n  border-radius: 10px;\\n  background: #0BC5C8;\\n  cursor: pointer;\\n}\\ninput[type=range]::-ms-track {\\n  width: 100%;\\n  height: 7px;\\n  cursor: pointer;\\n  animate: 0.2s;\\n  background: transparent;\\n  border-color: transparent;\\n  border-width: 21px 0;\\n  color: transparent;\\n}\\ninput[type=range]::-ms-fill-lower {\\n  background: #051A46;\\n  border: 0px solid #000101;\\n  border-radius: 50px;\\n  box-shadow: 0px 0px 0px #000000, 0px 0px 0px #0d0d0d;\\n}\\ninput[type=range]::-ms-fill-upper {\\n  background: #051A46;\\n  border: 0px solid #000101;\\n  border-radius: 50px;\\n  box-shadow: 0px 0px 0px #000000, 0px 0px 0px #0d0d0d;\\n}\\ninput[type=range]::-ms-thumb {\\n  box-shadow: 0px 0px 0px #000000, 0px 0px 0px #0d0d0d;\\n  border: 0px solid #000000;\\n  height: 21px;\\n  width: 21px;\\n  border-radius: 11px;\\n  background: #0BC5C8;\\n  cursor: pointer;\\n}\\ninput[type=range]:focus::-ms-fill-lower {\\n  background: #051A46;\\n}\\ninput[type=range]:focus::-ms-fill-upper {\\n  background: #051A46;\\n}\\n\\n\\n/**** TUTORIAL ****/\\n.tutorial {display:table; width:100%}\\n.tutorial .contentor {display:table-cell; height:100%; vertical-align:middle}\\n\\n.tutorial h1 {text-align:center; background:url(../images/hr-color.png) center bottom no-repeat; background-size:170px 2px; padding-bottom:25px; margin-bottom:25px}\\n.tutorial p {text-transform:none; font-size:16px; color:#051A46; font-family:\\\"Trebuchet MS\\\", Arial, Helvetica, sans-serif; font-style:normal; max-width:570px; margin:0 auto; text-align:center; line-height:165%; font-weight:normal}\\n\\n.tutorial .tut-slides {max-width:1200px; margin:70px auto 0}\\n.tutorial .tut-slide {position:relative; float:left; display:inline-block; width:27.333%; text-align:center; margin:0 3%}\\n.tutorial .tut-slide img {margin-bottom:35px; max-width:100%; height:auto}\\n.tutorial .tut-slide h2 {font-size:24px; margin-bottom:15px}\\n.tutorial .tut-slide p {font-size:14px; max-width:220px; margin:0 auto; font-weight:normal}\\n\\n.tutorial .button {position:fixed; right:0; top:0}\\n.tutorial .button:hover {right:18px}\\n\\n.tutorial2 {display:table; width:100%}\\n.tutorial2 .contentor {display:table-cell; height:100%; vertical-align:middle}\\n.tutorial2 .conteudo {z-index:1; position:relative; max-width:750px; margin:0 auto}\\n.tutorial2 h1 {background:url(../images/hr-color.png) left bottom no-repeat; background-size:170px 2px; padding-bottom:25px; margin-bottom:25px; margin-top:45px; display:inline-block; min-width:170px}\\n.tutorial2 p {text-transform:none; font-size:16px; color:#051A46; font-family:\\\"Trebuchet MS\\\", Arial, Helvetica, sans-serif; font-style:normal; text-align:left; line-height:165%; font-weight:normal}\\n.tutorial2 .tut-slide img {margin-right:80px; max-width:354px; height:auto; float:left}\\n\\n.tutorial2 .button {position:fixed; right:0; top:50%; margin-top:-23px}\\n.tutorial2 .button:hover {right:18px}\\n\\n\\n\\n\\n/**** 16/06/14 UPDATE ****/\\n.challenge .contentor > header {float:right; text-align:right; max-width:180px}\\nheader .avatar {float:none; display:inline-block; margin-right:0}\\nheader .help {background:#0BC5C8; color:white; text-transform:uppercase; padding:6px 8px 4px; display:inline-block; font-size:12px; font-style:italic; margin-top:7px}\\n\\n.challenge .box .inner-box {height:134px}\\n.challenge .submition-dots {top:3px}\\n.challenge .submition-dots span {width:8px; height:8px; border-radius:4px; margin-bottom:1px}\\n.challenge .submition-dots h3 {color:#051A46; font-size:12px; position:absolute; left:-125px; text-align:left; width:132px; top:2px}\\n\\n\\n.card1 {width:60%; max-width:1080px}\\n.challenge .cards {margin-top:0}\\n.inner-box span a.active {background:rgba(255,255,255,.2); border-radius:100%}\\n.photo-icons span a {position:relative; width:70px; height:70px; border:3px solid #33468c; border-radius:43px; padding:0; overflow:hidden}\\n.photo-icons span a.active:hover, \\n.photo-icons span a:hover {border-color:#586AC5}\\n.photo-icons span a.active {border-color:white!important}\\n.photo-icons i {position:absolute; width:180px; height:100%; display:block; left:50%; margin-left:-90px}\\n.challenge .box .photo-icons img {height:100%; width:auto}\\n.challenge .button-reconsider {text-align:right}\\n\\n\\n.challenge .network {min-width:17%}\\n.challenge .network .inner {background:#586AC5; padding:17px 25px 20px}\\n.challenge .network a {display:block}\\n.challenge .network a .avatar {width:30px; height:30px; margin-left:13px; margin-right:0; float:right}\\n.challenge .network a .avatar img {max-height:30px}\\n.challenge .network a .avatar img.default {width:29px}\\n.challenge .network a .net-name {font-size:13px; margin:8px 0}\\n.light .network h2 {color:#586AC5; text-align:right}\\n\\n.challenge .network-wrap {padding:0 52px 0 0; height:400px}\\n.network-window {height:400px; margin-left:52px}\\n.network-window .dialogue-box {max-height:305px}\\n.network-window button.enter:hover {background:#051A46 url(../images/icon-enter-on.png) center left no-repeat; background-size:16px 20px}\\n.network-window-inner {padding:14px 17px 17px 17px}\\n\\n.overlay {position:fixed; background:rgba(5,26,70,.91); left:0; top:0; width:100%; height:100%}\\n.overlay h1 {position:absolute; width:420px; left:50%; margin-left:-210px; top:50%; margin-top:-31px; text-align:center; color:white}\\n.overlay h1::after {content:\\\" \\\"; display:block; width:170px; height:1.5px; background:#0BC5C8; margin:20px auto 0}\\n.overlay .button {position:absolute; top:50%; right:0; margin-top:-23px}\\n.overlay .button:hover {right:20px; background:#586AC5}\\n.overlay .button-a:hover:after {border-left:18px solid #586AC5}\\n\\n\\n\\n\\n@media only screen\\nand (max-width : 1100px) { \\n.challenge .contentor > header {max-width:165px}\\n.challenge .contentor {padding:31px 40px 40px}\\n.card1 {width:57%}\\n.card1 .box {padding:25px 18px}\\n.challenge .box .inner-box span {padding:10px}\\nheader .info .name {font-size:22px}\\nheader .info .round-number {font-size:14px}\\n.network-window:first-child {margin-left:40px}\\n}\\n\\n@media only screen\\nand (max-height : 690px) { \\n.challenge .network .inner {padding:11px 20px 12px}\\n.challenge .network a .avatar {width:27px; height:27px}\\n.challenge .network a .net-name {margin:6px 0}\\n}\\n\\n@media only screen\\nand (max-height : 656px) {\\n.network-window:first-child {margin-left:0}\\n}\\n\\n/** END OF UPDATE **/\\n\\n\\n\\n@media only screen\\nand (max-height : 690px) { \\n.challenge .card1 .box, .challenge .card2 .box {padding:10px 25px}\\n\\n}\\n\\n\\n@media only screen\\nand (max-height : 656px) {\\nbody > div:first-child, .dark, .light {height:auto}\\n.challenge .contentor {padding-bottom:0; min-height:100%}\\n.challenge .network-wrap {position:relative; margin-top:30px; padding-left:0}\\n\\n}\\n\\n\\n/* NEW STYLING */\\n\\n.task-network-container {\\n    display: flex;\\n    flex-direction: row;\\n}\\n\\n\\n.task-container {\\n    display: flex;\\n    flex-direction: row;;\\n    width: 70%;\\n}\\n\\n.task-response-container {\\n    display: flex;\\n    flex-direction: column;\\n    width: 100%;\\n}\\n\\n/* MY CARD & SUBMITTED ANSWERS */\\n.task-response-header {\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: space-between;\\n}\\n\\n.task-response-header .header {\\n    margin-bottom: 0px;\\n    margin-right: 10px;\\n}\\n\\n/* SYMBOLS */\\n.task-response-body {\\n    display: flex;\\n    flex-direction: column;\\n    background-color: var(--darkblue); \\n}\\n\\n.submission-message-container {\\n    color: white;\\n    display: flex;\\n    padding: 25px 25px 0px 25px;\\n\\n}\\n\\n.task-response {\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: space-around;\\n    padding: 100px 25px;\\n}\\n\\n\\n\\n.symbol-container {\\n    border-radius: 100px;\\n}\\n\\n.button-container {\\n    display: flex;\\n    flex-direction:row;\\n    justify-content:space-between;\\n}\\n\\na, button {text-decoration:none; transition:.35s ease; -moz-transition:.35s ease; -webkit-transition:.35s ease}\\n\\n/* Styling an arrow button */\\n.arrow-button {padding:15px 23px 13px; font-family:\\\"Palatino Linotype\\\", \\\"Book Antiqua\\\", Palatino, serif; font-style:italic; text-transform:uppercase; color:white; display:block; width:201px; position:relative; font-size:15.5px; height:46px; border:0; cursor:pointer;}\\n.arrow-button::after {content:\\\" \\\"; width:0; height:0; border-top:23px solid transparent; border-bottom:23px solid transparent; position:absolute; top:50%; margin-top:-23px; right:-18px}\\n.arrow-button::before {content:\\\" \\\"; width:0; height:0; border-top:23px solid transparent; border-bottom:23px solid transparent; position:absolute; top:50%; margin-top:-23px; left:-18px;}\\n.arrow-button:disabled { cursor: default }\\n\\n/* Offset the submit button by half its height to be centerd on the task box*/\\n.button-submit {\\n    text-align:left;\\n    background: var(--turquoise); \\n    margin-top: -23px} \\n.button-submit:hover {background:var(--darkblue)}\\n/* Shows the triangle */\\n.button-submit:after {border-left:21px solid var(--turquoise); transition:.35s ease; -moz-transition:.35s ease; -webkit-transition:.35s ease}\\n.button-submit:hover:after {border-left:21px solid var(--darkblue)}\\n\\n/* :after does not have disabled tag, so made new class with different colored :after */\\n.button-submit-disabled {\\n    text-align:left;\\n    background: lightgrey;\\n    margin-top: -23px\\n}\\n.button-submit-disabled:disabled {\\n    text-align:left;\\n    background: lightgrey;\\n    margin-top: -23px\\n}\\n.button-submit-disabled:after {border-left:21px solid lightgrey}\\n\\n\\n/* Reonsider button (:before = triangle left of button) */\\n.button-reconsider {text-align: right; background:var(--turquoise); margin-top: -23px;}\\n.button-reconsider:before {border-right:21px solid var(--turquoise); transition:.35s ease; -moz-transition:.35s ease; -webkit-transition:.35s ease}\\n.button-reconsider:hover {background:var(--darkblue)}\\n.button-reconsider:hover:before {border-right:21px solid #051A46}\\n.button-reconsider:disabled {background: lightgrey};\\n.button-reconsider:disabled:before {background: lightgrey}\\n\\n\\n\\n\\n.submission-dots-container {\\n    display: flex;\\n    flex-direction: row;\\n    align-items: center;\\n}\\n\\n.filled-dot {\\n    height: 8px;\\n    width: 8px;\\n    background-color: var(--darkblue);\\n    border-radius: 50%;\\n    display: flex;\\n    align-items: center;\\n    margin: 0px 2px 0px 2px;\\n}\\n\\n.empty-dot {\\n    height: 8px;\\n    width: 8px;\\n    background-color: lightgrey;\\n    border-radius: 50%;\\n    display: flex;\\n    align-items: center;\\n    margin: 0px 2px 0px 2px;\\n}\\n\\n\\n\\n/* -----------------\\n- Styling the button -\\n----------------- */\\n\\n.symbolButtonUnselected{\\n    padding: 0.8rem 1.0rem;\\n    border-radius: 50%;\\n    border: 5px solid rgb(53, 70, 124);\\n    background-color: rgba(58, 73, 105, 0);\\n}\\n\\n.symbolButtonUnselected:hover {\\n    background-color: #ddd;\\n    background-color: rgba(58, 73, 105, 0.70);\\n}\\n  \\n.symbolButtonSelected {\\n    padding: 0.8rem 1.0rem;\\n    border-radius: 50%;\\n    border: 5px solid white;\\n    background-color: rgba(58, 73, 105, 0.95);\\n}\\n\\n.symbolButtonSelected:hover {\\n    background-color: rgba(35, 55, 99, 0.95)\\n}\\n\\n/* -----------------\\n- Styling Network Tab -\\n----------------- */\\n\\n.network-container {\\n    display: flex;\\n    flex-direction: column;\\n    width: 30%;\\n}\"\n);\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}}},{\n  \"extensions\": [\n    \".js\",\n    \".json\",\n    \".html\",\n    \".mjs\",\n    \".less\",\n    \".jsx\"\n  ]\n});\n\nvar exports = require(\"/client/main.js\");","hash":"570d8b9c327fc041a2fc0be58be9789f83134bcf","servePath":"/app.js","sourceMap":{"version":3,"sources":["client/chat/ChatContainer.js","client/chat/ChatHeader.js","client/chat/ErrorBoundary.js","client/chat/Footer.js","client/chat/Message.js","client/chat/Messages.js","client/exit/ExitSurvey.jsx","client/exit/Sorry.jsx","client/exit/Thanks.jsx","client/game/About.jsx","client/game/MyNetwork.jsx","client/game/PlayerProfile.jsx","client/game/PlayerTab.jsx","client/game/Results.jsx","client/game/Round.jsx","client/game/SocialExposure.jsx","client/game/StageResult.jsx","client/game/SymbolButton.jsx","client/game/Task.jsx","client/game/TaskResponse.jsx","client/game/TaskStimulus.jsx","client/game/Timer.jsx","client/intro/Consent.jsx","client/intro/InstructionStepOne.jsx","client/intro/InstructionStepTwo.jsx","client/intro/NewPlayer.jsx","client/intro/Quiz.jsx","client/main.js"],"names":["_extends","module","link","default","v","_objectWithoutProperties","export","ChatContainer","PropTypes","React","Footer","Message","Messages","ChatHeader","ErrorBoundary","PureComponent","state","isActive","isOpen","onTitleClick","setState","onXClick","onNewMessage","msg","scope","customKey","props","append","componentDidMount","dockStartOpen","docked","render","player","customClassName","onIncomingMessage","filter","timeStamp","otherPlayer","header","HeaderComp","message","MessageComp","footer","FooterComp","rest","common","defaultProps","hideAvatar","hideName","svgAvatar","hideNotificiationBadge","propTypes","object","isRequired","string","instanceOf","Date","bool","func","elementType","Component","constructor","hasError","getDerivedStateFromError","error","componentDidCatch","errorInfo","console","children","_objectSpread","comment","rows","minRows","maxRows","buttonHeight","handleSubmit","e","preventDefault","text","trim","_id","avatar","get","name","handleChange","el","currentTarget","textareaLineHeight","previousRows","target","currentRows","scrollHeight","scrollTop","usedRows","value","document","getElementById","offsetHeight","key","isString","renderTime","hours","getHours","minutes","getMinutes","time","toString","padStart","renderName","isSelf","msgPlayer","avatarImg","useAvatar","warn","avatarSrc","svg","src","__html","alt","shape","self","filteredMessages","WrappedComponent","messages","messagesEl","createRef","messageLength","current","length","componentDidUpdate","prevProps","currentMessages","splice","messageComp","map","i","exportDefault","ExitSurvey","Centered","Radio","selected","label","onChange","age","gender","strength","fair","feedback","event","onSubmit","education","stepName","Sorry","Meteor","game","exitStatus","exitReason","isDevelopment","Thanks","About","MyNetwork","PlayerTab","stage","round","network","otherNodeId","otherPlayerId","players","find","p","parseInt","id","PlayerProfile","Timer","renderProfile","renderScore","toFixed","playerId","Round","result","SocialExposure","StageResult","Results","Task","onOpenChat","onCloseChat","activeChats","Chat","TimeSync","moment","Slider","logIncomingMessage","msgs","mostRecentMsg","receiver","verb","subjectId","at","serverTime","renderSocialInteraction","pairOfPlayers","sort","p1","p2","counter","timer","finishDisplay","set","showResults","x","setTimeout","SymbolButton","handleClick","handleButtonSelect","log","TaskResponse","TaskStimulus","handleReconsider","symbolName","selectedButton","renderSubmitted","renderSlider","renderButton","selectedSymbol","task","displayName","symbol","submitted","playersSubmitted","playersNotSubmitted","filledDots","unfilledDots","push","disabled","opacity","StageTimeWrapper","remainingSeconds","classes","join","Consent","ConsentButton","InstructionStepOne","hasPrev","hasNext","onNext","onPrev","InstructionStepTwo","NewPlayer","handleUpdate","handleNewPlayer","Quiz","sum","horse","toLowerCase","alert","Empirica","about","consent","newPlayer","introSteps","treatment","steps","playerCount","exitSteps","startup","routes"],"mappings":"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","file":"/app.js","sourcesContent":["import \"./style.less\";\n\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport Footer from \"./Footer\";\nimport Message from \"./Message\";\nimport Messages from \"./Messages\";\nimport ChatHeader from \"./ChatHeader\";\nimport ErrorBoundary from \"./ErrorBoundary\";\n\nexport default class ChatContainer extends React.PureComponent {\n  state = { \n    isActive: true,\n    isOpen: true \n  };\n\n  onTitleClick = () => {\n    this.setState({ isOpen: !this.state.isOpen });\n  };\n\n  onXClick = () => {\n    this.setState({ isActive: !this.state.isActive})\n  };\n\n  onNewMessage = (msg) => {\n    const { onNewMessage, scope, customKey } = this.props;\n\n    if (onNewMessage) {\n      msg = onNewMessage(msg);\n      if (!msg) {\n        return;\n      }\n    }\n\n    scope.append(customKey, msg);\n  };\n\n  componentDidMount = () => {\n    const { dockStartOpen, docked } = this.props;\n    if (docked && !dockStartOpen) {\n      this.setState({\n        isOpen: false,\n      });\n    }\n  };\n\n  render() {\n    const { isOpen } = this.state;\n    const {\n      player,\n      scope,\n      customKey,\n      customClassName,\n      docked,\n      onIncomingMessage,\n\n      filter,\n      timeStamp,\n      otherPlayer,\n      header: HeaderComp,\n      message: MessageComp,\n      footer: FooterComp,\n      ...rest\n    } = this.props;\n\n    const common = { player, scope, customKey };\n\n    return (\n      <ErrorBoundary>\n        <div\n          className={`${\n            customClassName ? customClassName : \"empirica-chat-container\"\n          } ${docked ? \"undocked\" : \"undocked\"}`}\n        >\n          <div className={`chat ${isOpen ? \"open\" : \"\"}`}>\n            {docked && (\n              <HeaderComp {...common} otherPlayer={otherPlayer} onTitleClick={this.onTitleClick} onXClick={this.onXClick} isOpen={isOpen} />\n            )}\n            {isOpen ? (\n              <>\n                <Messages\n                  {...common}\n                  messageComp={MessageComp}\n                  filter={filter}\n                  onIncomingMessage={onIncomingMessage}\n                  {...rest}\n                />\n                <FooterComp\n                  {...common}\n                  timeStamp={timeStamp}\n                  onNewMessage={this.onNewMessage}\n                />\n              </>\n            ) : (\n              \"\"\n            )}\n          </div>\n        </div>\n      </ErrorBoundary>\n    );\n  }\n}\n\nChatContainer.defaultProps = {\n  customKey: \"chat\",\n  docked: false,\n  customClassName: \"\",\n  dockStartOpen: true,\n  hideAvatar: false,\n  hideName: false,\n  svgAvatar: false,\n  hideNotificiationBadge: false,\n  // header: ({ onClick, isOpen }) => (\n  //   <div className=\"header\">\n  //     <span className=\"title\">CHAT </span>\n  //     <span className=\"close-button\" onClick={onClick}>\n  //       {isOpen ? \"-\" : \"+\"}\n  //     </span>\n  //   </div>\n  // ),\n  header: ChatHeader,\n  message: Message,\n  footer: Footer,\n};\n\nChatContainer.propTypes = {\n  player: PropTypes.object.isRequired,\n  scope: PropTypes.object.isRequired,\n  customKey: PropTypes.string.isRequired,\n  timeStamp: PropTypes.instanceOf(Date),\n  docked: PropTypes.bool,\n  dockStartOpen: PropTypes.bool,\n  hideAvatar: PropTypes.bool,\n  hideName: PropTypes.bool,\n  svgAvatar: PropTypes.bool,\n  customClassName: PropTypes.string,\n\n  onNewMessage: PropTypes.func,\n  onIncomingMessage: PropTypes.func,\n  filter: PropTypes.func,\n\n  header: PropTypes.elementType.isRequired,\n  message: PropTypes.elementType.isRequired,\n  footer: PropTypes.elementType.isRequired,\n};\n","import \"./style.less\";\nimport React from \"react\";\n\nexport default class ChatHeader extends React.PureComponent {\n\n\n    render() {\n        const {otherPlayer, onTitleClick, onXClick, isOpen} = this.props;\n\n        return (\n            <div className=\"header\">\n                <span className=\"title\" onClick={onTitleClick}> {otherPlayer} </span>\n                <span className=\"close-button\" onClick={onXClick}> \n                    <img src={`images/icon-net-window-close.png`} width=\"17px\" height=\"17px\"/>\n                </span>\n            </div>\n        )\n    }\n}","import React from \"react\";\n\nexport default class ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    console.error(\"error on chat package \", error);\n    console.error(\"error on chat package:info \", errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <h1>Something went wrong.</h1>;\n    }\n\n    return this.props.children;\n  }\n}\n","import \"./style.less\";\n\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n\nexport default class Footer extends React.Component {\n  state = { comment: \"\", rows: 1, minRows: 1, maxRows: 5, buttonHeight: 30 };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const text = this.state.comment.trim();\n    if (text === \"\") {\n      return;\n    }\n\n    const { player, onNewMessage, timeStamp } = this.props;\n\n    let msg = {\n      text,\n      player: {\n        _id: player._id,\n        avatar: player.get(\"avatar\"),\n        name: player.get(\"name\") || player._id,\n      },\n    };\n\n    if (timeStamp) {\n      msg = { ...msg, timeStamp };\n    }\n\n    onNewMessage(msg);\n\n    this.setState({ comment: \"\" });\n  };\n\n  handleChange = (e) => {\n    const el = e.currentTarget;\n    const textareaLineHeight = 24;\n    const { minRows, maxRows } = this.state;\n\n    const previousRows = e.target.rows;\n    e.target.rows = minRows; // reset number of rows in textarea\n    const currentRows = ~~(e.target.scrollHeight / textareaLineHeight);\n\n    if (currentRows === previousRows) {\n      e.target.rows = currentRows;\n    }\n\n    if (currentRows >= maxRows) {\n      e.target.rows = maxRows;\n      e.target.scrollTop = e.target.scrollHeight;\n    }\n\n    const usedRows = currentRows < maxRows ? currentRows : maxRows;\n\n    this.setState(\n      {\n        [el.name]: el.value,\n        rows: usedRows,\n      },\n      () => {\n        this.setState({\n          buttonHeight: document.getElementById(\"chat-input\").offsetHeight,\n        });\n      }\n    );\n  };\n\n  render() {\n    const { comment, rows, buttonHeight } = this.state;\n\n    return (\n      <form className=\"chat-footer-form\" onSubmit={this.handleSubmit}>\n        <div className=\"chat-footer\">\n          <textarea\n            id=\"chat-input\"\n            name=\"comment\"\n            className=\"chat-input\"\n            placeholder=\"My message\"\n            value={comment}\n            onKeyPress={(e) => {\n              if (e.key === \"Enter\") {\n                this.handleSubmit(e);\n              }\n            }}\n            rows={rows}\n            onChange={this.handleChange}\n            autoComplete=\"off\"\n          />\n        </div>\n        <button\n            type=\"submit\"\n            form=\"chat-input\"\n            className=\"chat-button-send\"\n            disabled={!comment}\n            onClick={this.handleSubmit}\n          >\n            <img src={`images/icon-enter.png`} width=\"15px\" height=\"17px\"/>\n          </button>\n      </form>\n    );\n  }\n}\n\nFooter.propTypes = {\n  player: PropTypes.object.isRequired,\n  scope: PropTypes.object.isRequired,\n  customKey: PropTypes.string.isRequired,\n  onNewMessage: PropTypes.func,\n  timeStamp: PropTypes.instanceOf(Date),\n};\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { isString } from 'lodash';\n\n\nexport default class Message extends React.Component {\n  renderTime = (timeStamp) => {\n    const hours = new Date(timeStamp).getHours();\n    const minutes = new Date(timeStamp).getMinutes();\n\n    if (!hours || !minutes) {\n      return null;\n    }\n\n    const time = `${hours\n      .toString()\n      .padStart(2, 0)}:${minutes.toString().padStart(2, 0)}`;\n\n    return <div className=\"timeStamp\">{time}</div>;\n  };\n\n  renderName = (isSelf, name) => {\n    return <div className=\"name\">{isSelf ? \"You\" : name}</div>;\n  };\n\n  render() {\n    const { message, player, hideName, hideAvatar, svgAvatar, avatar } = this.props;\n    const { player: msgPlayer, text, timeStamp } = message;\n    const isSelf = player._id == msgPlayer._id;\n    let avatarImg;\n    const useAvatar = !hideAvatar && (svgAvatar || avatar)\n    if (useAvatar && avatar){\n      if (isString(avatar)){\n        console.warn(\"Deprecation: avatar should be an object containing a src or svg property\")\n        avatarImg = <img className=\"avatar\" alt={''} src={avatar} />\n      }\n      else{\n        const avatarSrc = avatar.svg || avatar.src\n        if (avatar.svg) {\n          avatarImg = <div\n            dangerouslySetInnerHTML={{ __html: avatarSrc }}\n            className=\"avatar\"\n          />\n        } else{\n          avatarImg = <img className=\"avatar\" alt={avatar.alt} src={avatar.src} />\n        }\n      }\n    }\n\n\n    return (\n      <div>\n        {!isSelf ? \n          <div className=\"message\" >    \n            <div className=\"other-message-tick-container\">\n                  <img src={`images/net-bubble.png`} width=\"15px\" height=\"10px\"/>\n            </div> \n            <div className={\"text-container-other\"}>\n            {/* {!hideName && this.renderName(isSelf, msgPlayer.name)} */}\n              <div className=\"text\">{text}</div>\n            </div>\n          </div>\n          : \n          <div className=\"message\">    \n            <div className={\"text-container-self\"}>\n              {/* {!hideName && this.renderName(isSelf, msgPlayer.name)} */}\n              <div className=\"text\">{text}</div>\n              {/* {timeStamp &&\n              new Date(timeStamp).getTime() > 0 &&\n              this.renderTime(timeStamp)} */}\n            </div>\n            <div className=\"self-message-tick-container\">\n              <img src={`images/my-bubble.png`} width=\"15px\" height=\"10px\"/>\n            </div> \n          </div>\n        }\n      </div>\n    );\n  }\n}\n\nMessage.propTypes = {\n  message: PropTypes.shape({\n    text: PropTypes.string.isRequired,\n    player: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      avatar: PropTypes.string,\n    }),\n  }).isRequired,\n  self: PropTypes.bool,\n  hideAvatar: PropTypes.bool,\n  hideName: PropTypes.bool,\n  svgAvatar: PropTypes.bool,\n  avatar: PropTypes.shape({\n    svg:  PropTypes.string,\n    src:  PropTypes.string,\n    alt:  PropTypes.string,\n  }),\n};\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\n\nfunction filteredMessages(WrappedComponent) {\n  return class extends React.Component {\n    render() {\n      const { scope, customKey, filter } = this.props;\n      let messages = scope.get(customKey) || [];\n      if (filter) {\n        messages = filter(messages);\n      }\n\n      return <WrappedComponent messages={[...messages]} {...this.props} />;\n    }\n  };\n}\n\nclass Messages extends React.Component {\n  constructor(props) {\n    super(props);\n    this.messagesEl = React.createRef();\n    this.state = {\n      messageLength: 0,\n    };\n  }\n\n  componentDidMount() {\n    this.messagesEl.current.scrollTop = this.messagesEl.current.scrollHeight;\n    this.setState({ messageLength: this.props.messages.length });\n  }\n\n  componentDidUpdate(prevProps) {\n    const { messageLength } = this.state;\n    const {\n      messages: currentMessages,\n      onIncomingMessage,\n      customKey,\n    } = this.props;\n\n    if (\n      this.messagesEl.current !== null &&\n      currentMessages.length > messageLength\n    ) {\n      this.setState({ messageLength: currentMessages.length }, () => {\n        if (onIncomingMessage) {\n          onIncomingMessage(\n            currentMessages.splice(this.state.messageLength),\n            customKey\n          );\n        }\n\n        this.messagesEl.current.scrollTop = this.messagesEl.current.scrollHeight;\n      });\n    }\n  }\n\n  render() {\n    const { player, messages, messageComp: MessageComp, ...rest } = this.props;\n\n    return (\n      <div className=\"messages\" ref={this.messagesEl}>\n        {messages.length === 0 ? (\n          <div className=\"empty\">No messages yet...</div>\n        ) : null}\n        {messages.map((message, i) => {\n          return (\n            <MessageComp key={i} message={message} player={player} {...rest} />\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nMessages.propTypes = {\n  player: PropTypes.object,\n  messageComp: PropTypes.elementType,\n  filter: PropTypes.func,\n  onIncomingMessage: PropTypes.func,\n  hideAvatar: PropTypes.bool,\n  hideName: PropTypes.bool,\n  svgAvatar: PropTypes.bool,\n  customKey: PropTypes.string,\n};\n\nexport default filteredMessages(Messages);\n","import React from \"react\";\n\nimport { Centered } from \"meteor/empirica:core\";\n\nconst Radio = ({ selected, name, value, label, onChange }) => (\n  <label>\n    <input\n      type=\"radio\"\n      name={name}\n      value={value}\n      checked={selected === value}\n      onChange={onChange}\n    />\n    {label}\n  </label>\n);\n\nexport default class ExitSurvey extends React.Component {\n  static stepName = \"ExitSurvey\";\n  state = { age: \"\", gender: \"\", strength: \"\", fair: \"\", feedback: \"\" };\n\n  handleChange = event => {\n    const el = event.currentTarget;\n    this.setState({ [el.name]: el.value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    this.props.onSubmit(this.state);\n  };\n\n  render() {\n    const { player } = this.props;\n    const { age, gender, strength, fair, feedback, education } = this.state;\n\n    return (\n      <Centered>\n        <div className=\"exit-survey\">\n          <h1> Exit Survey </h1>\n          <p>\n            Please submit the following code to receive your bonus:{\" \"}\n            <strong>{player._id}</strong>.\n          </p>\n          <p>\n            You final <strong>bonus</strong> is in addition of the{\" \"}\n            <strong>1 base reward</strong> for completing the HIT.\n          </p>\n          <br />\n          <p>\n            Please answer the following short survey. You do not have to provide\n            any information you feel uncomfortable with.\n          </p>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"form-line\">\n              <div>\n                <label htmlFor=\"age\">Age</label>\n                <div>\n                  <input\n                    id=\"age\"\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"150\"\n                    step=\"1\"\n                    dir=\"auto\"\n                    name=\"age\"\n                    value={age}\n                    onChange={this.handleChange}\n                  />\n                </div>\n              </div>\n              <div>\n                <label htmlFor=\"gender\">Gender</label>\n                <div>\n                  <input\n                    id=\"gender\"\n                    type=\"text\"\n                    dir=\"auto\"\n                    name=\"gender\"\n                    value={gender}\n                    onChange={this.handleChange}\n                    autoComplete=\"off\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            <div>\n              <label>Highest Education Qualification</label>\n              <div>\n                <Radio\n                  selected={education}\n                  name=\"education\"\n                  value=\"high-school\"\n                  label=\"High School\"\n                  onChange={this.handleChange}\n                />\n                <Radio\n                  selected={education}\n                  name=\"education\"\n                  value=\"bachelor\"\n                  label=\"US Bachelor's Degree\"\n                  onChange={this.handleChange}\n                />\n                <Radio\n                  selected={education}\n                  name=\"education\"\n                  value=\"master\"\n                  label=\"Master's or higher\"\n                  onChange={this.handleChange}\n                />\n                <Radio\n                  selected={education}\n                  name=\"education\"\n                  value=\"other\"\n                  label=\"Other\"\n                  onChange={this.handleChange}\n                />\n              </div>\n            </div>\n\n            <div className=\"form-line thirds\">\n              <div>\n                <label htmlFor=\"strength\">\n                  How would you describe your strength in the game?\n                </label>\n                <div>\n                  <textarea\n                    dir=\"auto\"\n                    id=\"strength\"\n                    name=\"strength\"\n                    value={strength}\n                    onChange={this.handleChange}\n                  />\n                </div>\n              </div>\n              <div>\n                <label htmlFor=\"fair\">Do you feel the pay was fair?</label>\n                <div>\n                  <textarea\n                    dir=\"auto\"\n                    id=\"fair\"\n                    name=\"fair\"\n                    value={fair}\n                    onChange={this.handleChange}\n                  />\n                </div>\n              </div>\n              <div>\n                <label htmlFor=\"feedback\">\n                  Feedback, including problems you encountered.\n                </label>\n                <div>\n                  <textarea\n                    dir=\"auto\"\n                    id=\"feedback\"\n                    name=\"feedback\"\n                    value={feedback}\n                    onChange={this.handleChange}\n                  />\n                </div>\n              </div>\n            </div>\n\n            <button type=\"submit\">Submit</button>\n          </form>\n        </div>\n      </Centered>\n    );\n  }\n}\n","import React, { Component } from 'react'\nimport { Meteor } from \"meteor/meteor\";\nimport { Centered } from \"meteor/empirica:core\";\n\nexport default class Sorry extends Component {\n    static stepName = \"Sorry\";\n\n    render() {\n        const { player, game } = this.props;\n        let msg;\n        switch (player.exitStatus) {\n            case \"gameFull\":\n                msg = \"All games you are eligible for have filled up too fast...\";\n                break;\n            case \"gameLobbyTimedOut\":\n                msg = \"There were NOT enough players for the game to start...\";\n                break;\n            case \"playerEndedLobbyWait\":\n                msg =\n                    \"You decided to stop waiting, we are sorry it was too long a wait.\";\n                break;\n            default:\n                msg = \"Unfortunately the Game was cancelled...\";\n                break;\n        }\n        if (player.exitReason === \"failedQuestion\") {\n            msg =\n                \"Unfortunately you did not meet the conditions required to play the game.\";\n        }\n        // Only for dev\n        if (!game && Meteor.isDevelopment) {\n            msg =\n                \"Unfortunately the Game was cancelled because of failed to init Game (only visible in development, check the logs).\";\n        }\n        return (\n            <Centered>\n                <div>\n                    <h4>Sorry!</h4>\n                    <p>Sorry, you were not able to play today! {msg}</p>\n                    <p>\n                        <strong>Please contact the researcher to see if there are more games available.</strong>\n                    </p>\n                </div>\n            </Centered>\n        );\n    }\n}","import React from \"react\";\n\nimport { Centered } from \"meteor/empirica:core\";\n\nexport default class Thanks extends React.Component {\n  static stepName = \"Thanks\";\n  render() {\n    return (\n      <div className=\"finished\">\n        <div>\n          <h4>Finished!</h4>\n          <p>Thank you for participating!</p>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class About extends React.Component {\n  render() {\n    return <div>Here be the presentation of the experiement(ers).</div>;\n  }\n}\n","import \"../../public/css/style.css\";\n\nimport React from 'react';\nimport PlayerTab from './PlayerTab';\n\nexport default class MyNetwork extends React.Component {\n\n    render() {\n        const {game, stage, round, player} = this.props;\n        const network = player.get(\"neighbors\");\n        return (\n            <div className=\"network-container\">\n                HELLO\n                {network.map((otherNodeId) => {\n                    const otherPlayerId = game.players.find(p => p.get(\"nodeId\") === parseInt(otherNodeId)).id;\n                    return (\n                        <PlayerTab playerId={otherPlayerId} />\n                    )\n                })\n                }\n            </div>\n        )\n    }\n}","import React from \"react\";\n\nimport Timer from \"./Timer.jsx\";\n\nexport default class PlayerProfile extends React.Component {\n  renderProfile() {\n    const { player } = this.props;\n    return (\n      <div className=\"profile-score\">\n        <h3>Your Profile</h3>\n        <img src={player.get(\"avatar\")} className=\"profile-avatar\" />\n      </div>\n    );\n  }\n\n  renderScore() {\n    const { player } = this.props;\n    return (\n      <div className=\"profile-score\">\n        <h4>Total score</h4>\n        <span>{(player.get(\"score\") || 0).toFixed(2)}</span>\n      </div>\n    );\n  }\n\n  render() {\n    const { stage } = this.props;\n\n    return (\n      <aside className=\"player-profile\">\n        {this.renderProfile()}\n        {this.renderScore()}\n        <Timer stage={stage} />\n      </aside>\n    );\n  }\n}\n","import React from 'react';\n\nexport default class PlayerTab extends React.Component {\n    render() {\n        const {playerId} = this.props;\n        return (\n            <div>\n                {playerId}\n            </div>\n        )\n    }\n}","import React from \"react\";\n\nexport default class Round extends React.Component {\n\n  render() {\n    const { stage, round, game } = this.props;\n    const result = round.get(\"result\");\n      \n    return (\n        <div>\n            <h1> Your team was {result ? \"CORRECT\" : \"INCORRECT\"} !</h1>\n        </div>\n    );\n  }\n}\n","import React from \"react\";\n\nimport PlayerProfile from \"./PlayerProfile.jsx\";\nimport SocialExposure from \"./SocialExposure.jsx\";\nimport MyNetwork from \"./MyNetwork.jsx\";\nimport StageResult from \"./StageResult.jsx\";\nimport Results from \"./Results.jsx\";\nimport Task from \"./Task.jsx\";\nimport Timer from \"./Timer.jsx\";\n\nexport default class Round extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeChats : [],\n    }\n}\n\n  onOpenChat = (customKey) => {\n\n  }\n\n  onCloseChat = (customKey) => {\n\n  }\n\n  render() {\n    const { stage, round, player, game } = this.props;\n    // const showResults = stage.get(\"showResults\");\n\n    // if (showResults) {\n    //   const result = stage.get(\"result\")\n    //   return (\n    //   <div>\n    //     <StageResult stage={stage} showResults={showResults} result={result} timer={10}/>\n    //   </div>\n    //   )\n    // }\n\n    if (stage.name === \"Result\") {\n      return (\n        <div>\n          <Results game={game} round={round} stage={stage}/> \n          <Timer stage={stage}/>\n        </div>\n      )\n    } else {\n      \n      return (\n        <div className=\"round\">\n          <div className=\"content\">\n            {/* <PlayerProfile player={player} stage={stage} game={game} /> */}\n            <div className=\"task-network-container\">\n              <Task game={game} round={round} stage={stage} player={player} />\n              <MyNetwork game={game} round={round} stage={stage} player={player} />\n            </div>\n            <SocialExposure game={game} round={round} stage={stage} player={player} />\n            {/* <Timer stage={stage} /> */}\n          </div>\n        </div>\n      );\n    }\n  } \n}\n","import \"../chat/style.less\";\n\nimport React from \"react\";\nimport { Chat } from \"@empirica/chat\";\nimport ChatContainer from \"../chat/ChatContainer.js\";\nimport  Message  from \"../chat/Message.js\";\nimport Footer from \"../chat/Footer.js\";\nimport { TimeSync } from \"meteor/mizzao:timesync\";\nimport moment from \"moment\";\nimport Slider from \"meteor/empirica:slider\";\n\n\nexport default class SocialExposure extends React.Component {\n  renderSocialInteraction(otherPlayer) {\n    const value = otherPlayer.round.get(\"value\");\n    return (\n      <div className=\"alter\" key={otherPlayer._id}>\n        <img src={otherPlayer.get(\"avatar\")} className=\"profile-avatar\" />\n        <div className=\"range\">\n          <Slider\n            min={0}\n            max={1}\n            stepSize={0.01}\n            value={value}\n            disabled\n            hideHandleOnEmpty\n          />\n        </div>\n      </div>\n    );\n  }\n\n  logIncomingMessage = (msgs, customKey) => {\n    const {game, round, stage, player} = this.props;\n\n    const messages = round.get(`${customKey}`)\n    const mostRecentMsg = messages[messages.length -1];\n    const receiver = mostRecentMsg.player._id;\n\n    // onIncomingMessage logs the message for both sender and receiver\n    // Only log one copy of the message\n    if (player._id === receiver) {\n      stage.append(\"log\", {\n        verb: \"messageLog\",\n        subjectId: player.id,\n        object: mostRecentMsg,\n        at: moment(TimeSync.serverTime(null, 1000)),\n      })\n    }\n  }\n\n  render() {\n    const { game, round, player } = this.props;\n\n    const network = player.get(\"neighbors\");\n    // reactive time value only updates at 1000 ms\n    const timeStamp = new Date(TimeSync.serverTime(null, 1000));\n\n    if (network.length === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"all-chats-container\">\n        {/* <p>\n          <strong>There are {network.length} other players:</strong>\n        </p> */}\n        {/* {otherPlayers.map(p => this.renderSocialInteraction(p))} */}\n        {/* <Chat player={player} scope={round} /> */}\n\n        {network.map(otherNodeId => {\n          var pairOfPlayers = [player.get(\"nodeId\"), parseInt(otherNodeId)];\n          pairOfPlayers.sort((p1,p2) => p1 - p2);\n          const otherPlayerId = game.players.find(p => p.get(\"nodeId\") === parseInt(otherNodeId)).id\n          return (\n            <div>\n              <h2>{otherPlayerId}</h2>\n              <ChatContainer\n                docked={true}\n                key={otherNodeId}\n                player={player}\n                otherPlayer={otherPlayerId}\n                scope={round}  \n                timeStamp={timeStamp}\n                customClassName={\"ray-chat-container\"}\n                message={Message}\n                footer={Footer}\n                onIncomingMessage={this.logIncomingMessage}           \n                customKey={`${pairOfPlayers[0]}-${pairOfPlayers[1]}`}\n              />\n              {/* <ChatContainer\n                key={otherNodeId}\n                player={player}\n                scope={round}  \n                timeStamp={timeStamp}\n                onIncomingMessage={this.logIncomingMessage}           \n                customKey={`${pairOfPlayers[0]}-${pairOfPlayers[1]}`}\n              /> */}\n            </div>\n            )\n          }\n        )}\n\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class StageResult extends React.Component {\n\n  constructor(props) {\n      super(props);\n      this.state = {\n          counter: props.timer\n      }\n  }\n\n  finishDisplay() {\n    const { stage } = this.props;\n    stage.set(\"resultsShown\", true);\n  }\n\n  render() {\n\n    if (this.props.showResults) {\n        let x = this;\n        let { counter } = this.state;\n\n        let timer = setTimeout(function () {\n            if (counter > 0) {\n                x.setState({counter: counter - 1});\n            } else {\n                x.finishDisplay();\n                // x.props.finishDisplay();\n            }\n        }, 1000);\n\n        return (\n            <div>\n                <h1> Your team was {this.props.result ? \"CORRECT\" : \"INCORRECT\"} !</h1>\n                <h3> SECONDS LEFT: {this.state.counter} </h3>\n            </div>\n            )\n    } else {\n        return <h1> TIME UP </h1>\n    }\n  }\n}\n","import React from 'react';\nexport default class SymbolButton extends React.Component {\n/* \n  @prop id - id of the symbol\n  @prop name - name of the symbol (TESTING PURPOSES)\n*/\n  constructor(props) {\n      super(props);\n  }\n\n  // When button is selected, player sets the id of the button he selected\n  handleClick = () => {\n      const { game, player, stage, name, handleButtonSelect } = this.props;\n      player.set(\"symbolSelected\", name);\n      handleButtonSelect(name);\n      console.log(`${player.get(\"nodeId\")} selected ${name}`);\n  }\n\n  render() {\n    const { game, stage, player, name, selected} = this.props;\n\n\n    return (\n      <div className=\"symbol-container\">\n        <button className={selected ? \"symbolButtonSelected\" : \"symbolButtonUnselected\"} onClick={this.handleClick}>\n            <img src={`images/symbols/tangrams/${name}.png`} height=\"80px\" width=\"80px\"/>\n        </button>\n     </div>\n    );\n  }\n}\n","import React from \"react\";\n\nimport TaskResponse from \"./TaskResponse\";\nimport TaskStimulus from \"./TaskStimulus\";\n\nexport default class Task extends React.Component {\n  render() {\n    const { stage, player, game } = this.props;\n\n    return (\n      <div className=\"task-container\">\n        {/* <TaskStimulus {...this.props} /> */}\n        <TaskResponse {...this.props} />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport Slider from \"meteor/empirica:slider\";\nimport { TimeSync } from \"meteor/mizzao:timesync\";\nimport moment from \"moment\";\n\nimport SymbolButton from \"./SymbolButton.jsx\";\n\nexport default class TaskResponse extends React.Component {\n  constructor(props) {\n    super(props);  \n    this.state = {\n      selectedButton: props.player.get(\"symbolSelected\") | \"\",\n    }\n  }\n\n  handleSubmit = event => {\n    const { stage, player, game } = this.props;\n\n    event.preventDefault();\n\n    stage.append(\"log\", {\n      verb: \"playerSubmitted\",\n      subjectId: player.id,\n      object: true,\n      at: moment(TimeSync.serverTime(null, 1000)),\n    })\n    player.set(\"submitted\", true);\n  };\n\n  handleReconsider = event => {\n    const { stage, player, game } = this.props;\n\n    event.preventDefault();\n    console.log(\"Reconsidering...\");\n    player.set(\"submitted\", false);\n\n    stage.append(\"log\", {\n      verb: \"playerReconsidered\",\n      subjectId: player.id,\n      object: true,\n      at: moment(TimeSync.serverTime(null, 1000)),\n    })\n\n    // this.setState({selectedButton: \"\"});\n\n  }\n\n  handleButtonSelect= (symbolName) => {\n    const { stage, player, game } = this.props;\n    // stage.set(\"selectedButton\", symbolName);\n    this.setState({selectedButton: symbolName});\n\n    stage.append(\"log\", {\n      verb: \"selectingSymbol\",\n      subjectId: player.id,\n      object: symbolName,\n      at: moment(TimeSync.serverTime(null, 1000)),\n    });\n\n  }\n\n  renderSubmitted() {\n    return (\n      <div>\n        <h5>Waiting on other players...</h5>\n        Please wait until all players are ready. If you would like to reconsider your answer, click on the reconsider button.\n      </div>\n    );\n  }\n\n  renderSlider() {\n    const { player } = this.props;\n    const value = player.round.get(\"value\");\n    return (\n      <Slider\n        min={0}\n        max={1}\n        stepSize={0.01}\n        labelStepSize={0.25}\n        onChange={this.handleChange}\n        value={value}\n        hideHandleOnEmpty\n      />\n    );\n  }\n\n  renderButton() {\n    const { stage, player, game } = this.props;\n    // const task = stage.get(\"task\");\n    const selectedSymbol = player.get(\"symbolSelected\")\n    const task = player.get(`${stage.displayName}`)\n    return (\n      task.map((symbol) => \n      <SymbolButton \n        key={symbol}\n        name={symbol}\n        handleButtonSelect={(symbolName) => this.handleButtonSelect(symbolName)}\n        selected={selectedSymbol === symbol}\n        stage={stage}\n        game={game}\n        player={player}\n      />\n      )\n    );\n  }\n\n  render() {\n    const { stage, round, player, game } = this.props;\n\n\n    const selected = player.get(\"symbolSelected\")\n    const submitted = player.get(\"submitted\");\n\n    // Create a list of dots to show how many players submitted\n    const playersSubmitted = round.get(\"numPlayersSubmitted\");\n    const playersNotSubmitted = game.players.length - playersSubmitted;\n    let filledDots = [];\n    let unfilledDots = [];\n    for (let i = 0; i < playersSubmitted; i++) {\n      filledDots.push(<span className=\"filled-dot\"></span>)\n    }\n    for (let i = 0; i < playersNotSubmitted; i++) {\n      unfilledDots.push(<span className=\"empty-dot\"></span>)\n    }\n\n    // If the player already submitted, don't show the slider or submit button\n    \n    const disabled = player.get(\"submitted\");\n    return (\n      <div className=\"task-response-container\">\n        <div className=\"task-response-header\">\n          <p className=\"header\"> MY CARD</p>\n          <div className=\"submission-dots-container\">\n            <p className=\"header\"> SUBMITTED ANSWERS </p>\n            {filledDots}\n            {unfilledDots}\n          </div>\n        </div>\n        <div className=\"task-response-body\">\n          <div className=\"submission-message-container\">\n            {submitted ? this.renderSubmitted() : \"\"}\n          </div>\n          <div className=\"task-response\">\n              {this.renderButton()}\n          </div>\n        </div>\n        {/* {!submitted ? \n            <form onSubmit={this.handleSubmit}>\n              <button className=\"button button-submit\" disabled={submitted ? true : false} type=\"submit\"> Submit </button> \n            </form>\n          :\n            <button className=\"button button-b button-reconsider\" disabled={!submitted ? true : false} onClick={this.handleReconsider}> Reconsider </button> \n        } */}\n          <div className=\"button-container\">\n              <form onSubmit={this.handleSubmit} style={{opacity: submitted ? 0 : 1}}>\n                <button \n                  className={!selected || submitted ? \"arrow-button button-submit-disabled\" : \"arrow-button button-submit\"} \n                  disabled= {!selected || submitted ? true : false} type=\"submit\"> Submit </button> \n              </form>\n              <form onSubmit={this.handleReconsider} style={{opacity: !submitted ? 0 : 1}}>\n                <button className=\"arrow-button button-reconsider\" disabled={!submitted ? true : false}> Reconsider </button> \n              </form>\n          </div>\n\n        </div>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class TaskStimulus extends React.Component {\n  render() {\n    const { stage, player } = this.props;\n\n    return (\n      <div className=\"task-stimulus\">\n        Work with your teammates to find the common symbol.\n      </div>\n    );\n  }\n}\n","import { StageTimeWrapper } from \"meteor/empirica:core\";\nimport React from \"react\";\n\nclass timer extends React.Component {\n  render() {\n    const { remainingSeconds } = this.props;\n    const classes = [\"timer\"];\n    if (remainingSeconds <= 5) {\n      classes.push(\"lessThan5\");\n    } else if (remainingSeconds <= 10) {\n      classes.push(\"lessThan10\");\n    }\n\n    return (\n      <div className={classes.join(\" \")}>\n        <h4>Timer</h4>\n        <span className=\"seconds\">{remainingSeconds}</span>\n      </div>\n    );\n  }\n}\n\nexport default (Timer = StageTimeWrapper(timer));\n","import React from \"react\";\n\nimport { Centered, ConsentButton } from \"meteor/empirica:core\";\n\nexport default class Consent extends React.Component {\n  render() {\n    return (\n      <Centered>\n        <div className=\"consent\">\n          <h1> Consent Form </h1>\n          <p>\n            This experiment is part of a MIT scientific project. Your decision\n            to participate in this experiment is entirely voluntary. There are\n            no known or anticipated risks to participating in this experiment.\n            There is no way for us to identify you. The only information we will\n            have, in addition to your responses, is the timestamps of your\n            interactions with our site. The results of our research may be\n            presented at scientific meetings or published in scientific\n            journals. Clicking on the \"AGREE\" button indicates that you are at\n            least 18 years of age, and agree to participate voluntary.\n          </p>\n          <br />\n          <ConsentButton text=\"I AGREE\" />\n        </div>\n      </Centered>\n    );\n  }\n}\n","import React from \"react\";\n\nimport { Centered } from \"meteor/empirica:core\";\n\nexport default class InstructionStepOne extends React.Component {\n  render() {\n    const { hasPrev, hasNext, onNext, onPrev, game } = this.props;\n\n    return (\n      <Centered>\n        <div className=\"instructions\">\n          <h1> Instructions 1 </h1>\n          <p>\n            Lorem ipsum dolor sit amet consectetur, adipisicing elit. Optio,\n            animi? Quae autem asperiores officiis voluptatum fuga recusandae\n            minima! Animi pariatur ex sapiente laborum. Ipsa quo quia ab,\n            veritatis et labore.\n          </p>\n\n          <p>\n            <button type=\"button\" onClick={onPrev} disabled={!hasPrev}>\n              Previous\n            </button>\n            <button type=\"button\" onClick={onNext} disabled={!hasNext}>\n              Next\n            </button>\n          </p>\n        </div>\n      </Centered>\n    );\n  }\n}\n","import React from \"react\";\n\nimport { Centered } from \"meteor/empirica:core\";\n\nexport default class InstructionStepTwo extends React.Component {\n  render() {\n    const { hasPrev, hasNext, onNext, onPrev } = this.props;\n    return (\n      <Centered>\n        <div className=\"instructions\">\n          <h1> Instructions 2 </h1>\n          <p>\n            Lorem ipsum dolor sit amet consectetur, adipisicing elit. Optio,\n            animi? Quae autem asperiores officiis voluptatum fuga recusandae\n            minima! Animi pariatur ex sapiente laborum. Ipsa quo quia ab,\n            veritatis et labore.\n          </p>\n\n          <p>\n            <button type=\"button\" onClick={onPrev} disabled={!hasPrev}>\n              Previous\n            </button>\n            <button type=\"button\" onClick={onNext} disabled={!hasNext}>\n              Next\n            </button>\n          </p>\n        </div>\n      </Centered>\n    );\n  }\n}\n","import React, { Component } from 'react'\nimport { Centered } from \"meteor/empirica:core\";\n\nexport default class NewPlayer extends Component {\n  state = { id: \"\" };\n\n  handleUpdate = event => {\n    const { value, name } = event.currentTarget;\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    const { handleNewPlayer } = this.props;\n    const { id } = this.state;\n    handleNewPlayer(id);\n  };\n\n  render() {\n    const { id } = this.state;\n\n    return (\n      <Centered>\n        <div >\n          <form onSubmit={this.handleSubmit}>\n            <h1>Identification</h1>\n\n            <p>\n              Please enter your id:\n                        </p>\n\n            <input\n              dir=\"auto\"\n              type=\"text\"\n              name=\"id\"\n              id=\"id\"\n              value={id}\n              onChange={this.handleUpdate}\n              required\n              autoComplete=\"off\"\n            />\n\n            <br />\n\n            <p>\n              <button type=\"submit\">Submit</button>\n            </p>\n\n          </form>\n        </div>\n      </Centered>\n    )\n  }\n}","import React from \"react\";\n\nimport { Centered } from \"meteor/empirica:core\";\n\nexport default class Quiz extends React.Component {\n  state = { sum: \"\", horse: \"\" };\n\n  handleChange = event => {\n    const el = event.currentTarget;\n    this.setState({ [el.name]: el.value.trim().toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    if (this.state.sum !== \"4\" || this.state.horse !== \"white\") {\n      alert(\"Incorrect! Read the instructions, and please try again.\");\n    } else {\n      this.props.onNext();\n    }\n  };\n\n  render() {\n    const { hasPrev, hasNext, onNext, onPrev } = this.props;\n    const { sum, horse } = this.state;\n    return (\n      <Centered>\n        <div className=\"quiz\">\n          <h1> Quiz </h1>\n          <form onSubmit={this.handleSubmit}>\n            <p>\n              <label htmlFor=\"sum\">What is 2+2?</label>\n              <input\n                type=\"text\"\n                dir=\"auto\"\n                id=\"sum\"\n                name=\"sum\"\n                placeholder=\"e.g. 3\"\n                value={sum}\n                onChange={this.handleChange}\n                autoComplete=\"off\"\n                required\n              />\n            </p>\n            <p>\n              <label htmlFor=\"horse\">\n                What color was Napoleon's white horse?\n              </label>\n              <input\n                type=\"text\"\n                dir=\"auto\"\n                id=\"horse\"\n                name=\"horse\"\n                placeholder=\"e.g. brown\"\n                value={horse}\n                onChange={this.handleChange}\n                autoComplete=\"off\"\n                required\n              />\n            </p>\n\n            <p>\n              <button type=\"button\" onClick={onPrev} disabled={!hasPrev}>\n                Back to instructions\n              </button>\n              <button type=\"submit\">Submit</button>\n            </p>\n          </form>\n        </div>\n      </Centered>\n    );\n  }\n}\n","import Empirica from \"meteor/empirica:core\";\nimport { render } from \"react-dom\";\nimport ExitSurvey from \"./exit/ExitSurvey\";\nimport Thanks from \"./exit/Thanks\";\nimport Sorry from \"./exit/Sorry\";\nimport About from \"./game/About\";\nimport Round from \"./game/Round\";\nimport Consent from \"./intro/Consent\";\nimport InstructionStepOne from \"./intro/InstructionStepOne\";\nimport InstructionStepTwo from \"./intro/InstructionStepTwo\";\nimport Quiz from \"./intro/Quiz\";\nimport NewPlayer from \"./intro/NewPlayer\";\n\n\n// Set the About Component you want to use for the About dialog (optional).\nEmpirica.about(About);\n\n// Set the Consent Component you want to present players (optional).\nEmpirica.consent(Consent);\n\n// Set the component for getting the player id (optional)\nEmpirica.newPlayer(NewPlayer);\n\n// Introduction pages to show before they play the game (optional).\n// At this point they have been assigned a treatment. You can return\n// different instruction steps depending on the assigned treatment.\nEmpirica.introSteps((game, treatment) => {\n  const steps = [InstructionStepOne];\n  if (treatment.playerCount > 1) {\n    steps.push(InstructionStepTwo);\n  }\n  steps.push(Quiz);\n  return steps;\n});\n\n// The Round component containing the game UI logic.\n// This is where you will be doing the most development.\n// See client/game/Round.jsx to learn more.\nEmpirica.round(Round);\n\n// End of Game pages. These may vary depending on player or game information.\n// For example we can show the score of the user, or we can show them a\n// different message if they actually could not participate the game (timed\n// out), etc.\n// The last step will be the last page shown to user and will be shown to the\n// user if they come back to the website.\n// If you don't return anything, or do not define this function, a default\n// exit screen will be shown.\nEmpirica.exitSteps((game, player) => {\n  if (\n    !game ||\n    (player.exitStatus &&\n      player.exitStatus !== \"finished\" &&\n      player.exitReason !== \"playerQuit\")\n  ) {\n    return [Sorry];\n  }\n  return [ExitSurvey, Thanks];\n});\n\n// Start the app render tree.\n// NB: This must be called after any other Empirica calls (Empirica.round(),\n// Empirica.introSteps(), ...).\n// It is required and usually does not need changing.\nMeteor.startup(() => {\n  render(Empirica.routes(), document.getElementById(\"app\"));\n});\n"]}}]